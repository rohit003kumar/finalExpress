const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HeroSection-D3NyAEjq.js","assets/vendor-C35Cq8M9.js","assets/MissionSection-i_yZLZAL.js","assets/ServicesSection-DJX3mKU9.js"])))=>i.map(i=>d[i]);
import{r as Kc,a as Yc,g as Xc,b as i,u as zi,c as Ft,L as Nt,d as Ss,R as Ui,e as Qc,f as ed,h as We,B as td}from"./vendor-C35Cq8M9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var pr={exports:{}},Rs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _a;function sd(){if(_a)return Rs;_a=1;var s=Kc(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var u,f={},x=null,m=null;h!==void 0&&(x=""+h),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(m=d.ref);for(u in d)r.call(d,u)&&!o.hasOwnProperty(u)&&(f[u]=d[u]);if(c&&c.defaultProps)for(u in d=c.defaultProps,d)f[u]===void 0&&(f[u]=d[u]);return{$$typeof:t,type:c,key:x,ref:m,props:f,_owner:a.current}}return Rs.Fragment=n,Rs.jsx=l,Rs.jsxs=l,Rs}var za;function nd(){return za||(za=1,pr.exports=sd()),pr.exports}var e=nd(),bn={},Ua;function rd(){if(Ua)return bn;Ua=1;var s=Yc();return bn.createRoot=s.createRoot,bn.hydrateRoot=s.hydrateRoot,bn}var ad=rd();const od=Xc(ad),id="modulepreload",ld=function(s){return"/"+s},qa={},Cs=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(n.map(h=>{if(h=ld(h),h in qa)return;qa[h]=!0;const u=h.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${f}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":id,u||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),u)return new Promise((m,p)=>{x.addEventListener("load",m),x.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},qi=()=>{const[s,t]=i.useState(!1),[n,r]=i.useState(!1),[a,o]=i.useState(!1),[l,c]=i.useState(null),d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),h=/Android/i.test(navigator.userAgent),u=/iPhone|iPad|iPod/i.test(navigator.userAgent);return i.useEffect(()=>{const m=()=>{const w=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;r(w);const S=w||localStorage.getItem("pwa-installed")==="true";t(S)};m();const p=w=>{console.log("âœ… beforeinstallprompt fired"),w.preventDefault(),c(w),o(!0)},b=()=>{console.log("âœ… App was installed"),t(!0),o(!1),localStorage.setItem("pwa-installed","true")};window.addEventListener("beforeinstallprompt",p),window.addEventListener("appinstalled",b);const g=setTimeout(m,1e3);return()=>{window.removeEventListener("beforeinstallprompt",p),window.removeEventListener("appinstalled",b),clearTimeout(g)}},[]),{isInstalled:s,isStandalone:n,canInstall:a,deferredPrompt:l,isMobile:d,isAndroid:h,isIOS:u,installPWA:async()=>{if(!l)throw new Error("PWA install prompt not available");l.prompt();const{outcome:m}=await l.userChoice;m==="accepted"?(console.log("âœ… User accepted the PWA install"),t(!0),o(!1),localStorage.setItem("pwa-installed","true")):console.log("âŒ User dismissed the PWA install"),c(null)},downloadAPK:()=>{const m=document.createElement("a");m.href="/app-debug.apk",m.download="DhobiXpress.apk",m.target="_blank",document.body.appendChild(m),m.click(),document.body.removeChild(m)}}},cd=()=>(qi(),null);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(s,t)=>{const n=i.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,...h},u)=>i.createElement("svg",{ref:u,...dd,width:a,height:a,stroke:r,strokeWidth:l?Number(o)*24/Number(a):o,className:["lucide",`lucide-${ud(s)}`,c].join(" "),...h},[...t.map(([f,x])=>i.createElement(f,x)),...Array.isArray(d)?d:[d]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=me("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=me("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=me("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=me("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=me("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=me("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=me("WashingMachine",[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ja=()=>{const{isInstalled:s,canInstall:t,isAndroid:n,isIOS:r,installPWA:a,downloadAPK:o}=qi();if(s)return null;const l=async()=>{try{await a()}catch{alert("PWA install not available. You can download the Android APK instead.")}};return e.jsxs("div",{className:"flex flex-col space-y-2",children:[t&&e.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"ðŸ“± Install PWA"}),(n||!t)&&e.jsx("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"ðŸ“² Download Android App"}),r&&!t&&e.jsx("div",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded",children:"ðŸ“± Tap Share â†’ Add to Home Screen to install"})]})};function Vs({searchQuery:s,onSearchChange:t,cartItemCount:n,onCartClick:r}){const[a,o]=i.useState(!1),l=zi(),[c,d]=i.useState(!1);Ft(),i.useEffect(()=>{d(!!localStorage.getItem("token"))},[l]);const h=()=>{o(!1)},u=()=>{localStorage.removeItem("token"),d(!1),window.location.href="/"},f=[{to:"/",label:"Home"},{to:"/about",label:"About"},{to:"/contact",label:"Contact"},{to:"/orders",label:"Order"}];return e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(Nt,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(Ys,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-600"}),e.jsx("h1",{className:"text-lg md:text-xl font-bold text-gray-900",children:"DhobiXpress"})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md ml-8",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(Ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search by product or Dhobi name...",value:s,onChange:x=>t(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[f.map(x=>e.jsx(Nt,{to:x.to,className:"text-slate-700 hover:text-blue-600",children:x.label},x.to)),c?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{to:"/customerdashboard",className:"text-slate-700 hover:text-blue-600",children:"Dashboard"}),e.jsx("button",{onClick:u,className:"text-slate-700 hover:text-red-600",children:"Logout"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Nt,{to:"/signin",className:"flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Kr,{className:"w-4 h-4 mr-1"})," Sign In"]}),e.jsxs(Nt,{to:"/signup",className:"flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(kd,{className:"w-4 h-4 mr-1"})," Sign Up"]})]}),e.jsxs("button",{onClick:r,className:"relative p-2 text-gray-700 hover:text-blue-600",children:[e.jsx(Wa,{className:"w-5 h-5"}),n&&n>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:n})]}),e.jsx(Ja,{})]}),e.jsx("button",{onClick:()=>o(!a),className:"md:hidden text-gray-800","aria-label":"Toggle menu","aria-expanded":a,children:a?e.jsx(St,{className:"h-6 w-6"}):e.jsx(Gi,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"md:hidden mt-2 mb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:s,onChange:x=>t(x.target.value),placeholder:"Search services or Dhobi...",className:"border rounded pl-10 pr-3 py-2 w-full placeholder:text-gray-400"})]})}),a&&e.jsx("div",{className:"md:hidden bg-white p-4 shadow-lg rounded-md",children:e.jsxs("ul",{className:"space-y-4",children:[f.map(x=>e.jsx("li",{children:e.jsx(Nt,{to:x.to,onClick:h,className:"block text-slate-700 hover:text-blue-600",children:x.label})},x.to)),c?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(Nt,{to:"/customerdashboard",onClick:h,className:"block text-slate-700 hover:text-blue-600",children:"Dashboard"})}),e.jsx("li",{children:e.jsx("button",{onClick:u,className:"block text-slate-700 hover:text-red-600",children:"Logout"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(Nt,{to:"/signin",onClick:h,className:"block text-slate-700 hover:text-blue-600",children:"Sign In"})}),e.jsx("li",{children:e.jsx(Nt,{to:"/signup",onClick:h,className:"block text-slate-700 hover:text-blue-600",children:"Sign Up"})})]}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>{r&&r(),o(!1)},className:"relative flex items-center text-slate-700 hover:text-blue-600",children:[e.jsx(Wa,{className:"w-5 h-5 mr-1"})," Cart",n&&n>0&&e.jsx("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:n})]})}),e.jsx("li",{children:e.jsx(Ja,{})})]})})]})})}let Ld={data:""},Ed=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||Ld,Pd=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Md=/\/\*[^]*?\*\/|  +/g,Ka=/\n+/g,Ht=(s,t)=>{let n="",r="",a="";for(let o in s){let l=s[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Ht(l,o):o+"{"+Ht(l,o[1]=="k"?"":t)+"}":typeof l=="object"?r+=Ht(l,t?t.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ht.p?Ht.p(o,l):o+":"+l+";")}return n+(t&&a?t+"{"+a+"}":a)+r},It={},Qi=s=>{if(typeof s=="object"){let t="";for(let n in s)t+=n+Qi(s[n]);return t}return s},Ad=(s,t,n,r,a)=>{let o=Qi(s),l=It[o]||(It[o]=(d=>{let h=0,u=11;for(;h<d.length;)u=101*u+d.charCodeAt(h++)>>>0;return"go"+u})(o));if(!It[l]){let d=o!==s?s:(h=>{let u,f,x=[{}];for(;u=Pd.exec(h.replace(Md,""));)u[4]?x.shift():u[3]?(f=u[3].replace(Ka," ").trim(),x.unshift(x[0][f]=x[0][f]||{})):x[0][u[1]]=u[2].replace(Ka," ").trim();return x[0]})(s);It[l]=Ht(a?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&It.g?It.g:null;return n&&(It.g=It[l]),((d,h,u,f)=>{f?h.data=h.data.replace(f,d):h.data.indexOf(d)===-1&&(h.data=u?d+h.data:h.data+d)})(It[l],t,r,c),l},Od=(s,t,n)=>s.reduce((r,a,o)=>{let l=t[o];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Ht(c,""):c===!1?"":c}return r+a+(l??"")},"");function Xn(s){let t=this||{},n=s.call?s(t.p):s;return Ad(n.unshift?n.raw?Od(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,Ed(t.target),t.g,t.o,t.k)}let el,Or,Dr;Xn.bind({g:1});let Rt=Xn.bind({k:1});function Dd(s,t,n,r){Ht.p=t,el=s,Or=n,Dr=r}function Yt(s,t){let n=this||{};return function(){let r=arguments;function a(o,l){let c=Object.assign({},o),d=c.className||a.className;n.p=Object.assign({theme:Or&&Or()},c),n.o=/ *go\d+/.test(d),c.className=Xn.apply(n,r)+(d?" "+d:"");let h=s;return s[0]&&(h=c.as||s,delete c.as),Dr&&h[0]&&Dr(c),el(h,c)}return a}}var Td=s=>typeof s=="function",Tr=(s,t)=>Td(s)?s(t):s,Id=(()=>{let s=0;return()=>(++s).toString()})(),Bd=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),Rd=20,tl=(s,t)=>{switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,Rd)};case 1:return{...s,toasts:s.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return tl(s,{type:s.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...s,toasts:s.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let a=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Fd=[],fr={toasts:[],pausedAt:void 0},Yr=s=>{fr=tl(fr,s),Fd.forEach(t=>{t(fr)})},$d=(s,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Id()}),Xs=s=>(t,n)=>{let r=$d(t,s,n);return Yr({type:2,toast:r}),r.id},Ge=(s,t)=>Xs("blank")(s,t);Ge.error=Xs("error");Ge.success=Xs("success");Ge.loading=Xs("loading");Ge.custom=Xs("custom");Ge.dismiss=s=>{Yr({type:3,toastId:s})};Ge.remove=s=>Yr({type:4,toastId:s});Ge.promise=(s,t,n)=>{let r=Ge.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof s=="function"&&(s=s()),s.then(a=>{let o=t.success?Tr(t.success,a):void 0;return o?Ge.success(o,{id:r,...n,...n==null?void 0:n.success}):Ge.dismiss(r),a}).catch(a=>{let o=t.error?Tr(t.error,a):void 0;o?Ge.error(o,{id:r,...n,...n==null?void 0:n.error}):Ge.dismiss(r)}),s};var _d=Rt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zd=Rt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ud=Rt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qd=Yt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_d} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zd} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ud} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hd=Rt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vd=Yt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Hd} 1s linear infinite;
`,Wd=Rt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Gd=Rt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Zd=Yt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wd} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Gd} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Jd=Yt("div")`
  position: absolute;
`,Kd=Yt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Yd=Rt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xd=Yt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Yd} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Qd=({toast:s})=>{let{icon:t,type:n,iconTheme:r}=s;return t!==void 0?typeof t=="string"?i.createElement(Xd,null,t):t:n==="blank"?null:i.createElement(Kd,null,i.createElement(Vd,{...r}),n!=="loading"&&i.createElement(Jd,null,n==="error"?i.createElement(qd,{...r}):i.createElement(Zd,{...r})))},eu=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tu=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,su="0%{opacity:0;} 100%{opacity:1;}",nu="0%{opacity:1;} 100%{opacity:0;}",ru=Yt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,au=Yt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ou=(s,t)=>{let n=s.includes("top")?1:-1,[r,a]=Bd()?[su,nu]:[eu(n),tu(n)];return{animation:t?`${Rt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Rt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};i.memo(({toast:s,position:t,style:n,children:r})=>{let a=s.height?ou(s.position||t||"top-center",s.visible):{opacity:0},o=i.createElement(Qd,{toast:s}),l=i.createElement(au,{...s.ariaProps},Tr(s.message,s));return i.createElement(ru,{className:s.className,style:{...a,...n,...s.style}},typeof r=="function"?r({icon:o,message:l}):i.createElement(i.Fragment,null,o,l))});Dd(i.createElement);Xn`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;function iu({service:s,onAddToCart:t}){var b;const[n,r]=i.useState(0),[a,o]=i.useState([]),[l,c]=i.useState(!1),d=!!localStorage.getItem("token"),h=g=>{if(!d){Ge.error("Please log in as a customer to add products");return}const w=Math.max(0,n+g);r(w),w===0&&o([])},u=g=>{o(w=>w.includes(g)?w.filter(S=>S!==g):[...w,g])},f=()=>a.reduce((w,S)=>{var N;const P=(N=s.options)==null?void 0:N.find(v=>v.id===S);return w+((P==null?void 0:P.price)||0)},0)*n,x=()=>{if(!d){Ge.error("Please log in to add items to cart");return}n>0&&a.length>0&&(t(s,n,a),o([]),c(!1))},m=n>0&&a.length>0,p=s.options&&s.options.length>0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsx("div",{className:"w-full h-48 overflow-hidden rounded-t-lg",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900 mb-2",children:s.category}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Washerman: ",(b=s.washerman)==null?void 0:b.name]})]}),p&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>c(!l),className:"flex items-center justify-between w-full p-2 md:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700",children:l?"Hide Services":"Select Services *"}),l?e.jsx(Gr,{className:"w-4 h-4 text-gray-500"}):e.jsx(Wr,{className:"w-4 h-4 text-gray-500"})]}),l&&e.jsx("div",{className:"mt-3 space-y-2",children:s.options.map(g=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:a.includes(g.id),onChange:()=>u(g.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:!d}),e.jsxs("div",{className:"flex-1 flex justify-between",children:[e.jsx("span",{className:"text-xs md:text-sm text-gray-700",children:g.name}),e.jsxs("span",{className:"text-xs md:text-sm font-medium text-blue-600",children:["â‚¹",g.price]})]})]},g.id))}),n>0&&a.length===0&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-xs text-red-600",children:"Please select at least one service to continue"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3",children:[e.jsx("button",{onClick:()=>h(-1),disabled:n===0,className:"p-1.5 md:p-2 rounded-full border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:e.jsx(Zi,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx("span",{className:"text-base md:text-lg font-semibold w-6 md:w-8 text-center",children:n}),e.jsx("button",{onClick:()=>h(1),className:"p-1.5 md:p-2 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors",children:e.jsx(Wt,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),n>0&&f()>0&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-base md:text-lg font-bold text-blue-600",children:["â‚¹",f()]})]})]}),n>0&&e.jsx("button",{onClick:x,disabled:!m,className:`w-full mt-4 py-2 px-4 rounded-lg font-medium text-sm md:text-base transition-colors ${m?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:!m&&a.length===0?"Select Services to Add to Cart":"Add to Cart"})]})]})}function sl(s,t){return function(){return s.apply(t,arguments)}}const{toString:lu}=Object.prototype,{getPrototypeOf:Xr}=Object,{iterator:Qn,toStringTag:nl}=Symbol,er=(s=>t=>{const n=lu.call(t);return s[n]||(s[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ct=s=>(s=s.toLowerCase(),t=>er(t)===s),tr=s=>t=>typeof t===s,{isArray:ks}=Array,Ws=tr("undefined");function cu(s){return s!==null&&!Ws(s)&&s.constructor!==null&&!Ws(s.constructor)&&lt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const rl=Ct("ArrayBuffer");function du(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&rl(s.buffer),t}const uu=tr("string"),lt=tr("function"),al=tr("number"),sr=s=>s!==null&&typeof s=="object",hu=s=>s===!0||s===!1,Sn=s=>{if(er(s)!=="object")return!1;const t=Xr(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(nl in s)&&!(Qn in s)},mu=Ct("Date"),pu=Ct("File"),gu=Ct("Blob"),fu=Ct("FileList"),xu=s=>sr(s)&&lt(s.pipe),vu=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||lt(s.append)&&((t=er(s))==="formdata"||t==="object"&&lt(s.toString)&&s.toString()==="[object FormData]"))},bu=Ct("URLSearchParams"),[yu,wu,ju,Nu]=["ReadableStream","Request","Response","Headers"].map(Ct),Su=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qs(s,t,{allOwnKeys:n=!1}={}){if(s===null||typeof s>"u")return;let r,a;if(typeof s!="object"&&(s=[s]),ks(s))for(r=0,a=s.length;r<a;r++)t.call(null,s[r],r,s);else{const o=n?Object.getOwnPropertyNames(s):Object.keys(s),l=o.length;let c;for(r=0;r<l;r++)c=o[r],t.call(null,s[c],c,s)}}function ol(s,t){t=t.toLowerCase();const n=Object.keys(s);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,il=s=>!Ws(s)&&s!==as;function Ir(){const{caseless:s}=il(this)&&this||{},t={},n=(r,a)=>{const o=s&&ol(t,a)||a;Sn(t[o])&&Sn(r)?t[o]=Ir(t[o],r):Sn(r)?t[o]=Ir({},r):ks(r)?t[o]=r.slice():t[o]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Qs(arguments[r],n);return t}const Cu=(s,t,n,{allOwnKeys:r}={})=>(Qs(t,(a,o)=>{n&&lt(a)?s[o]=sl(a,n):s[o]=a},{allOwnKeys:r}),s),ku=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Lu=(s,t,n,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),n&&Object.assign(s.prototype,n)},Eu=(s,t,n,r)=>{let a,o,l;const c={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),o=a.length;o-- >0;)l=a[o],(!r||r(l,s,t))&&!c[l]&&(t[l]=s[l],c[l]=!0);s=n!==!1&&Xr(s)}while(s&&(!n||n(s,t))&&s!==Object.prototype);return t},Pu=(s,t,n)=>{s=String(s),(n===void 0||n>s.length)&&(n=s.length),n-=t.length;const r=s.indexOf(t,n);return r!==-1&&r===n},Mu=s=>{if(!s)return null;if(ks(s))return s;let t=s.length;if(!al(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=s[t];return n},Au=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Xr(Uint8Array)),Ou=(s,t)=>{const r=(s&&s[Qn]).call(s);let a;for(;(a=r.next())&&!a.done;){const o=a.value;t.call(s,o[0],o[1])}},Du=(s,t)=>{let n;const r=[];for(;(n=s.exec(t))!==null;)r.push(n);return r},Tu=Ct("HTMLFormElement"),Iu=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Ya=(({hasOwnProperty:s})=>(t,n)=>s.call(t,n))(Object.prototype),Bu=Ct("RegExp"),ll=(s,t)=>{const n=Object.getOwnPropertyDescriptors(s),r={};Qs(n,(a,o)=>{let l;(l=t(a,o,s))!==!1&&(r[o]=l||a)}),Object.defineProperties(s,r)},Ru=s=>{ll(s,(t,n)=>{if(lt(s)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=s[n];if(lt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fu=(s,t)=>{const n={},r=a=>{a.forEach(o=>{n[o]=!0})};return ks(s)?r(s):r(String(s).split(t)),n},$u=()=>{},_u=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function zu(s){return!!(s&&lt(s.append)&&s[nl]==="FormData"&&s[Qn])}const Uu=s=>{const t=new Array(10),n=(r,a)=>{if(sr(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const o=ks(r)?[]:{};return Qs(r,(l,c)=>{const d=n(l,a+1);!Ws(d)&&(o[c]=d)}),t[a]=void 0,o}}return r};return n(s,0)},qu=Ct("AsyncFunction"),Hu=s=>s&&(sr(s)||lt(s))&&lt(s.then)&&lt(s.catch),cl=((s,t)=>s?setImmediate:t?((n,r)=>(as.addEventListener("message",({source:a,data:o})=>{a===as&&o===n&&r.length&&r.shift()()},!1),a=>{r.push(a),as.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lt(as.postMessage)),Vu=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||cl,Wu=s=>s!=null&&lt(s[Qn]),O={isArray:ks,isArrayBuffer:rl,isBuffer:cu,isFormData:vu,isArrayBufferView:du,isString:uu,isNumber:al,isBoolean:hu,isObject:sr,isPlainObject:Sn,isReadableStream:yu,isRequest:wu,isResponse:ju,isHeaders:Nu,isUndefined:Ws,isDate:mu,isFile:pu,isBlob:gu,isRegExp:Bu,isFunction:lt,isStream:xu,isURLSearchParams:bu,isTypedArray:Au,isFileList:fu,forEach:Qs,merge:Ir,extend:Cu,trim:Su,stripBOM:ku,inherits:Lu,toFlatObject:Eu,kindOf:er,kindOfTest:Ct,endsWith:Pu,toArray:Mu,forEachEntry:Ou,matchAll:Du,isHTMLForm:Tu,hasOwnProperty:Ya,hasOwnProp:Ya,reduceDescriptors:ll,freezeMethods:Ru,toObjectSet:Fu,toCamelCase:Iu,noop:$u,toFiniteNumber:_u,findKey:ol,global:as,isContextDefined:il,isSpecCompliantForm:zu,toJSONObject:Uu,isAsyncFn:qu,isThenable:Hu,setImmediate:cl,asap:Vu,isIterable:Wu};function ge(s,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}O.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:O.toJSONObject(this.config),code:this.code,status:this.status}}});const dl=ge.prototype,ul={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{ul[s]={value:s}});Object.defineProperties(ge,ul);Object.defineProperty(dl,"isAxiosError",{value:!0});ge.from=(s,t,n,r,a,o)=>{const l=Object.create(dl);return O.toFlatObject(s,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),ge.call(l,s.message,t,n,r,a),l.cause=s,l.name=s.name,o&&Object.assign(l,o),l};const Gu=null;function Br(s){return O.isPlainObject(s)||O.isArray(s)}function hl(s){return O.endsWith(s,"[]")?s.slice(0,-2):s}function Xa(s,t,n){return s?s.concat(t).map(function(a,o){return a=hl(a),!n&&o?"["+a+"]":a}).join(n?".":""):t}function Zu(s){return O.isArray(s)&&!s.some(Br)}const Ju=O.toFlatObject(O,{},null,function(t){return/^is[A-Z]/.test(t)});function nr(s,t,n){if(!O.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!O.isUndefined(g[b])});const r=n.metaTokens,a=n.visitor||u,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&O.isSpecCompliantForm(t);if(!O.isFunction(a))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(O.isDate(p))return p.toISOString();if(O.isBoolean(p))return p.toString();if(!d&&O.isBlob(p))throw new ge("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(p)||O.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,g){let w=p;if(p&&!g&&typeof p=="object"){if(O.endsWith(b,"{}"))b=r?b:b.slice(0,-2),p=JSON.stringify(p);else if(O.isArray(p)&&Zu(p)||(O.isFileList(p)||O.endsWith(b,"[]"))&&(w=O.toArray(p)))return b=hl(b),w.forEach(function(P,N){!(O.isUndefined(P)||P===null)&&t.append(l===!0?Xa([b],N,o):l===null?b:b+"[]",h(P))}),!1}return Br(p)?!0:(t.append(Xa(g,b,o),h(p)),!1)}const f=[],x=Object.assign(Ju,{defaultVisitor:u,convertValue:h,isVisitable:Br});function m(p,b){if(!O.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),O.forEach(p,function(w,S){(!(O.isUndefined(w)||w===null)&&a.call(t,w,O.isString(S)?S.trim():S,b,x))===!0&&m(w,b?b.concat(S):[S])}),f.pop()}}if(!O.isObject(s))throw new TypeError("data must be an object");return m(s),t}function Qa(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Qr(s,t){this._pairs=[],s&&nr(s,this,t)}const ml=Qr.prototype;ml.append=function(t,n){this._pairs.push([t,n])};ml.toString=function(t){const n=t?function(r){return t.call(this,r,Qa)}:Qa;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Ku(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pl(s,t,n){if(!t)return s;const r=n&&n.encode||Ku;O.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(t,n):o=O.isURLSearchParams(t)?t.toString():new Qr(t,n).toString(r),o){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class eo{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){O.forEach(this.handlers,function(r){r!==null&&t(r)})}}const gl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yu=typeof URLSearchParams<"u"?URLSearchParams:Qr,Xu=typeof FormData<"u"?FormData:null,Qu=typeof Blob<"u"?Blob:null,eh={isBrowser:!0,classes:{URLSearchParams:Yu,FormData:Xu,Blob:Qu},protocols:["http","https","file","blob","url","data"]},ea=typeof window<"u"&&typeof document<"u",Rr=typeof navigator=="object"&&navigator||void 0,th=ea&&(!Rr||["ReactNative","NativeScript","NS"].indexOf(Rr.product)<0),sh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nh=ea&&window.location.href||"http://localhost",rh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ea,hasStandardBrowserEnv:th,hasStandardBrowserWebWorkerEnv:sh,navigator:Rr,origin:nh},Symbol.toStringTag,{value:"Module"})),tt={...rh,...eh};function ah(s,t){return nr(s,new tt.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,o){return tt.isNode&&O.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function oh(s){return O.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ih(s){const t={},n=Object.keys(s);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=s[o];return t}function fl(s){function t(n,r,a,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=n.length;return l=!l&&O.isArray(a)?a.length:l,d?(O.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!c):((!a[l]||!O.isObject(a[l]))&&(a[l]=[]),t(n,r,a[l],o)&&O.isArray(a[l])&&(a[l]=ih(a[l])),!c)}if(O.isFormData(s)&&O.isFunction(s.entries)){const n={};return O.forEachEntry(s,(r,a)=>{t(oh(r),a,n,0)}),n}return null}function lh(s,t,n){if(O.isString(s))try{return(t||JSON.parse)(s),O.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(s)}const en={transitional:gl,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,o=O.isObject(t);if(o&&O.isHTMLForm(t)&&(t=new FormData(t)),O.isFormData(t))return a?JSON.stringify(fl(t)):t;if(O.isArrayBuffer(t)||O.isBuffer(t)||O.isStream(t)||O.isFile(t)||O.isBlob(t)||O.isReadableStream(t))return t;if(O.isArrayBufferView(t))return t.buffer;if(O.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ah(t,this.formSerializer).toString();if((c=O.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return nr(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),lh(t)):t}],transformResponse:[function(t){const n=this.transitional||en.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(O.isResponse(t)||O.isReadableStream(t))return t;if(t&&O.isString(t)&&(r&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?ge.from(c,ge.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tt.classes.FormData,Blob:tt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};O.forEach(["delete","get","head","post","put","patch"],s=>{en.headers[s]={}});const ch=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dh=s=>{const t={};let n,r,a;return s&&s.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!n||t[n]&&ch[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},to=Symbol("internals");function Fs(s){return s&&String(s).trim().toLowerCase()}function Cn(s){return s===!1||s==null?s:O.isArray(s)?s.map(Cn):String(s)}function uh(s){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(s);)t[r[1]]=r[2];return t}const hh=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function xr(s,t,n,r,a){if(O.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!O.isString(t)){if(O.isString(r))return t.indexOf(r)!==-1;if(O.isRegExp(r))return r.test(t)}}function mh(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ph(s,t){const n=O.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+n,{value:function(a,o,l){return this[r].call(this,t,a,o,l)},configurable:!0})})}let ct=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function o(c,d,h){const u=Fs(d);if(!u)throw new Error("header name must be a non-empty string");const f=O.findKey(a,u);(!f||a[f]===void 0||h===!0||h===void 0&&a[f]!==!1)&&(a[f||d]=Cn(c))}const l=(c,d)=>O.forEach(c,(h,u)=>o(h,u,d));if(O.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(O.isString(t)&&(t=t.trim())&&!hh(t))l(dh(t),n);else if(O.isObject(t)&&O.isIterable(t)){let c={},d,h;for(const u of t){if(!O.isArray(u))throw TypeError("Object iterator must return a key-value pair");c[h=u[0]]=(d=c[h])?O.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}l(c,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Fs(t),t){const r=O.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return uh(a);if(O.isFunction(n))return n.call(this,a,r);if(O.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Fs(t),t){const r=O.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||xr(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function o(l){if(l=Fs(l),l){const c=O.findKey(r,l);c&&(!n||xr(r,r[c],c,n))&&(delete r[c],a=!0)}}return O.isArray(t)?t.forEach(o):o(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const o=n[r];(!t||xr(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const n=this,r={};return O.forEach(this,(a,o)=>{const l=O.findKey(r,o);if(l){n[l]=Cn(a),delete n[o];return}const c=t?mh(o):String(o).trim();c!==o&&delete n[o],n[c]=Cn(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return O.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&O.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[to]=this[to]={accessors:{}}).accessors,a=this.prototype;function o(l){const c=Fs(l);r[c]||(ph(a,l),r[c]=!0)}return O.isArray(t)?t.forEach(o):o(t),this}};ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);O.reduceDescriptors(ct.prototype,({value:s},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[n]=r}}});O.freezeMethods(ct);function vr(s,t){const n=this||en,r=t||n,a=ct.from(r.headers);let o=r.data;return O.forEach(s,function(c){o=c.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function xl(s){return!!(s&&s.__CANCEL__)}function Ls(s,t,n){ge.call(this,s??"canceled",ge.ERR_CANCELED,t,n),this.name="CanceledError"}O.inherits(Ls,ge,{__CANCEL__:!0});function vl(s,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?s(n):t(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gh(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function fh(s,t){s=s||10;const n=new Array(s),r=new Array(s);let a=0,o=0,l;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),u=r[o];l||(l=h),n[a]=d,r[a]=h;let f=o,x=0;for(;f!==a;)x+=n[f++],f=f%s;if(a=(a+1)%s,a===o&&(o=(o+1)%s),h-l<t)return;const m=u&&h-u;return m?Math.round(x*1e3/m):void 0}}function xh(s,t){let n=0,r=1e3/t,a,o;const l=(h,u=Date.now())=>{n=u,a=null,o&&(clearTimeout(o),o=null),s.apply(null,h)};return[(...h)=>{const u=Date.now(),f=u-n;f>=r?l(h,u):(a=h,o||(o=setTimeout(()=>{o=null,l(a)},r-f)))},()=>a&&l(a)]}const En=(s,t,n=3)=>{let r=0;const a=fh(50,250);return xh(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,h=a(d),u=l<=c;r=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&u?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};s(f)},n)},so=(s,t)=>{const n=s!=null;return[r=>t[0]({lengthComputable:n,total:s,loaded:r}),t[1]]},no=s=>(...t)=>O.asap(()=>s(...t)),vh=tt.hasStandardBrowserEnv?((s,t)=>n=>(n=new URL(n,tt.origin),s.protocol===n.protocol&&s.host===n.host&&(t||s.port===n.port)))(new URL(tt.origin),tt.navigator&&/(msie|trident)/i.test(tt.navigator.userAgent)):()=>!0,bh=tt.hasStandardBrowserEnv?{write(s,t,n,r,a,o){const l=[s+"="+encodeURIComponent(t)];O.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),O.isString(r)&&l.push("path="+r),O.isString(a)&&l.push("domain="+a),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function yh(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function wh(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function bl(s,t,n){let r=!yh(t);return s&&(r||n==!1)?wh(s,t):t}const ro=s=>s instanceof ct?{...s}:s;function ls(s,t){t=t||{};const n={};function r(h,u,f,x){return O.isPlainObject(h)&&O.isPlainObject(u)?O.merge.call({caseless:x},h,u):O.isPlainObject(u)?O.merge({},u):O.isArray(u)?u.slice():u}function a(h,u,f,x){if(O.isUndefined(u)){if(!O.isUndefined(h))return r(void 0,h,f,x)}else return r(h,u,f,x)}function o(h,u){if(!O.isUndefined(u))return r(void 0,u)}function l(h,u){if(O.isUndefined(u)){if(!O.isUndefined(h))return r(void 0,h)}else return r(void 0,u)}function c(h,u,f){if(f in t)return r(h,u);if(f in s)return r(void 0,h)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,u,f)=>a(ro(h),ro(u),f,!0)};return O.forEach(Object.keys(Object.assign({},s,t)),function(u){const f=d[u]||a,x=f(s[u],t[u],u);O.isUndefined(x)&&f!==c||(n[u]=x)}),n}const yl=s=>{const t=ls({},s);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:c}=t;t.headers=l=ct.from(l),t.url=pl(bl(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(O.isFormData(n)){if(tt.hasStandardBrowserEnv||tt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...u]=d?d.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...u].join("; "))}}if(tt.hasStandardBrowserEnv&&(r&&O.isFunction(r)&&(r=r(t)),r||r!==!1&&vh(t.url))){const h=a&&o&&bh.read(o);h&&l.set(a,h)}return t},jh=typeof XMLHttpRequest<"u",Nh=jh&&function(s){return new Promise(function(n,r){const a=yl(s);let o=a.data;const l=ct.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=a,u,f,x,m,p;function b(){m&&m(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function w(){if(!g)return;const P=ct.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),v={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:P,config:s,request:g};vl(function(E){n(E),b()},function(E){r(E),b()},v),g=null}"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(r(new ge("Request aborted",ge.ECONNABORTED,s,g)),g=null)},g.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,s,g)),g=null},g.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const v=a.transitional||gl;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),r(new ge(N,v.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,s,g)),g=null},o===void 0&&l.setContentType(null),"setRequestHeader"in g&&O.forEach(l.toJSON(),function(N,v){g.setRequestHeader(v,N)}),O.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),c&&c!=="json"&&(g.responseType=a.responseType),h&&([x,p]=En(h,!0),g.addEventListener("progress",x)),d&&g.upload&&([f,m]=En(d),g.upload.addEventListener("progress",f),g.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(u=P=>{g&&(r(!P||P.type?new Ls(null,s,g):P),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const S=gh(a.url);if(S&&tt.protocols.indexOf(S)===-1){r(new ge("Unsupported protocol "+S+":",ge.ERR_BAD_REQUEST,s));return}g.send(o||null)})},Sh=(s,t)=>{const{length:n}=s=s?s.filter(Boolean):[];if(t||n){let r=new AbortController,a;const o=function(h){if(!a){a=!0,c();const u=h instanceof Error?h:this.reason;r.abort(u instanceof ge?u:new Ls(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,o(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))},t);const c=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),s=null)};s.forEach(h=>h.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>O.asap(c),d}},Ch=function*(s,t){let n=s.byteLength;if(n<t){yield s;return}let r=0,a;for(;r<n;)a=r+t,yield s.slice(r,a),r=a},kh=async function*(s,t){for await(const n of Lh(s))yield*Ch(n,t)},Lh=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ao=(s,t,n,r)=>{const a=kh(s,t);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:u}=await a.next();if(h){c(),d.close();return}let f=u.byteLength;if(n){let x=o+=f;n(x)}d.enqueue(new Uint8Array(u))}catch(h){throw c(h),h}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},rr=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wl=rr&&typeof ReadableStream=="function",Eh=rr&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),jl=(s,...t)=>{try{return!!s(...t)}catch{return!1}},Ph=wl&&jl(()=>{let s=!1;const t=new Request(tt.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),oo=64*1024,Fr=wl&&jl(()=>O.isReadableStream(new Response("").body)),Pn={stream:Fr&&(s=>s.body)};rr&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Pn[t]&&(Pn[t]=O.isFunction(s[t])?n=>n[t]():(n,r)=>{throw new ge(`Response type '${t}' is not supported`,ge.ERR_NOT_SUPPORT,r)})})})(new Response);const Mh=async s=>{if(s==null)return 0;if(O.isBlob(s))return s.size;if(O.isSpecCompliantForm(s))return(await new Request(tt.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(O.isArrayBufferView(s)||O.isArrayBuffer(s))return s.byteLength;if(O.isURLSearchParams(s)&&(s=s+""),O.isString(s))return(await Eh(s)).byteLength},Ah=async(s,t)=>{const n=O.toFiniteNumber(s.getContentLength());return n??Mh(t)},Oh=rr&&(async s=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:h,headers:u,withCredentials:f="same-origin",fetchOptions:x}=yl(s);h=h?(h+"").toLowerCase():"text";let m=Sh([a,o&&o.toAbortSignal()],l),p;const b=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(d&&Ph&&n!=="get"&&n!=="head"&&(g=await Ah(u,r))!==0){let v=new Request(t,{method:"POST",body:r,duplex:"half"}),y;if(O.isFormData(r)&&(y=v.headers.get("content-type"))&&u.setContentType(y),v.body){const[E,k]=so(g,En(no(d)));r=ao(v.body,oo,E,k)}}O.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;p=new Request(t,{...x,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let S=await fetch(p,x);const P=Fr&&(h==="stream"||h==="response");if(Fr&&(c||P&&b)){const v={};["status","statusText","headers"].forEach(j=>{v[j]=S[j]});const y=O.toFiniteNumber(S.headers.get("content-length")),[E,k]=c&&so(y,En(no(c),!0))||[];S=new Response(ao(S.body,oo,E,()=>{k&&k(),b&&b()}),v)}h=h||"text";let N=await Pn[O.findKey(Pn,h)||"text"](S,s);return!P&&b&&b(),await new Promise((v,y)=>{vl(v,y,{data:N,headers:ct.from(S.headers),status:S.status,statusText:S.statusText,config:s,request:p})})}catch(w){throw b&&b(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ge("Network Error",ge.ERR_NETWORK,s,p),{cause:w.cause||w}):ge.from(w,w&&w.code,s,p)}}),$r={http:Gu,xhr:Nh,fetch:Oh};O.forEach($r,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const io=s=>`- ${s}`,Dh=s=>O.isFunction(s)||s===null||s===!1,Nl={getAdapter:s=>{s=O.isArray(s)?s:[s];const{length:t}=s;let n,r;const a={};for(let o=0;o<t;o++){n=s[o];let l;if(r=n,!Dh(n)&&(r=$r[(l=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+o]=r}if(!r){const o=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(io).join(`
`):" "+io(o[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:$r};function br(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ls(null,s)}function lo(s){return br(s),s.headers=ct.from(s.headers),s.data=vr.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Nl.getAdapter(s.adapter||en.adapter)(s).then(function(r){return br(s),r.data=vr.call(s,s.transformResponse,r),r.headers=ct.from(r.headers),r},function(r){return xl(r)||(br(s),r&&r.response&&(r.response.data=vr.call(s,s.transformResponse,r.response),r.response.headers=ct.from(r.response.headers))),Promise.reject(r)})}const Sl="1.10.0",ar={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{ar[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const co={};ar.transitional=function(t,n,r){function a(o,l){return"[Axios v"+Sl+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(t===!1)throw new ge(a(l," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!co[l]&&(co[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,c):!0}};ar.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Th(s,t,n){if(typeof s!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let a=r.length;for(;a-- >0;){const o=r[a],l=t[o];if(l){const c=s[o],d=c===void 0||l(c,o,s);if(d!==!0)throw new ge("option "+o+" must be "+d,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}const kn={assertOptions:Th,validators:ar},At=kn.validators;let os=class{constructor(t){this.defaults=t||{},this.interceptors={request:new eo,response:new eo}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ls(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:o}=n;r!==void 0&&kn.assertOptions(r,{silentJSONParsing:At.transitional(At.boolean),forcedJSONParsing:At.transitional(At.boolean),clarifyTimeoutError:At.transitional(At.boolean)},!1),a!=null&&(O.isFunction(a)?n.paramsSerializer={serialize:a}:kn.assertOptions(a,{encode:At.function,serialize:At.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),kn.assertOptions(n,{baseUrl:At.spelling("baseURL"),withXsrfToken:At.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&O.merge(o.common,o[n.method]);o&&O.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=ct.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(d=d&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let u,f=0,x;if(!d){const p=[lo.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,h),x=p.length,u=Promise.resolve(n);f<x;)u=u.then(p[f++],p[f++]);return u}x=c.length;let m=n;for(f=0;f<x;){const p=c[f++],b=c[f++];try{m=p(m)}catch(g){b.call(this,g);break}}try{u=lo.call(this,m)}catch(p){return Promise.reject(p)}for(f=0,x=h.length;f<x;)u=u.then(h[f++],h[f++]);return u}getUri(t){t=ls(this.defaults,t);const n=bl(t.baseURL,t.url,t.allowAbsoluteUrls);return pl(n,t.params,t.paramsSerializer)}};O.forEach(["delete","get","head","options"],function(t){os.prototype[t]=function(n,r){return this.request(ls(r||{},{method:t,url:n,data:(r||{}).data}))}});O.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,c){return this.request(ls(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}os.prototype[t]=n(),os.prototype[t+"Form"]=n(!0)});let Ih=class Cl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(a=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](a);r._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(a);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,c){r.reason||(r.reason=new Ls(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Cl(function(a){t=a}),cancel:t}}};function Bh(s){return function(n){return s.apply(null,n)}}function Rh(s){return O.isObject(s)&&s.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_r).forEach(([s,t])=>{_r[t]=s});function kl(s){const t=new os(s),n=sl(os.prototype.request,t);return O.extend(n,os.prototype,t,{allOwnKeys:!0}),O.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return kl(ls(s,a))},n}const Re=kl(en);Re.Axios=os;Re.CanceledError=Ls;Re.CancelToken=Ih;Re.isCancel=xl;Re.VERSION=Sl;Re.toFormData=nr;Re.AxiosError=ge;Re.Cancel=Re.CanceledError;Re.all=function(t){return Promise.all(t)};Re.spread=Bh;Re.isAxiosError=Rh;Re.mergeConfig=ls;Re.AxiosHeaders=ct;Re.formToJSON=s=>fl(O.isHTMLForm(s)?new FormData(s):s);Re.getAdapter=Nl.getAdapter;Re.HttpStatusCode=_r;Re.default=Re;const{Axios:yv,AxiosError:wv,CanceledError:jv,isCancel:Nv,CancelToken:Sv,VERSION:Cv,all:kv,Cancel:Lv,isAxiosError:Ev,spread:Pv,toFormData:Mv,AxiosHeaders:Av,HttpStatusCode:Ov,formToJSON:Dv,getAdapter:Tv,mergeConfig:Iv}=Re,he=Re.create({baseURL:"https://dhobiexpress-g86q.onrender.com",withCredentials:!0});function Fh({selectedDate:s,selectedTimeSlot:t,onDateChange:n,onTimeSlotSelect:r}){const[a,o]=i.useState([]),[l,c]=i.useState(!1),[d,h]=i.useState(null);i.useEffect(()=>{var m;const x=JSON.parse(localStorage.getItem("cart")||"[]");if(x.length>0){const p=x[0],b=(p==null?void 0:p.washermanId)||((m=p==null?void 0:p.washerman)==null?void 0:m._id);typeof b=="string"&&b.length===24?(h(b),s&&(async()=>{c(!0);try{const P=((await he.get("/api/show/available-slots",{params:{washermanId:b,date:s,_t:Date.now()}})).data.enabledSlots||[]).map(N=>{const v=parseInt(N.range.split(":")[0],10);let y="Morning";v>=12&&v<17?y="Afternoon":(v>=17||v<5)&&(y="Evening");const E=N.maxBookings-N.booked;return{_id:N.range,time:N.range,period:y,available:E>0,maxOrders:N.maxBookings,booked:N.booked,spotsLeft:E}});o(P)}catch(w){console.error("Error fetching time slots:",w),o([])}finally{c(!1)}})()):console.warn("Invalid washerman ID in cart:",b)}},[s]),i.useEffect(()=>{d&&s&&(async()=>{c(!0);try{const b=((await he.get("/api/show/available-slots",{params:{washermanId:d,date:s,_t:Date.now()}})).data.enabledSlots||[]).map(g=>{const w=parseInt(g.range.split(":")[0],10);let S="Morning";w>=12&&w<17?S="Afternoon":(w>=17||w<5)&&(S="Evening");const P=g.maxBookings-g.booked;return{_id:g.range,time:g.range,period:S,available:P>0,maxOrders:g.maxBookings,booked:g.booked,spotsLeft:P}});o(b)}catch(m){console.error("Error fetching time slots:",m),o([])}finally{c(!1)}})()},[]),i.useEffect(()=>{const x=async()=>{if(!(!d||!s)){c(!0);try{const g=((await he.get("/api/show/available-slots",{params:{washermanId:d,date:s,_t:Date.now()}})).data.enabledSlots||[]).map(w=>{const S=parseInt(w.range.split(":")[0],10);let P="Morning";S>=12&&S<17?P="Afternoon":(S>=17||S<5)&&(P="Evening");const N=w.maxBookings-w.booked;return{_id:w.range,time:w.range,period:P,available:N>0,maxOrders:w.maxBookings,booked:w.booked,spotsLeft:N}});o(g)}catch(p){console.error("Error fetching time slots:",p),o([])}finally{c(!1)}}};x();const m=setInterval(x,3e4);return()=>clearInterval(m)},[s,d]);const u=a.reduce((x,m)=>(x[m.period]||(x[m.period]=[]),x[m.period].push(m),x),{}),f=x=>{const m=t&&t._id===x._id,p=x.booked>=x.maxOrders;return m?"bg-blue-600 text-white border-blue-600":p?"bg-red-500 text-white border-red-500 cursor-not-allowed":"bg-green-100 text-green-800 border-green-300 hover:bg-green-200"};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Js,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-gray-900",children:"Select Date and Time"})]}),e.jsx("button",{onClick:()=>{c(!0),(async()=>{if(!(!d||!s))try{const b=((await he.get("/api/show/available-slots",{params:{washermanId:d,date:s,_t:Date.now()}})).data.enabledSlots||[]).map(g=>{const w=parseInt(g.range.split(":")[0],10);let S="Morning";w>=12&&w<17?S="Afternoon":(w>=17||w<5)&&(S="Evening");const P=g.maxBookings-g.booked;return{_id:g.range,time:g.range,period:S,available:P>0,maxOrders:g.maxBookings,booked:g.booked,spotsLeft:P}});o(b)}catch(m){console.error("Error refreshing time slots:",m)}finally{c(!1)}})()},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"ðŸ”„ Refresh"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),e.jsx("input",{type:"date",value:s,onChange:x=>n(x.target.value),min:new Date().toISOString().split("T")[0],className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l?e.jsx("p",{className:"text-center text-gray-500",children:"Loading slots..."}):e.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([x,m])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-medium text-gray-900 mb-3",children:x}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:m.map(p=>e.jsx("button",{onClick:()=>p.available&&r(p),disabled:!p.available,className:`p-3 md:p-4 rounded-lg border-2 transition-all duration-200 ${f(p)}${t&&t._id===p._id?" ring-2 ring-blue-400":""}`,children:e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("div",{className:"font-semibold text-sm md:text-base",children:p.time||"No Time"}),e.jsxs("div",{className:"text-xs text-gray-700",children:[p.booked,"/",p.maxOrders," Orders"]})]})},p._id))})]},x))}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm md:text-base",children:"Legend"}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs md:text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{children:"Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),e.jsx("span",{children:"Full"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded"}),e.jsx("span",{children:"Selected"})]})]})]})]})}function $h({cartItems:s,selectedDate:t,selectedTimeSlot:n,onCompleteOrder:r,onRemoveFromCart:a,onUpdateQuantity:o}){const l=m=>{var b;return(b=m==null?void 0:m.service)!=null&&b.options?m.selectedOptions.reduce((g,w)=>{const S=m.service.options.find(P=>P.id===w);return g+((S==null?void 0:S.price)||0)},0)*m.quantity:0},c=s.reduce((m,p)=>m+l(p),0),d=s.reduce((m,p)=>m+p.quantity,0);i.useEffect(()=>{var m,p;if(n&&localStorage.setItem("selectedTimeSlot",JSON.stringify(n)),t&&localStorage.setItem("selectedDate",t),s.length>0){const b=s.map(g=>{var v,y,E;const w=((v=g==null?void 0:g.service)==null?void 0:v.washerman)||(g==null?void 0:g.washerman),S=typeof w=="object"&&((y=w==null?void 0:w._id)==null?void 0:y.length)===24?w._id:typeof(g==null?void 0:g.washermanId)=="string"?g.washermanId:"684fdb3e2ef2b4179b022277",P=typeof w=="object"&&(w!=null&&w.name)?w.name:typeof w=="string"?w:"",N=((E=g==null?void 0:g.service)==null?void 0:E.name)||(g==null?void 0:g.name)||"";return{washermanId:S,washerman:P,serviceId:g.serviceId,productId:g.serviceId,service:g.service,name:N,quantity:g.quantity,selectedOptions:g.selectedOptions||[]}});localStorage.setItem("cart",JSON.stringify(b)),localStorage.setItem("quantity",((p=(m=s[0])==null?void 0:m.quantity)==null?void 0:p.toString())||"1")}else localStorage.removeItem("cart")},[s,t,n]);const h=m=>{var p,b,g;return(b=(p=m==null?void 0:m.service)==null?void 0:p.washerman)!=null&&b.name?m.service.washerman.name:typeof(m==null?void 0:m.washerman)=="string"?m.washerman:typeof(m==null?void 0:m.washerman)=="object"&&((g=m.washerman)!=null&&g.name)?m.washerman.name:""},u=m=>({shirt:"Shirt",pants:"Pants",suits:"Suits",bedding:"Bedding"})[m]||m,f=(m,p)=>{const b=m.quantity+p;o&&b>=1&&o(m.serviceId,m.selectedOptions,b)},x=m=>{a&&a(m.serviceId,m.selectedOptions)};return s.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsx("p",{className:"text-gray-600",children:"No items in your cart"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 sticky top-20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ji,{className:"w-5 h-5 mr-2 text-blue-600"}),"Order Summary"]}),e.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:s.map(m=>{var p,b;return e.jsx("div",{className:"border border-gray-100 rounded-lg p-3",children:e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm md:text-base",children:((p=m==null?void 0:m.service)==null?void 0:p.name)||m.name}),e.jsx("p",{className:"text-xs md:text-sm text-blue-600 font-medium",children:u(((b=m==null?void 0:m.service)==null?void 0:b.category)||"")}),e.jsxs("p",{className:"text-xs md:text-sm text-gray-600",children:["Dhobi : ",h(m)]})]}),e.jsx("button",{onClick:()=>x(m),className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"Remove from cart",children:e.jsx(St,{className:"w-4 h-4"})})]}),m.selectedOptions.length>0&&e.jsxs("div",{className:"text-xs md:text-sm text-gray-600 mt-1",children:["Service:"," ",m.selectedOptions.map(g=>{var S,P;const w=(P=(S=m==null?void 0:m.service)==null?void 0:S.options)==null?void 0:P.find(N=>N.id===g);return(w==null?void 0:w.name)||g}).join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>f(m,-1),disabled:m.quantity<=1,className:"p-1 rounded-full border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:e.jsx(Zi,{className:"w-3 h-3"})}),e.jsx("span",{className:"text-sm font-medium w-8 text-center",children:m.quantity}),e.jsx("button",{onClick:()=>f(m,1),className:"p-1 rounded-full border border-gray-300 hover:bg-gray-50 transition-colors",children:e.jsx(Wt,{className:"w-3 h-3"})})]}),e.jsxs("span",{className:"font-semibold text-gray-900 text-sm md:text-base",children:["â‚¹",l(m)]})]})]})})},`${m.serviceId}-${m.selectedOptions.join("-")}`)})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm md:text-base",children:[e.jsxs("span",{className:"text-gray-600",children:["Items (",d,")"]}),e.jsxs("span",{className:"font-medium",children:["â‚¹",c]})]}),e.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-blue-600",children:["â‚¹",c]})]})]}),t&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-sm text-blue-800",children:[e.jsx(Js,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(t).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n&&e.jsxs("div",{className:"flex items-center text-sm text-blue-800 mt-1",children:[e.jsx(Kr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:n.time})]})]}),e.jsxs("button",{onClick:r,disabled:!n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center text-sm md:text-base",children:[e.jsx(bd,{className:"w-5 h-5 mr-2"}),n?"Go for Payment":"Please Select a Time Slot"]})]})}function _h({categories:s,selectedCategory:t,onCategoryChange:n}){return e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:s.map(r=>e.jsx("button",{onClick:()=>n(r.id),className:`px-3 md:px-4 py-1.5 md:py-2 rounded-full whitespace-nowrap font-medium transition-colors text-sm md:text-base ${t===r.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r.name},r.id))})}function zh(){const[s,t]=i.useState([]),n=i.useCallback((d,h,u)=>{var p;const x=u.reduce((b,g)=>{var S;const w=(S=d.options)==null?void 0:S.find(P=>P._id===g);return b+((w==null?void 0:w.price)||0)},0),m={serviceId:d._id,service:d,quantity:h,selectedOptions:u,totalPrice:x*h,price:x,washermanId:((p=d.washerman)==null?void 0:p._id)||"",washerman:d.washerman,name:d.name};t(b=>{const g=b.findIndex(w=>w.serviceId===d._id&&JSON.stringify(w.selectedOptions.sort())===JSON.stringify(u.sort()));if(g>=0){const w=[...b];return w[g]={...w[g],quantity:w[g].quantity+h,totalPrice:w[g].totalPrice+totalPrice},w}else return[...b,m]})},[]),r=i.useCallback((d,h)=>{t(u=>u.filter(f=>!(f.serviceId===d&&JSON.stringify(f.selectedOptions.sort())===JSON.stringify(h.sort()))))},[]),a=i.useCallback((d,h,u)=>{if(u<=0){r(d,h);return}t(f=>f.map(x=>{if(x.serviceId===d&&JSON.stringify(x.selectedOptions.sort())===JSON.stringify(h.sort())){const m=x.totalPrice/x.quantity;return{...x,quantity:u,totalPrice:m*u}}return x}))},[r]),o=i.useCallback(()=>{t([])},[]),l=i.useCallback(()=>s.reduce((d,h)=>d+h.quantity,0),[s]),c=i.useCallback(()=>s.reduce((d,h)=>d+h.totalPrice,0),[s]);return{cartItems:s,addToCart:n,removeFromCart:r,updateQuantity:a,clearCart:o,getTotalItems:l,getTotalAmount:c}}const Uh=[{id:"morning-1",time:"09:00 - 10:00",period:"Morning",total:10},{id:"morning-2",time:"10:00 - 11:00",period:"Morning",total:10},{id:"morning-3",time:"11:00 - 12:00",period:"Morning",total:10},{id:"afternoon-1",time:"13:00 - 14:00",period:"Afternoon",total:10},{id:"afternoon-2",time:"14:00 - 15:00",period:"Afternoon",total:10},{id:"afternoon-3",time:"15:00 - 16:00",period:"Afternoon",total:10},{id:"evening-1",time:"16:00 - 17:00",period:"Evening",total:10},{id:"evening-2",time:"17:00 - 18:00",period:"Evening",total:10}];function yn(s){const t=new Date(s),n=Math.floor((t.getTime()-new Date(t.getFullYear(),0,0).getTime())/(1e3*60*60*24)),r=t.getDay();return Uh.map((a,o)=>{const l=n*1e3+r*100+o;let c;r===0||r===6?c=Math.max(0,Math.min(10,[8,6,4,3,2,5,7,9][o]+Math.floor(Math.sin(l)*3))):c=Math.max(0,Math.min(10,[5,7,9,8,6,4,3,2][o]+Math.floor(Math.sin(l)*4)));const d=Math.floor(Math.sin(l*.1)*2);return c=Math.max(0,Math.min(10,c+d)),{...a,available:c,isAvailable:c>0}})}const Ll=()=>e.jsx("footer",{className:"bg-slate-800 text-white pt-16 pb-8",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ys,{className:"h-6 w-6 text-blue-400"}),e.jsx("span",{className:"ml-2 text-xl font-bold",children:"DhobiXpress"})]}),e.jsx("p",{className:"text-slate-300 mb-6 pr-4",children:"Making laundry simple and convenient for busy people with our revolutionary laundry service."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-slate-300 hover:text-blue-400 transition-colors",children:e.jsx(yd,{className:"h-5 w-5"})}),e.jsx("a",{href:"#",className:"text-slate-300 hover:text-blue-400 transition-colors",children:e.jsx(jd,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Our Services"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/services/wash-fold",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Wash & Fold"})}),e.jsx("li",{children:e.jsx("a",{href:"/services/dry-cleaning",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Dry Cleaning"})}),e.jsx("li",{children:e.jsx("a",{href:"/services/ironing",className:"text-slate-300 hover:text-blue-400 transition-colors",children:"Ironing Services"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),e.jsxs("ul",{className:"space-y-4",children:[e.jsxs("li",{className:"flex",children:[e.jsx(Ki,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"7909045381"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(Zr,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"rohitkumar60704@gmail.com"})]}),e.jsxs("li",{className:"flex",children:[e.jsx(Jr,{className:"h-5 w-5 text-blue-400 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300",children:"Fortune Tower ,Bhubaneswar"})]})]})]})]}),e.jsx("div",{className:"border-t border-slate-700 mt-12 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-slate-400 text-sm mb-4 md:mb-0",children:["Â© ",new Date().getFullYear()," DhobiXpress. All rights reserved."]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("a",{href:"/terms",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"Terms of Service"}),e.jsx("a",{href:"/privacy",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"Privacy Policy"}),e.jsx("a",{href:"/faq",className:"text-slate-400 text-sm hover:text-blue-400 transition-colors",children:"FAQ"})]})]})})]})}),qh=[{question:"How does the pickup and delivery process work?",answer:"It's simple! Schedule a pickup through our app or website, and we'll come to your location at the chosen time. We'll collect your laundry in our FoldMate bags and deliver it back to you, clean and folded, at your requested delivery time."},{question:"What is the turnaround time for standard service?",answer:"Our standard service has a 48-hour turnaround time."},{question:"How are delicate garments and special care items handled?",answer:"We have specialized processes for delicate items. You can add special care instructions to your order."},{question:"Do you offer dry cleaning services?",answer:"Yes, we offer professional dry cleaning services for garments that require it. depending your location this option will avialable or not."},{question:"What detergents and products do you use?",answer:"We use eco-friendly detergents that are effective yet gentle on the environment. ."}],El=()=>{const s=i.useRef(null),[t,n]=i.useState(null);i.useEffect(()=>{const a=new IntersectionObserver(([o])=>{o.isIntersecting&&(o.target.classList.add("opacity-100","translate-y-0"),a.unobserve(o.target))},{threshold:.1});return s.current&&a.observe(s.current),()=>{s.current&&a.unobserve(s.current)}},[]);const r=a=>{n(t===a?null:a)};return e.jsx("section",{ref:s,className:"py-20 bg-white opacity-0 -translate-y-6 transition-all duration-700 ease-out",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-slate-800 mb-4",children:"Frequently Asked Questions"}),e.jsx("div",{className:"w-24 h-1 bg-blue-600 mx-auto mb-6"}),e.jsx("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"Have questions about our services? Find answers to commonly asked questions below."})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:qh.map((a,o)=>e.jsxs("div",{className:"mb-4 border-b border-slate-200 pb-4 last:border-b-0",children:[e.jsxs("button",{onClick:()=>r(o),className:"flex justify-between items-center w-full text-left py-3 focus:outline-none",children:[e.jsx("h3",{className:"text-lg font-medium text-slate-800",children:a.question}),t===o?e.jsx(Gr,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):e.jsx(Wr,{className:"h-5 w-5 text-blue-600 flex-shrink-0"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${t===o?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-slate-600 pt-2 pb-4",children:a.answer})})]},o))}),e.jsxs("div",{className:"text-center mt-12",children:[e.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"Didn't find the answer you're looking for?"}),e.jsx("a",{href:"/contact",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-full font-medium transition-colors inline-block",children:"Contact Us"})]})]})})},Hh=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"})),Fe=(s,t={})=>fetch(`https://dhobiexpress-g86q.onrender.com${s}`,{credentials:"include",...t}),Vh=()=>{const s=i.useRef(null),[t,n]=i.useState(""),[r,a]=i.useState(""),[o,l]=i.useState(""),[c,d]=i.useState("");i.useEffect(()=>{var u;(u=s.current)==null||u.focus()},[]);const h=async u=>{u.preventDefault();try{(await(await Fe("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:r,message:o})})).json()).success?(d("âœ… Message sent successfully!"),n(""),a(""),l("")):d("âŒ Failed to send message.")}catch(f){console.error(f),d("âŒ Server error.")}};return e.jsxs(e.Fragment,{children:[e.jsx(Vs,{searchQuery:"",onSearchChange:()=>{},onCartClick:()=>{},onContactClick:()=>{}}),e.jsx("section",{className:"w-full flex justify-center bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-3xl w-full px-6",children:e.jsxs("form",{onSubmit:h,className:"bg-white p-10 rounded-xl shadow-lg space-y-8",children:[e.jsx("h2",{className:"text-3xl font-serif font-semibold text-gray-800 mb-6 text-center",children:"Get in Touch"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block mb-2 font-medium text-gray-700",children:"Name"}),e.jsx("input",{id:"name",ref:s,type:"text",value:t,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"Your Name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 font-medium text-gray-700",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:r,onChange:u=>a(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"you@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block mb-2 font-medium text-gray-700",children:"Message"}),e.jsx("textarea",{id:"message",value:o,onChange:u=>l(u.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-3",placeholder:"Your message...",rows:6,required:!0})]}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-md hover:bg-blue-700 transition",children:"Send Message"}),c&&e.jsx("p",{className:"text-center text-green-600",children:c})]})})}),e.jsx(El,{}),e.jsx(Ll,{})]})},Wh=i.lazy(()=>Cs(()=>import("./HeroSection-D3NyAEjq.js"),__vite__mapDeps([0,1]))),Gh=i.lazy(()=>Cs(()=>import("./MissionSection-i_yZLZAL.js"),__vite__mapDeps([2,1]))),Zh=i.lazy(()=>Cs(()=>import("./ServicesSection-DJX3mKU9.js"),__vite__mapDeps([3,1]))),Jh=i.lazy(()=>Cs(()=>Promise.resolve().then(()=>Hh),void 0)),Kh=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-blue-50",children:[e.jsx(Vs,{}),e.jsxs(i.Suspense,{fallback:e.jsx("div",{className:"min-h-[300px]"}),children:[e.jsx(Wh,{}),e.jsx(Gh,{}),e.jsx(Zh,{}),e.jsx(Jh,{})]}),e.jsx(Ll,{})]});function Yh(s){return new Date(s).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})}function Xh(s){switch(s){case"Completed":return"bg-green-100 text-green-700";case"In Progress":return"bg-yellow-100 text-yellow-700";case"Pending":return"bg-blue-100 text-blue-700";case"Cancelled":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}}function Qh({item:s}){return e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsxs("span",{children:[s.name," x",s.quantity]}),e.jsxs("span",{children:["â‚¹",s.price*s.quantity]})]})}const em=({order:s})=>{var N;if(!s)return e.jsx("div",{children:"Order not found."});const t=v=>{if(!v)return"Address not available";if(typeof v=="string")return v;if(v.fullAddress)return v.fullAddress;if(v.houseNo||v.street||v.city||v.state||v.pincode){const y=[v.houseNo,v.street,v.landmark,v.city,v.state,v.pincode].filter(Boolean);return y.length>0?y.join(", "):"Address not available"}if(v.street||v.city||v.state||v.zip){const y=[v.street,v.city,v.state,v.zip].filter(Boolean);return y.length>0?y.join(", "):"Address not available"}return"Address not available"},{_id:n,productId:r,date:a,slot:o,quantity:l,totalAmount:c,status:d,paymentStatus:h,paymentMethod:u,washerman:f,guest:x,createdAt:m}=s,p=Yh(a),b=c||0,g=(r==null?void 0:r.image)||"",w=(r==null?void 0:r.category)||(r==null?void 0:r.name)||"Service",S=(f==null?void 0:f.name)||"Unknown",P=(f==null?void 0:f.contact)||"Not available";return f!=null&&f._id,e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm transition-all duration-300 hover:shadow-md hover:translate-y-[-2px]",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-1/3 p-4 flex items-center justify-center bg-gray-50",children:g?e.jsx("img",{src:g,alt:`Order ${n}`,className:"w-full h-48 object-contain rounded-md",onError:v=>{const y=v.target;y.src="https://images.pexels.com/photos/5217766/pexels-photo-5217766.jpeg"}}):e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-md flex items-center justify-center",children:e.jsx(Ji,{size:64,className:"text-gray-400"})})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-1",children:["Order #",n]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:w}),e.jsxs("p",{className:"text-sm text-gray-600  mb-1",children:["Service:",s.selectedOptions&&s.selectedOptions.length>0?" "+s.selectedOptions.map(v=>v.name).join(", "):" N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" pick up:",p||"Invalid Date"," | Slot: ",(o==null?void 0:o.range)||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Quantity: ",l]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Payment: â‚¹",b," via ",u||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["Payment Status: ",h]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Dhobi : ",S]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Contact: ",P]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Created At: ",new Date(m).toLocaleString()]}),s.deliveryAddress?e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Delivery Address:"}),e.jsx("p",{children:t(s.deliveryAddress)}),s.deliveryInstructions&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Instructions:"})," ",s.deliveryInstructions]})]}):e.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Customer Address: ",t((N=s.guest)==null?void 0:N.address)]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${Xh(d)} mt-2 sm:mt-0`,children:d})]}),s.items&&s.items.length>0&&e.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-3",children:"Order Items"}),e.jsx("div",{className:"space-y-1",children:s.items.map((v,y)=>e.jsx(Qh,{item:v},y))})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["â‚¹",b]})]})]})]})})},tm=()=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm animate-pulse",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"w-full md:w-1/3 p-4 flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-md"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4",children:[e.jsxs("div",{className:"w-full sm:w-2/3",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-24 mt-2 sm:mt-0"})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-3"}),e.jsx("div",{className:"space-y-3",children:[1,2].map(s=>e.jsxs("div",{className:"flex justify-between py-3",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/6"})]},s))})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/6"})]})]})]})}),sm=()=>{const[s,t]=i.useState([]),[n,r]=i.useState(!0),[a,o]=i.useState("");return i.useEffect(()=>{(async()=>{var c;r(!0);try{const d=localStorage.getItem("token"),h=await he.get("/api/booking",{headers:{Authorization:`Bearer ${d}`},withCredentials:!0});console.log("Fetched orders:",h.data),t(h.data)}catch(d){console.error("Error fetching orders:",((c=d==null?void 0:d.response)==null?void 0:c.data)||d.message)}finally{r(!1)}})()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Vs,{searchQuery:a,onSearchChange:o}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Va,{className:"h-6 w-6 text-indigo-600 mr-2"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Order History"})]}),e.jsx("p",{className:"text-gray-600",children:"View and track all your previous orders"})]}),e.jsx("div",{className:"space-y-6",children:n?e.jsx(e.Fragment,{children:[1,2,3].map(l=>e.jsx(tm,{},l))}):s.length>0?s.map(l=>e.jsx(em,{order:l},l._id)):e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Va,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No orders found"}),e.jsx("p",{className:"text-gray-500",children:"You haven't placed any orders yet."})]})})]})]})};/*!
* sweetalert2 v11.22.4
* Released under the MIT License.
*/function Pl(s,t,n){if(typeof s=="function"?s===t:s.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function nm(s,t){if(t.has(s))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uo(s,t){return s.get(Pl(s,t))}function rm(s,t,n){nm(s,t),t.set(s,n)}function am(s,t,n){return s.set(Pl(s,t),n),n}const om=100,re={},im=()=>{re.previousActiveElement instanceof HTMLElement?(re.previousActiveElement.focus(),re.previousActiveElement=null):document.body&&document.body.focus()},lm=s=>new Promise(t=>{if(!s)return t();const n=window.scrollX,r=window.scrollY;re.restoreFocusTimeout=setTimeout(()=>{im(),t()},om),window.scrollTo(n,r)}),Ml="swal2-",cm=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],T=cm.reduce((s,t)=>(s[t]=Ml+t,s),{}),dm=["success","warning","info","question","error"],Mn=dm.reduce((s,t)=>(s[t]=Ml+t,s),{}),Al="SweetAlert2:",ta=s=>s.charAt(0).toUpperCase()+s.slice(1),rt=s=>{console.warn(`${Al} ${typeof s=="object"?s.join(" "):s}`)},ds=s=>{console.error(`${Al} ${s}`)},ho=[],um=s=>{ho.includes(s)||(ho.push(s),rt(s))},Ol=(s,t=null)=>{um(`"${s}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},or=s=>typeof s=="function"?s():s,sa=s=>s&&typeof s.toPromise=="function",tn=s=>sa(s)?s.toPromise():Promise.resolve(s),na=s=>s&&Promise.resolve(s)===s,at=()=>document.body.querySelector(`.${T.container}`),sn=s=>{const t=at();return t?t.querySelector(s):null},mt=s=>sn(`.${s}`),ke=()=>mt(T.popup),Es=()=>mt(T.icon),hm=()=>mt(T["icon-content"]),Dl=()=>mt(T.title),ra=()=>mt(T["html-container"]),Tl=()=>mt(T.image),aa=()=>mt(T["progress-steps"]),ir=()=>mt(T["validation-message"]),Dt=()=>sn(`.${T.actions} .${T.confirm}`),Ps=()=>sn(`.${T.actions} .${T.cancel}`),us=()=>sn(`.${T.actions} .${T.deny}`),mm=()=>mt(T["input-label"]),Ms=()=>sn(`.${T.loader}`),nn=()=>mt(T.actions),Il=()=>mt(T.footer),lr=()=>mt(T["timer-progress-bar"]),oa=()=>mt(T.close),pm=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ia=()=>{const s=ke();if(!s)return[];const t=s.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((o,l)=>{const c=parseInt(o.getAttribute("tabindex")||"0"),d=parseInt(l.getAttribute("tabindex")||"0");return c>d?1:c<d?-1:0}),r=s.querySelectorAll(pm),a=Array.from(r).filter(o=>o.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(a))].filter(o=>dt(o))},la=()=>Bt(document.body,T.shown)&&!Bt(document.body,T["toast-shown"])&&!Bt(document.body,T["no-backdrop"]),cr=()=>{const s=ke();return s?Bt(s,T.toast):!1},gm=()=>{const s=ke();return s?s.hasAttribute("data-loading"):!1},pt=(s,t)=>{if(s.textContent="",t){const r=new DOMParser().parseFromString(t,"text/html"),a=r.querySelector("head");a&&Array.from(a.childNodes).forEach(l=>{s.appendChild(l)});const o=r.querySelector("body");o&&Array.from(o.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?s.appendChild(l.cloneNode(!0)):s.appendChild(l)})}},Bt=(s,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!s.classList.contains(n[r]))return!1;return!0},fm=(s,t)=>{Array.from(s.classList).forEach(n=>{!Object.values(T).includes(n)&&!Object.values(Mn).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&s.classList.remove(n)})},ht=(s,t,n)=>{if(fm(s,t),!t.customClass)return;const r=t.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){rt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Le(s,r)}},dr=(s,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return s.querySelector(`.${T.popup} > .${T[t]}`);case"checkbox":return s.querySelector(`.${T.popup} > .${T.checkbox} input`);case"radio":return s.querySelector(`.${T.popup} > .${T.radio} input:checked`)||s.querySelector(`.${T.popup} > .${T.radio} input:first-child`);case"range":return s.querySelector(`.${T.popup} > .${T.range} input`);default:return s.querySelector(`.${T.popup} > .${T.input}`)}},Bl=s=>{if(s.focus(),s.type!=="file"){const t=s.value;s.value="",s.value=t}},Rl=(s,t,n)=>{!s||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(r=>{Array.isArray(s)?s.forEach(a=>{n?a.classList.add(r):a.classList.remove(r)}):n?s.classList.add(r):s.classList.remove(r)}))},Le=(s,t)=>{Rl(s,t,!0)},bt=(s,t)=>{Rl(s,t,!1)},Gt=(s,t)=>{const n=Array.from(s.children);for(let r=0;r<n.length;r++){const a=n[r];if(a instanceof HTMLElement&&Bt(a,t))return a}},is=(s,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?s.style.setProperty(t,typeof n=="number"?`${n}px`:n):s.style.removeProperty(t)},Xe=(s,t="flex")=>{s&&(s.style.display=t)},st=s=>{s&&(s.style.display="none")},ca=(s,t="block")=>{s&&new MutationObserver(()=>{rn(s,s.innerHTML,t)}).observe(s,{childList:!0,subtree:!0})},mo=(s,t,n,r)=>{const a=s.querySelector(t);a&&a.style.setProperty(n,r)},rn=(s,t,n="flex")=>{t?Xe(s,n):st(s)},dt=s=>!!(s&&(s.offsetWidth||s.offsetHeight||s.getClientRects().length)),xm=()=>!dt(Dt())&&!dt(us())&&!dt(Ps()),zr=s=>s.scrollHeight>s.clientHeight,vm=(s,t)=>{let n=s;for(;n&&n!==t;){if(zr(n))return!0;n=n.parentElement}return!1},Fl=s=>{const t=window.getComputedStyle(s),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},da=(s,t=!1)=>{const n=lr();n&&dt(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${s/1e3}s linear`,n.style.width="0%"},10))},bm=()=>{const s=lr();if(!s)return;const t=parseInt(window.getComputedStyle(s).width);s.style.removeProperty("transition"),s.style.width="100%";const n=parseInt(window.getComputedStyle(s).width),r=t/n*100;s.style.width=`${r}%`},ym=()=>typeof window>"u"||typeof document>"u",wm=`
 <div aria-labelledby="${T.title}" aria-describedby="${T["html-container"]}" class="${T.popup}" tabindex="-1">
   <button type="button" class="${T.close}"></button>
   <ul class="${T["progress-steps"]}"></ul>
   <div class="${T.icon}"></div>
   <img class="${T.image}" />
   <h2 class="${T.title}" id="${T.title}"></h2>
   <div class="${T["html-container"]}" id="${T["html-container"]}"></div>
   <input class="${T.input}" id="${T.input}" />
   <input type="file" class="${T.file}" />
   <div class="${T.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${T.select}" id="${T.select}"></select>
   <div class="${T.radio}"></div>
   <label class="${T.checkbox}">
     <input type="checkbox" id="${T.checkbox}" />
     <span class="${T.label}"></span>
   </label>
   <textarea class="${T.textarea}" id="${T.textarea}"></textarea>
   <div class="${T["validation-message"]}" id="${T["validation-message"]}"></div>
   <div class="${T.actions}">
     <div class="${T.loader}"></div>
     <button type="button" class="${T.confirm}"></button>
     <button type="button" class="${T.deny}"></button>
     <button type="button" class="${T.cancel}"></button>
   </div>
   <div class="${T.footer}"></div>
   <div class="${T["timer-progress-bar-container"]}">
     <div class="${T["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),jm=()=>{const s=at();return s?(s.remove(),bt([document.documentElement,document.body],[T["no-backdrop"],T["toast-shown"],T["has-column"]]),!0):!1},ss=()=>{re.currentInstance.resetValidationMessage()},Nm=()=>{const s=ke(),t=Gt(s,T.input),n=Gt(s,T.file),r=s.querySelector(`.${T.range} input`),a=s.querySelector(`.${T.range} output`),o=Gt(s,T.select),l=s.querySelector(`.${T.checkbox} input`),c=Gt(s,T.textarea);t.oninput=ss,n.onchange=ss,o.onchange=ss,l.onchange=ss,c.oninput=ss,r.oninput=()=>{ss(),a.value=r.value},r.onchange=()=>{ss(),a.value=r.value}},Sm=s=>typeof s=="string"?document.querySelector(s):s,Cm=s=>{const t=ke();t.setAttribute("role",s.toast?"alert":"dialog"),t.setAttribute("aria-live",s.toast?"polite":"assertive"),s.toast||t.setAttribute("aria-modal","true")},km=s=>{window.getComputedStyle(s).direction==="rtl"&&Le(at(),T.rtl)},Lm=s=>{const t=jm();if(ym()){ds("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=T.container,t&&Le(n,T["no-transition"]),pt(n,wm),n.dataset.swal2Theme=s.theme;const r=Sm(s.target);r.appendChild(n),s.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Cm(s),km(r),Nm()},ua=(s,t)=>{s instanceof HTMLElement?t.appendChild(s):typeof s=="object"?Em(s,t):s&&pt(t,s)},Em=(s,t)=>{s.jquery?Pm(t,s):pt(t,s.toString())},Pm=(s,t)=>{if(s.textContent="",0 in t)for(let n=0;n in t;n++)s.appendChild(t[n].cloneNode(!0));else s.appendChild(t.cloneNode(!0))},Mm=(s,t)=>{const n=nn(),r=Ms();!n||!r||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?st(n):Xe(n),ht(n,t,"actions"),Am(n,r,t),pt(r,t.loaderHtml||""),ht(r,t,"loader"))};function Am(s,t,n){const r=Dt(),a=us(),o=Ps();!r||!a||!o||(wr(r,"confirm",n),wr(a,"deny",n),wr(o,"cancel",n),Om(r,a,o,n),n.reverseButtons&&(n.toast?(s.insertBefore(o,r),s.insertBefore(a,r)):(s.insertBefore(o,t),s.insertBefore(a,t),s.insertBefore(r,t))))}function Om(s,t,n,r){if(!r.buttonsStyling){bt([s,t,n],T.styled);return}Le([s,t,n],T.styled),r.confirmButtonColor&&s.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),yr(s),yr(t),yr(n)}function yr(s){const t=window.getComputedStyle(s);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");s.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function wr(s,t,n){const r=ta(t);rn(s,n[`show${r}Button`],"inline-block"),pt(s,n[`${t}ButtonText`]||""),s.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),s.className=T[t],ht(s,n,`${t}Button`)}const Dm=(s,t)=>{const n=oa();n&&(pt(n,t.closeButtonHtml||""),ht(n,t,"closeButton"),rn(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},Tm=(s,t)=>{const n=at();n&&(Im(n,t.backdrop),Bm(n,t.position),Rm(n,t.grow),ht(n,t,"container"))};function Im(s,t){typeof t=="string"?s.style.background=t:t||Le([document.documentElement,document.body],T["no-backdrop"])}function Bm(s,t){t&&(t in T?Le(s,T[t]):(rt('The "position" parameter is not valid, defaulting to "center"'),Le(s,T.center)))}function Rm(s,t){t&&Le(s,T[`grow-${t}`])}var Me={innerParams:new WeakMap,domCache:new WeakMap};const Fm=["input","file","range","select","radio","checkbox","textarea"],$m=(s,t)=>{const n=ke();if(!n)return;const r=Me.innerParams.get(s),a=!r||t.input!==r.input;Fm.forEach(o=>{const l=Gt(n,T[o]);l&&(Um(o,t.inputAttributes),l.className=T[o],a&&st(l))}),t.input&&(a&&_m(t),qm(t))},_m=s=>{if(!s.input)return;if(!Ue[s.input]){ds(`Unexpected type of input! Expected ${Object.keys(Ue).join(" | ")}, got "${s.input}"`);return}const t=$l(s.input);if(!t)return;const n=Ue[s.input](t,s);Xe(t),s.inputAutoFocus&&setTimeout(()=>{Bl(n)})},zm=s=>{for(let t=0;t<s.attributes.length;t++){const n=s.attributes[t].name;["id","type","value","style"].includes(n)||s.removeAttribute(n)}},Um=(s,t)=>{const n=ke();if(!n)return;const r=dr(n,s);if(r){zm(r);for(const a in t)r.setAttribute(a,t[a])}},qm=s=>{if(!s.input)return;const t=$l(s.input);t&&ht(t,s,"input")},ha=(s,t)=>{!s.placeholder&&t.inputPlaceholder&&(s.placeholder=t.inputPlaceholder)},an=(s,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),a=T["input-label"];r.setAttribute("for",s.id),r.className=a,typeof n.customClass=="object"&&Le(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},$l=s=>{const t=ke();if(t)return Gt(t,T[s]||T.input)},An=(s,t)=>{["string","number"].includes(typeof t)?s.value=`${t}`:na(t)||rt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ue={};Ue.text=Ue.email=Ue.password=Ue.number=Ue.tel=Ue.url=Ue.search=Ue.date=Ue["datetime-local"]=Ue.time=Ue.week=Ue.month=(s,t)=>(An(s,t.inputValue),an(s,s,t),ha(s,t),s.type=t.input,s);Ue.file=(s,t)=>(an(s,s,t),ha(s,t),s);Ue.range=(s,t)=>{const n=s.querySelector("input"),r=s.querySelector("output");return An(n,t.inputValue),n.type=t.input,An(r,t.inputValue),an(n,s,t),s};Ue.select=(s,t)=>{if(s.textContent="",t.inputPlaceholder){const n=document.createElement("option");pt(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,s.appendChild(n)}return an(s,s,t),s};Ue.radio=s=>(s.textContent="",s);Ue.checkbox=(s,t)=>{const n=dr(ke(),"checkbox");n.value="1",n.checked=!!t.inputValue;const r=s.querySelector("span");return pt(r,t.inputPlaceholder||t.inputLabel),n};Ue.textarea=(s,t)=>{An(s,t.inputValue),ha(s,t),an(s,s,t);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(ke()).width),a=()=>{if(!document.body.contains(s))return;const o=s.offsetWidth+n(s);o>r?ke().style.width=`${o}px`:is(ke(),"width",t.width)};new MutationObserver(a).observe(s,{attributes:!0,attributeFilter:["style"]})}}),s};const Hm=(s,t)=>{const n=ra();n&&(ca(n),ht(n,t,"htmlContainer"),t.html?(ua(t.html,n),Xe(n,"block")):t.text?(n.textContent=t.text,Xe(n,"block")):st(n),$m(s,t))},Vm=(s,t)=>{const n=Il();n&&(ca(n),rn(n,t.footer,"block"),t.footer&&ua(t.footer,n),ht(n,t,"footer"))},Wm=(s,t)=>{const n=Me.innerParams.get(s),r=Es();if(!r)return;if(n&&t.icon===n.icon){go(r,t),po(r,t);return}if(!t.icon&&!t.iconHtml){st(r);return}if(t.icon&&Object.keys(Mn).indexOf(t.icon)===-1){ds(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),st(r);return}Xe(r),go(r,t),po(r,t),Le(r,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",_l)},po=(s,t)=>{for(const[n,r]of Object.entries(Mn))t.icon!==n&&bt(s,r);Le(s,t.icon&&Mn[t.icon]),Jm(s,t),_l(),ht(s,t,"icon")},_l=()=>{const s=ke();if(!s)return;const t=window.getComputedStyle(s).getPropertyValue("background-color"),n=s.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},Gm=s=>`
  ${s.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${s.animation?'<div class="swal2-success-fix"></div>':""}
  ${s.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Zm=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,go=(s,t)=>{if(!t.icon&&!t.iconHtml)return;let n=s.innerHTML,r="";t.iconHtml?r=fo(t.iconHtml):t.icon==="success"?(r=Gm(t),n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?r=Zm:t.icon&&(r=fo({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&pt(s,r)},Jm=(s,t)=>{if(t.iconColor){s.style.color=t.iconColor,s.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])mo(s,n,"background-color",t.iconColor);mo(s,".swal2-success-ring","border-color",t.iconColor)}},fo=s=>`<div class="${T["icon-content"]}">${s}</div>`,Km=(s,t)=>{const n=Tl();if(n){if(!t.imageUrl){st(n);return}Xe(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),is(n,"width",t.imageWidth),is(n,"height",t.imageHeight),n.className=T.image,ht(n,t,"image")}};let ma=!1,zl=0,Ul=0,ql=0,Hl=0;const Ym=s=>{s.addEventListener("mousedown",On),document.body.addEventListener("mousemove",Dn),s.addEventListener("mouseup",Tn),s.addEventListener("touchstart",On),document.body.addEventListener("touchmove",Dn),s.addEventListener("touchend",Tn)},Xm=s=>{s.removeEventListener("mousedown",On),document.body.removeEventListener("mousemove",Dn),s.removeEventListener("mouseup",Tn),s.removeEventListener("touchstart",On),document.body.removeEventListener("touchmove",Dn),s.removeEventListener("touchend",Tn)},On=s=>{const t=ke();if(s.target===t||Es().contains(s.target)){ma=!0;const n=Vl(s);zl=n.clientX,Ul=n.clientY,ql=parseInt(t.style.insetInlineStart)||0,Hl=parseInt(t.style.insetBlockStart)||0,Le(t,"swal2-dragging")}},Dn=s=>{const t=ke();if(ma){let{clientX:n,clientY:r}=Vl(s);t.style.insetInlineStart=`${ql+(n-zl)}px`,t.style.insetBlockStart=`${Hl+(r-Ul)}px`}},Tn=()=>{const s=ke();ma=!1,bt(s,"swal2-dragging")},Vl=s=>{let t=0,n=0;return s.type.startsWith("mouse")?(t=s.clientX,n=s.clientY):s.type.startsWith("touch")&&(t=s.touches[0].clientX,n=s.touches[0].clientY),{clientX:t,clientY:n}},Qm=(s,t)=>{const n=at(),r=ke();if(!(!n||!r)){if(t.toast){is(n,"width",t.width),r.style.width="100%";const a=Ms();a&&r.insertBefore(a,Es())}else is(r,"width",t.width);is(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),st(ir()),ep(r,t),t.draggable&&!t.toast?(Le(r,T.draggable),Ym(r)):(bt(r,T.draggable),Xm(r))}},ep=(s,t)=>{const n=t.showClass||{};s.className=`${T.popup} ${dt(s)?n.popup:""}`,t.toast?(Le([document.documentElement,document.body],T["toast-shown"]),Le(s,T.toast)):Le(s,T.modal),ht(s,t,"popup"),typeof t.customClass=="string"&&Le(s,t.customClass),t.icon&&Le(s,T[`icon-${t.icon}`])},tp=(s,t)=>{const n=aa();if(!n)return;const{progressSteps:r,currentProgressStep:a}=t;if(!r||r.length===0||a===void 0){st(n);return}Xe(n),n.textContent="",a>=r.length&&rt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((o,l)=>{const c=sp(o);if(n.appendChild(c),l===a&&Le(c,T["active-progress-step"]),l!==r.length-1){const d=np(t);n.appendChild(d)}})},sp=s=>{const t=document.createElement("li");return Le(t,T["progress-step"]),pt(t,s),t},np=s=>{const t=document.createElement("li");return Le(t,T["progress-step-line"]),s.progressStepsDistance&&is(t,"width",s.progressStepsDistance),t},rp=(s,t)=>{const n=Dl();n&&(ca(n),rn(n,t.title||t.titleText,"block"),t.title&&ua(t.title,n),t.titleText&&(n.innerText=t.titleText),ht(n,t,"title"))},Wl=(s,t)=>{Qm(s,t),Tm(s,t),tp(s,t),Wm(s,t),Km(s,t),rp(s,t),Dm(s,t),Hm(s,t),Mm(s,t),Vm(s,t);const n=ke();typeof t.didRender=="function"&&n&&t.didRender(n),re.eventEmitter.emit("didRender",n)},ap=()=>dt(ke()),Gl=()=>{var s;return(s=Dt())===null||s===void 0?void 0:s.click()},op=()=>{var s;return(s=us())===null||s===void 0?void 0:s.click()},ip=()=>{var s;return(s=Ps())===null||s===void 0?void 0:s.click()},As=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Zl=s=>{s.keydownTarget&&s.keydownHandlerAdded&&(s.keydownTarget.removeEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!1)},lp=(s,t,n)=>{Zl(s),t.toast||(s.keydownHandler=r=>dp(t,r,n),s.keydownTarget=t.keydownListenerCapture?window:ke(),s.keydownListenerCapture=t.keydownListenerCapture,s.keydownTarget.addEventListener("keydown",s.keydownHandler,{capture:s.keydownListenerCapture}),s.keydownHandlerAdded=!0)},Ur=(s,t)=>{var n;const r=ia();if(r.length){s=s+t,s===-2&&(s=r.length-1),s===r.length?s=0:s===-1&&(s=r.length-1),r[s].focus();return}(n=ke())===null||n===void 0||n.focus()},Jl=["ArrowRight","ArrowDown"],cp=["ArrowLeft","ArrowUp"],dp=(s,t,n)=>{s&&(t.isComposing||t.keyCode===229||(s.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?up(t,s):t.key==="Tab"?hp(t):[...Jl,...cp].includes(t.key)?mp(t.key):t.key==="Escape"&&pp(t,s,n)))},up=(s,t)=>{if(!or(t.allowEnterKey))return;const n=dr(ke(),t.input);if(s.target&&n&&s.target instanceof HTMLElement&&s.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Gl(),s.preventDefault()}},hp=s=>{const t=s.target,n=ia();let r=-1;for(let a=0;a<n.length;a++)if(t===n[a]){r=a;break}s.shiftKey?Ur(r,-1):Ur(r,1),s.stopPropagation(),s.preventDefault()},mp=s=>{const t=nn(),n=Dt(),r=us(),a=Ps();if(!t||!n||!r||!a)return;const o=[n,r,a];if(document.activeElement instanceof HTMLElement&&!o.includes(document.activeElement))return;const l=Jl.includes(s)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let d=0;d<t.children.length;d++){if(c=c[l],!c)return;if(c instanceof HTMLButtonElement&&dt(c))break}c instanceof HTMLButtonElement&&c.focus()}},pp=(s,t,n)=>{s.preventDefault(),or(t.allowEscapeKey)&&n(As.esc)};var js={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const gp=()=>{const s=at();Array.from(document.body.children).forEach(n=>{n.contains(s)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},Kl=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Yl=typeof window<"u"&&!!window.GestureEvent,fp=()=>{if(Yl&&!Bt(document.body,T.iosfix)){const s=document.body.scrollTop;document.body.style.top=`${s*-1}px`,Le(document.body,T.iosfix),xp()}},xp=()=>{const s=at();if(!s)return;let t;s.ontouchstart=n=>{t=vp(n)},s.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},vp=s=>{const t=s.target,n=at(),r=ra();return!n||!r||bp(s)||yp(s)?!1:t===n||!zr(n)&&t instanceof HTMLElement&&!vm(t,r)&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(zr(r)&&r.contains(t))},bp=s=>s.touches&&s.touches.length&&s.touches[0].touchType==="stylus",yp=s=>s.touches&&s.touches.length>1,wp=()=>{if(Bt(document.body,T.iosfix)){const s=parseInt(document.body.style.top,10);bt(document.body,T.iosfix),document.body.style.top="",document.body.scrollTop=s*-1}},jp=()=>{const s=document.createElement("div");s.className=T["scrollbar-measure"],document.body.appendChild(s);const t=s.getBoundingClientRect().width-s.clientWidth;return document.body.removeChild(s),t};let bs=null;const Np=s=>{bs===null&&(document.body.scrollHeight>window.innerHeight||s==="scroll")&&(bs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${bs+jp()}px`)},Sp=()=>{bs!==null&&(document.body.style.paddingRight=`${bs}px`,bs=null)};function Xl(s,t,n,r){cr()?xo(s,r):(lm(n).then(()=>xo(s,r)),Zl(re)),Yl?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),la()&&(Sp(),wp(),Kl()),Cp()}function Cp(){bt([document.documentElement,document.body],[T.shown,T["height-auto"],T["no-backdrop"],T["toast-shown"]])}function Zt(s){s=Lp(s);const t=js.swalPromiseResolve.get(this),n=kp(this);this.isAwaitingPromise?s.isDismissed||(on(this),t(s)):n&&t(s)}const kp=s=>{const t=ke();if(!t)return!1;const n=Me.innerParams.get(s);if(!n||Bt(t,n.hideClass.popup))return!1;bt(t,n.showClass.popup),Le(t,n.hideClass.popup);const r=at();return bt(r,n.showClass.backdrop),Le(r,n.hideClass.backdrop),Ep(s,t,n),!0};function Ql(s){const t=js.swalPromiseReject.get(this);on(this),t&&t(s)}const on=s=>{s.isAwaitingPromise&&(delete s.isAwaitingPromise,Me.innerParams.get(s)||s._destroy())},Lp=s=>typeof s>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},s),Ep=(s,t,n)=>{var r;const a=at(),o=Fl(t);typeof n.willClose=="function"&&n.willClose(t),(r=re.eventEmitter)===null||r===void 0||r.emit("willClose",t),o?Pp(s,t,a,n.returnFocus,n.didClose):Xl(s,a,n.returnFocus,n.didClose)},Pp=(s,t,n,r,a)=>{re.swalCloseEventFinishedCallback=Xl.bind(null,s,n,r,a);const o=function(l){if(l.target===t){var c;(c=re.swalCloseEventFinishedCallback)===null||c===void 0||c.call(re),delete re.swalCloseEventFinishedCallback,t.removeEventListener("animationend",o),t.removeEventListener("transitionend",o)}};t.addEventListener("animationend",o),t.addEventListener("transitionend",o)},xo=(s,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(s.params)(),(n=re.eventEmitter)===null||n===void 0||n.emit("didClose"),s._destroy&&s._destroy()})},Ns=s=>{let t=ke();if(t||new Ee,t=ke(),!t)return;const n=Ms();cr()?st(Es()):Mp(t,s),Xe(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},Mp=(s,t)=>{const n=nn(),r=Ms();!n||!r||(!t&&dt(Dt())&&(t=Dt()),Xe(n),t&&(st(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),Le([s,n],T.loading))},Ap=(s,t)=>{t.input==="select"||t.input==="radio"?Bp(s,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(sa(t.inputValue)||na(t.inputValue))&&(Ns(Dt()),Rp(s,t))},Op=(s,t)=>{const n=s.getInput();if(!n)return null;switch(t.input){case"checkbox":return Dp(n);case"radio":return Tp(n);case"file":return Ip(n);default:return t.inputAutoTrim?n.value.trim():n.value}},Dp=s=>s.checked?1:0,Tp=s=>s.checked?s.value:null,Ip=s=>s.files&&s.files.length?s.getAttribute("multiple")!==null?s.files:s.files[0]:null,Bp=(s,t)=>{const n=ke();if(!n)return;const r=a=>{t.input==="select"?Fp(n,In(a),t):t.input==="radio"&&$p(n,In(a),t)};sa(t.inputOptions)||na(t.inputOptions)?(Ns(Dt()),tn(t.inputOptions).then(a=>{s.hideLoading(),r(a)})):typeof t.inputOptions=="object"?r(t.inputOptions):ds(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},Rp=(s,t)=>{const n=s.getInput();n&&(st(n),tn(t.inputValue).then(r=>{n.value=t.input==="number"?`${parseFloat(r)||0}`:`${r}`,Xe(n),n.focus(),s.hideLoading()}).catch(r=>{ds(`Error in inputValue promise: ${r}`),n.value="",Xe(n),n.focus(),s.hideLoading()}))};function Fp(s,t,n){const r=Gt(s,T.select);if(!r)return;const a=(o,l,c)=>{const d=document.createElement("option");d.value=c,pt(d,l),d.selected=ec(c,n.inputValue),o.appendChild(d)};t.forEach(o=>{const l=o[0],c=o[1];if(Array.isArray(c)){const d=document.createElement("optgroup");d.label=l,d.disabled=!1,r.appendChild(d),c.forEach(h=>a(d,h[1],h[0]))}else a(r,c,l)}),r.focus()}function $p(s,t,n){const r=Gt(s,T.radio);if(!r)return;t.forEach(o=>{const l=o[0],c=o[1],d=document.createElement("input"),h=document.createElement("label");d.type="radio",d.name=T.radio,d.value=l,ec(l,n.inputValue)&&(d.checked=!0);const u=document.createElement("span");pt(u,c),u.className=T.label,h.appendChild(d),h.appendChild(u),r.appendChild(h)});const a=r.querySelectorAll("input");a.length&&a[0].focus()}const In=s=>{const t=[];return s instanceof Map?s.forEach((n,r)=>{let a=n;typeof a=="object"&&(a=In(a)),t.push([r,a])}):Object.keys(s).forEach(n=>{let r=s[n];typeof r=="object"&&(r=In(r)),t.push([n,r])}),t},ec=(s,t)=>!!t&&t.toString()===s.toString(),_p=s=>{const t=Me.innerParams.get(s);s.disableButtons(),t.input?tc(s,"confirm"):ga(s,!0)},zp=s=>{const t=Me.innerParams.get(s);s.disableButtons(),t.returnInputValueOnDeny?tc(s,"deny"):pa(s,!1)},Up=(s,t)=>{s.disableButtons(),t(As.cancel)},tc=(s,t)=>{const n=Me.innerParams.get(s);if(!n.input){ds(`The "input" parameter is needed to be set when using returnInputValueOn${ta(t)}`);return}const r=s.getInput(),a=Op(s,n);n.inputValidator?qp(s,a,t):r&&!r.checkValidity()?(s.enableButtons(),s.showValidationMessage(n.validationMessage||r.validationMessage)):t==="deny"?pa(s,a):ga(s,a)},qp=(s,t,n)=>{const r=Me.innerParams.get(s);s.disableInput(),Promise.resolve().then(()=>tn(r.inputValidator(t,r.validationMessage))).then(o=>{s.enableButtons(),s.enableInput(),o?s.showValidationMessage(o):n==="deny"?pa(s,t):ga(s,t)})},pa=(s,t)=>{const n=Me.innerParams.get(s||void 0);n.showLoaderOnDeny&&Ns(us()),n.preDeny?(s.isAwaitingPromise=!0,Promise.resolve().then(()=>tn(n.preDeny(t,n.validationMessage))).then(a=>{a===!1?(s.hideLoading(),on(s)):s.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>sc(s||void 0,a))):s.close({isDenied:!0,value:t})},vo=(s,t)=>{s.close({isConfirmed:!0,value:t})},sc=(s,t)=>{s.rejectPromise(t)},ga=(s,t)=>{const n=Me.innerParams.get(s||void 0);n.showLoaderOnConfirm&&Ns(),n.preConfirm?(s.resetValidationMessage(),s.isAwaitingPromise=!0,Promise.resolve().then(()=>tn(n.preConfirm(t,n.validationMessage))).then(a=>{dt(ir())||a===!1?(s.hideLoading(),on(s)):vo(s,typeof a>"u"?t:a)}).catch(a=>sc(s||void 0,a))):vo(s,t)};function Bn(){const s=Me.innerParams.get(this);if(!s)return;const t=Me.domCache.get(this);st(t.loader),cr()?s.icon&&Xe(Es()):Hp(t),bt([t.popup,t.actions],T.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Hp=s=>{const t=s.popup.getElementsByClassName(s.loader.getAttribute("data-button-to-replace"));t.length?Xe(t[0],"inline-block"):xm()&&st(s.actions)};function nc(){const s=Me.innerParams.get(this),t=Me.domCache.get(this);return t?dr(t.popup,s.input):null}function rc(s,t,n){const r=Me.domCache.get(s);t.forEach(a=>{r[a].disabled=n})}function ac(s,t){const n=ke();if(!(!n||!s))if(s.type==="radio"){const r=n.querySelectorAll(`[name="${T.radio}"]`);for(let a=0;a<r.length;a++)r[a].disabled=t}else s.disabled=t}function oc(){rc(this,["confirmButton","denyButton","cancelButton"],!1)}function ic(){rc(this,["confirmButton","denyButton","cancelButton"],!0)}function lc(){ac(this.getInput(),!1)}function cc(){ac(this.getInput(),!0)}function dc(s){const t=Me.domCache.get(this),n=Me.innerParams.get(this);pt(t.validationMessage,s),t.validationMessage.className=T["validation-message"],n.customClass&&n.customClass.validationMessage&&Le(t.validationMessage,n.customClass.validationMessage),Xe(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",T["validation-message"]),Bl(r),Le(r,T.inputerror))}function uc(){const s=Me.domCache.get(this);s.validationMessage&&st(s.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),bt(t,T.inputerror))}const ys={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Vp=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Wp={allowEnterKey:void 0},Gp=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hc=s=>Object.prototype.hasOwnProperty.call(ys,s),mc=s=>Vp.indexOf(s)!==-1,pc=s=>Wp[s],Zp=s=>{hc(s)||rt(`Unknown parameter "${s}"`)},Jp=s=>{Gp.includes(s)&&rt(`The parameter "${s}" is incompatible with toasts`)},Kp=s=>{const t=pc(s);t&&Ol(s,t)},gc=s=>{s.backdrop===!1&&s.allowOutsideClick&&rt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),s.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(s.theme)&&rt(`Invalid theme "${s.theme}"`);for(const t in s)Zp(t),s.toast&&Jp(t),Kp(t)};function fc(s){const t=at(),n=ke(),r=Me.innerParams.get(this);if(!n||Bt(n,r.hideClass.popup)){rt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=Yp(s),o=Object.assign({},r,a);gc(o),t.dataset.swal2Theme=o.theme,Wl(this,o),Me.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,s),writable:!1,enumerable:!0}})}const Yp=s=>{const t={};return Object.keys(s).forEach(n=>{mc(n)?t[n]=s[n]:rt(`Invalid parameter to update: ${n}`)}),t};function xc(){const s=Me.domCache.get(this),t=Me.innerParams.get(this);if(!t){vc(this);return}s.popup&&re.swalCloseEventFinishedCallback&&(re.swalCloseEventFinishedCallback(),delete re.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),re.eventEmitter.emit("didDestroy"),Xp(this)}const Xp=s=>{vc(s),delete s.params,delete re.keydownHandler,delete re.keydownTarget,delete re.currentInstance},vc=s=>{s.isAwaitingPromise?(jr(Me,s),s.isAwaitingPromise=!0):(jr(js,s),jr(Me,s),delete s.isAwaitingPromise,delete s.disableButtons,delete s.enableButtons,delete s.getInput,delete s.disableInput,delete s.enableInput,delete s.hideLoading,delete s.disableLoading,delete s.showValidationMessage,delete s.resetValidationMessage,delete s.close,delete s.closePopup,delete s.closeModal,delete s.closeToast,delete s.rejectPromise,delete s.update,delete s._destroy)},jr=(s,t)=>{for(const n in s)s[n].delete(t)};var Qp=Object.freeze({__proto__:null,_destroy:xc,close:Zt,closeModal:Zt,closePopup:Zt,closeToast:Zt,disableButtons:ic,disableInput:cc,disableLoading:Bn,enableButtons:oc,enableInput:lc,getInput:nc,handleAwaitingPromise:on,hideLoading:Bn,rejectPromise:Ql,resetValidationMessage:uc,showValidationMessage:dc,update:fc});const eg=(s,t,n)=>{s.toast?tg(s,t,n):(ng(t),rg(t),ag(s,t,n))},tg=(s,t,n)=>{t.popup.onclick=()=>{s&&(sg(s)||s.timer||s.input)||n(As.close)}},sg=s=>!!(s.showConfirmButton||s.showDenyButton||s.showCancelButton||s.showCloseButton);let Rn=!1;const ng=s=>{s.popup.onmousedown=()=>{s.container.onmouseup=function(t){s.container.onmouseup=()=>{},t.target===s.container&&(Rn=!0)}}},rg=s=>{s.container.onmousedown=t=>{t.target===s.container&&t.preventDefault(),s.popup.onmouseup=function(n){s.popup.onmouseup=()=>{},(n.target===s.popup||n.target instanceof HTMLElement&&s.popup.contains(n.target))&&(Rn=!0)}}},ag=(s,t,n)=>{t.container.onclick=r=>{if(Rn){Rn=!1;return}r.target===t.container&&or(s.allowOutsideClick)&&n(As.backdrop)}},og=s=>typeof s=="object"&&s.jquery,bo=s=>s instanceof Element||og(s),ig=s=>{const t={};return typeof s[0]=="object"&&!bo(s[0])?Object.assign(t,s[0]):["title","html","icon"].forEach((n,r)=>{const a=s[r];typeof a=="string"||bo(a)?t[n]=a:a!==void 0&&ds(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof a}`)}),t};function lg(...s){return new this(...s)}function cg(s){class t extends this{_main(r,a){return super._main(r,Object.assign({},s,a))}}return t}const dg=()=>re.timeout&&re.timeout.getTimerLeft(),bc=()=>{if(re.timeout)return bm(),re.timeout.stop()},yc=()=>{if(re.timeout){const s=re.timeout.start();return da(s),s}},ug=()=>{const s=re.timeout;return s&&(s.running?bc():yc())},hg=s=>{if(re.timeout){const t=re.timeout.increase(s);return da(t,!0),t}},mg=()=>!!(re.timeout&&re.timeout.isRunning());let yo=!1;const qr={};function pg(s="data-swal-template"){qr[s]=this,yo||(document.body.addEventListener("click",gg),yo=!0)}const gg=s=>{for(let t=s.target;t&&t!==document;t=t.parentNode)for(const n in qr){const r=t.getAttribute(n);if(r){qr[n].fire({template:r});return}}};class fg{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const r=this._getHandlersByEventName(t);r.includes(n)||r.push(n)}once(t,n){const r=(...a)=>{this.removeListener(t,r),n.apply(this,a)};this.on(t,r)}emit(t,...n){this._getHandlersByEventName(t).forEach(r=>{try{r.apply(this,n)}catch(a){console.error(a)}})}removeListener(t,n){const r=this._getHandlersByEventName(t),a=r.indexOf(n);a>-1&&r.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}}re.eventEmitter=new fg;const xg=(s,t)=>{re.eventEmitter.on(s,t)},vg=(s,t)=>{re.eventEmitter.once(s,t)},bg=(s,t)=>{if(!s){re.eventEmitter.reset();return}t?re.eventEmitter.removeListener(s,t):re.eventEmitter.removeAllListeners(s)};var yg=Object.freeze({__proto__:null,argsToParams:ig,bindClickHandler:pg,clickCancel:ip,clickConfirm:Gl,clickDeny:op,enableLoading:Ns,fire:lg,getActions:nn,getCancelButton:Ps,getCloseButton:oa,getConfirmButton:Dt,getContainer:at,getDenyButton:us,getFocusableElements:ia,getFooter:Il,getHtmlContainer:ra,getIcon:Es,getIconContent:hm,getImage:Tl,getInputLabel:mm,getLoader:Ms,getPopup:ke,getProgressSteps:aa,getTimerLeft:dg,getTimerProgressBar:lr,getTitle:Dl,getValidationMessage:ir,increaseTimer:hg,isDeprecatedParameter:pc,isLoading:gm,isTimerRunning:mg,isUpdatableParameter:mc,isValidParameter:hc,isVisible:ap,mixin:cg,off:bg,on:xg,once:vg,resumeTimer:yc,showLoading:Ns,stopTimer:bc,toggleTimer:ug});class wg{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const wc=["swal-title","swal-html","swal-footer"],jg=s=>{const t=typeof s.template=="string"?document.querySelector(s.template):s.template;if(!t)return{};const n=t.content;return Mg(n),Object.assign(Ng(n),Sg(n),Cg(n),kg(n),Lg(n),Eg(n),Pg(n,wc))},Ng=s=>{const t={};return Array.from(s.querySelectorAll("swal-param")).forEach(r=>{cs(r,["name","value"]);const a=r.getAttribute("name"),o=r.getAttribute("value");!a||!o||(typeof ys[a]=="boolean"?t[a]=o!=="false":typeof ys[a]=="object"?t[a]=JSON.parse(o):t[a]=o)}),t},Sg=s=>{const t={};return Array.from(s.querySelectorAll("swal-function-param")).forEach(r=>{const a=r.getAttribute("name"),o=r.getAttribute("value");!a||!o||(t[a]=new Function(`return ${o}`)())}),t},Cg=s=>{const t={};return Array.from(s.querySelectorAll("swal-button")).forEach(r=>{cs(r,["type","color","aria-label"]);const a=r.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=r.innerHTML,t[`show${ta(a)}Button`]=!0,r.hasAttribute("color")&&(t[`${a}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),t},kg=s=>{const t={},n=s.querySelector("swal-image");return n&&(cs(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Lg=s=>{const t={},n=s.querySelector("swal-icon");return n&&(cs(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Eg=s=>{const t={},n=s.querySelector("swal-input");n&&(cs(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(s.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(a=>{cs(a,["value"]);const o=a.getAttribute("value");if(!o)return;const l=a.innerHTML;t.inputOptions[o]=l})),t},Pg=(s,t)=>{const n={};for(const r in t){const a=t[r],o=s.querySelector(a);o&&(cs(o,[]),n[a.replace(/^swal-/,"")]=o.innerHTML.trim())}return n},Mg=s=>{const t=wc.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(s.children).forEach(n=>{const r=n.tagName.toLowerCase();t.includes(r)||rt(`Unrecognized element <${r}>`)})},cs=(s,t)=>{Array.from(s.attributes).forEach(n=>{t.indexOf(n.name)===-1&&rt([`Unrecognized attribute "${n.name}" on <${s.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},jc=10,Ag=s=>{const t=at(),n=ke();typeof s.willOpen=="function"&&s.willOpen(n),re.eventEmitter.emit("willOpen",n);const a=window.getComputedStyle(document.body).overflowY;Tg(t,n,s),setTimeout(()=>{Og(t,n)},jc),la()&&(Dg(t,s.scrollbarPadding,a),gp()),!cr()&&!re.previousActiveElement&&(re.previousActiveElement=document.activeElement),typeof s.didOpen=="function"&&setTimeout(()=>s.didOpen(n)),re.eventEmitter.emit("didOpen",n),bt(t,T["no-transition"])},Fn=s=>{const t=ke();if(s.target!==t)return;const n=at();t.removeEventListener("animationend",Fn),t.removeEventListener("transitionend",Fn),n.style.overflowY="auto"},Og=(s,t)=>{Fl(t)?(s.style.overflowY="hidden",t.addEventListener("animationend",Fn),t.addEventListener("transitionend",Fn)):s.style.overflowY="auto"},Dg=(s,t,n)=>{fp(),t&&n!=="hidden"&&Np(n),setTimeout(()=>{s.scrollTop=0})},Tg=(s,t,n)=>{Le(s,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),Xe(t,"grid"),setTimeout(()=>{Le(t,n.showClass.popup),t.style.removeProperty("opacity")},jc)):Xe(t,"grid"),Le([document.documentElement,document.body],T.shown),n.heightAuto&&n.backdrop&&!n.toast&&Le([document.documentElement,document.body],T["height-auto"])};var wo={email:(s,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(s)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(s,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(s)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Ig(s){s.inputValidator||(s.input==="email"&&(s.inputValidator=wo.email),s.input==="url"&&(s.inputValidator=wo.url))}function Bg(s){(!s.target||typeof s.target=="string"&&!document.querySelector(s.target)||typeof s.target!="string"&&!s.target.appendChild)&&(rt('Target parameter is not valid, defaulting to "body"'),s.target="body")}function Rg(s){Ig(s),s.showLoaderOnConfirm&&!s.preConfirm&&rt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Bg(s),typeof s.title=="string"&&(s.title=s.title.split(`
`).join("<br />")),Lm(s)}let Ot;var wn=new WeakMap;class qe{constructor(...t){if(rm(this,wn,void 0),typeof window>"u")return;Ot=this;const n=Object.freeze(this.constructor.argsToParams(t));this.params=n,this.isAwaitingPromise=!1,am(wn,this,this._main(Ot.params))}_main(t,n={}){if(gc(Object.assign({},n,t)),re.currentInstance){const o=js.swalPromiseResolve.get(re.currentInstance),{isAwaitingPromise:l}=re.currentInstance;re.currentInstance._destroy(),l||o({isDismissed:!0}),la()&&Kl()}re.currentInstance=Ot;const r=$g(t,n);Rg(r),Object.freeze(r),re.timeout&&(re.timeout.stop(),delete re.timeout),clearTimeout(re.restoreFocusTimeout);const a=_g(Ot);return Wl(Ot,r),Me.innerParams.set(Ot,r),Fg(Ot,a,r)}then(t){return uo(wn,this).then(t)}finally(t){return uo(wn,this).finally(t)}}const Fg=(s,t,n)=>new Promise((r,a)=>{const o=l=>{s.close({isDismissed:!0,dismiss:l})};js.swalPromiseResolve.set(s,r),js.swalPromiseReject.set(s,a),t.confirmButton.onclick=()=>{_p(s)},t.denyButton.onclick=()=>{zp(s)},t.cancelButton.onclick=()=>{Up(s,o)},t.closeButton.onclick=()=>{o(As.close)},eg(n,t,o),lp(re,n,o),Ap(s,n),Ag(n),zg(re,n,o),Ug(t,n),setTimeout(()=>{t.container.scrollTop=0})}),$g=(s,t)=>{const n=jg(s),r=Object.assign({},ys,t,n,s);return r.showClass=Object.assign({},ys.showClass,r.showClass),r.hideClass=Object.assign({},ys.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},_g=s=>{const t={popup:ke(),container:at(),actions:nn(),confirmButton:Dt(),denyButton:us(),cancelButton:Ps(),loader:Ms(),closeButton:oa(),validationMessage:ir(),progressSteps:aa()};return Me.domCache.set(s,t),t},zg=(s,t,n)=>{const r=lr();st(r),t.timer&&(s.timeout=new wg(()=>{n("timer"),delete s.timeout},t.timer),t.timerProgressBar&&(Xe(r),ht(r,t,"timerProgressBar"),setTimeout(()=>{s.timeout&&s.timeout.running&&da(t.timer)})))},Ug=(s,t)=>{if(!t.toast){if(!or(t.allowEnterKey)){Ol("allowEnterKey"),Vg();return}qg(s)||Hg(s,t)||Ur(-1,1)}},qg=s=>{const t=Array.from(s.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&dt(n))return n.focus(),!0;return!1},Hg=(s,t)=>t.focusDeny&&dt(s.denyButton)?(s.denyButton.focus(),!0):t.focusCancel&&dt(s.cancelButton)?(s.cancelButton.focus(),!0):t.focusConfirm&&dt(s.confirmButton)?(s.confirmButton.focus(),!0):!1,Vg=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};qe.prototype.disableButtons=ic;qe.prototype.enableButtons=oc;qe.prototype.getInput=nc;qe.prototype.disableInput=cc;qe.prototype.enableInput=lc;qe.prototype.hideLoading=Bn;qe.prototype.disableLoading=Bn;qe.prototype.showValidationMessage=dc;qe.prototype.resetValidationMessage=uc;qe.prototype.close=Zt;qe.prototype.closePopup=Zt;qe.prototype.closeModal=Zt;qe.prototype.closeToast=Zt;qe.prototype.rejectPromise=Ql;qe.prototype.update=fc;qe.prototype._destroy=xc;Object.assign(qe,yg);Object.keys(Qp).forEach(s=>{qe[s]=function(...t){return Ot&&Ot[s]?Ot[s](...t):null}});qe.DismissReason=As;qe.version="11.22.4";const Ee=qe;Ee.default=Ee;typeof document<"u"&&function(s,t){var n=s.createElement("style");if(s.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function Nc({isOpen:s,onClose:t,onSave:n,initialAddress:r={}}){const[a,o]=i.useState({houseNo:"",street:"",landmark:"",city:"Jatani",state:"Odisha",pincode:"752054",fullAddress:"",...r}),[l,c]=i.useState(!1),[d,h]=i.useState({});i.useEffect(()=>{if(s){const m=[a.houseNo,a.street,a.landmark,a.city,a.state,a.pincode].filter(Boolean).join(", ");o(p=>({...p,fullAddress:m}))}},[a.houseNo,a.street,a.landmark,a.city,a.state,a.pincode,s]);const u=()=>{const m={};return a.houseNo.trim()||(m.houseNo="House/Flat/Block No. is required"),a.street.trim()||(m.street="Street/Area is required"),a.city.trim()||(m.city="City is required"),a.state.trim()||(m.state="State is required"),(!a.pincode.trim()||a.pincode.length!==6)&&(m.pincode="Valid 6-digit pincode is required"),h(m),Object.keys(m).length===0},f=async()=>{if(u()){c(!0);try{navigator.geolocation?navigator.geolocation.getCurrentPosition(m=>{const p={lat:m.coords.latitude,lng:m.coords.longitude},b={...a,coordinates:p};n(b)},()=>{n(a)}):n(a)}catch(m){console.error("Error saving address:",m),n(a)}finally{c(!1)}}},x=(m,p)=>{o(b=>({...b,[m]:p})),d[m]&&h(b=>({...b,[m]:""}))};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Add Delivery Address"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete address is required for delivery"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"House/Flat/Block No. *"}),e.jsx("input",{type:"text",value:a.houseNo,onChange:m=>x("houseNo",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.houseNo?"border-red-500":"border-gray-300"}`,placeholder:"Enter house/flat number"}),d.houseNo&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.houseNo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street / Area *"}),e.jsx("input",{type:"text",value:a.street,onChange:m=>x("street",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.street?"border-red-500":"border-gray-300"}`,placeholder:"Enter street name or area"}),d.street&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.street})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Landmark (optional)"}),e.jsx("input",{type:"text",value:a.landmark,onChange:m=>x("landmark",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Near hospital, school, etc."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:a.city,onChange:m=>x("city",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.city?"border-red-500":"border-gray-300"}`}),d.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.city})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsx("input",{type:"text",value:a.state,onChange:m=>x("state",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.state?"border-red-500":"border-gray-300"}`}),d.state&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.state})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode *"}),e.jsx("input",{type:"text",value:a.pincode,onChange:m=>x("pincode",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${d.pincode?"border-red-500":"border-gray-300"}`,maxLength:6,placeholder:"6 digits"}),d.pincode&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:d.pincode})]})]}),a.fullAddress&&e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address Preview"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.fullAddress})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsxs("button",{onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center",children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:f,disabled:l,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors flex items-center justify-center",children:[l?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"Save and Continue"]})]})]})}):null}function Wg(){const s=zi(),t=Ft(),[n,r]=i.useState(!1),[a,o]=i.useState(0),[l,c]=i.useState([]),[d,h]=i.useState(!1),[u,f]=i.useState(null),[x,m]=i.useState(""),p=s.state||{};let b=p.selectedDate||localStorage.getItem("selectedDate"),g=p.selectedTimeSlot||JSON.parse(localStorage.getItem("selectedTimeSlot")||"{}");console.log("ðŸ“¦ Final pickupTimeSlot:",g),i.useEffect(()=>{try{const N=JSON.parse(localStorage.getItem("cart")||"[]"),v=localStorage.getItem("selectedDate"),y=JSON.parse(localStorage.getItem("selectedTimeSlot")||"null"),E=JSON.parse(localStorage.getItem("deliveryAddress")||"null");if(c(N),b||(b=v),g||(g=y),E&&f(E),!N.length||!b||!g)throw new Error("Missing booking info");const k=N.reduce((j,M)=>{var z;const R=((z=M.service)==null?void 0:z.options)||[],A=M.selectedOptions.reduce((q,U)=>{const V=R.find(J=>J.id===U);return q+((V==null?void 0:V.price)||0)},0);return j+A*M.quantity},0);o(k)}catch{Ee.fire("Error","Invalid or missing cart data","error").then(()=>t("/mainapp"))}},[t]);const w=N=>{f(N),h(!1),localStorage.setItem("deliveryAddress",JSON.stringify(N))},S=()=>{h(!1)},P=async()=>{var v,y,E,k,j,M;if(!b||!g||l.length===0){Ee.fire("Error","Incomplete booking data.","error");return}if(!u){h(!0);return}const N={label:((y=(v=g==null?void 0:g.period)==null?void 0:v.toLowerCase)==null?void 0:y.call(v))||"",range:((k=(E=g==null?void 0:g.time)==null?void 0:E.trim)==null?void 0:k.call(E))||""};console.log("âœ… Sending formatted slot:",N),r(!0);try{const R=localStorage.getItem("token");await he.post("/api/booking/create-multi",{items:l.map(A=>{var z;return{productId:((z=A.service)==null?void 0:z._id)||A.productId,quantity:A.quantity,selectedOptions:A.selectedOptions||[]}}),pickupDate:b,pickupTimeSlot:N,totalAmount:a,paymentMethod:"cash",deliveryAddress:u,deliveryInstructions:x},{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}}),Ee.fire("Order Placed","Cash on Delivery confirmed!","success"),localStorage.removeItem("cart"),localStorage.removeItem("selectedDate"),localStorage.removeItem("selectedTimeSlot"),localStorage.removeItem("quantity"),setTimeout(()=>t("/"),1e3)}catch(R){Ee.fire("Error",((M=(j=R.response)==null?void 0:j.data)==null?void 0:M.message)||"Something went wrong","error")}finally{r(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-100",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-4 flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(Hi,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Payment"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Review your order and proceed"})]})]})}),e.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 border-t pt-3",children:[l.map((N,v)=>{var y;return e.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[e.jsxs("span",{children:[N.name||((y=N.service)==null?void 0:y.name)," x ",N.quantity]}),e.jsxs("span",{children:["â‚¹",N.selectedOptions.reduce((E,k)=>{var M,R;const j=(R=(M=N==null?void 0:N.service)==null?void 0:M.options)==null?void 0:R.find(A=>A.id===k);return E+((j==null?void 0:j.price)||0)},0)*N.quantity]})]},v)}),e.jsxs("div",{className:"flex justify-between text-base font-medium text-gray-900 pt-2 border-t",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["â‚¹",a.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(Jr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Delivery Address"]}),!u&&e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Required"})]}),u?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Delivery Address:"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.fullAddress}),x&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Delivery Instructions:"}),e.jsx("p",{className:"text-sm text-gray-600",children:x})]})]}),e.jsx("button",{onClick:()=>h(!0),className:"text-blue-600 text-sm font-medium hover:text-blue-700 ml-4",children:"Edit"})]})}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:"Address Required"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Please add your delivery address to continue"})]}),e.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700",children:"Add Address"})]})})]}),u&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Instructions (Optional)"}),e.jsx("textarea",{value:x,onChange:N=>m(N.target.value),placeholder:"Any special instructions for delivery (e.g., call before delivery, leave at gate, etc.)",className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),e.jsx("div",{className:"space-y-4 mb-8",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border-2 border-green-500 bg-green-50",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-green-500",children:e.jsx(Cd,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Cash on Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Pay with cash upon delivery"})]})]}),e.jsx(xd,{className:"w-5 h-5 text-green-600"})]})})})}),e.jsx("button",{onClick:P,disabled:n,className:`w-full py-4 px-6 rounded-2xl font-semibold text-white ${n?"bg-gray-300 cursor-not-allowed":"bg-gradient-to-r from-green-600 to-lime-500 hover:from-green-700 hover:to-lime-600"}`,children:n?"Processing...":"Place Order"})]}),e.jsx(Nc,{isOpen:d,onClose:S,onSave:w,initialAddress:u||void 0})]})}const Gg=()=>{const[s,t]=i.useState(""),[n,r]=i.useState(""),[a,o]=i.useState(!1),[l,c]=i.useState(!1),[d,h]=i.useState("customer"),u=Ft(),f=async x=>{if(x.preventDefault(),!s||!n||!d){Ee.fire({icon:"warning",title:"Missing Information",text:"Please fill in all fields",confirmButtonColor:"#3B82F6"});return}if(!s.includes("@")){Ee.fire({icon:"error",title:"Invalid Email",text:"Please enter a valid email address",confirmButtonColor:"#3B82F6"});return}c(!0);try{const m=await Fe("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:n,role:d})}),p=await m.json();if(c(!1),m.ok){if(Ee.fire({icon:"success",title:"Welcome Back!",text:p.message||"You have successfully signed in",confirmButtonColor:"#3B82F6",timer:1e3,timerProgressBar:!0}),p.token)if(localStorage.setItem("token",p.token),p.userId)localStorage.setItem("userId",p.userId);else{const b=JSON.parse(atob(p.token.split(".")[1]));b.userId&&localStorage.setItem("userId",b.userId),b.role&&localStorage.setItem("role",b.role)}d==="customer"?u("/mainapp"):d==="washerman"?u("/LaundrymanDashboard"):d==="admin"&&u("/AdminDashboard")}else Ee.fire({icon:"error",title:"Sign In Failed",text:p.message||"Invalid email or password",confirmButtonColor:"#3B82F6"})}catch(m){c(!1),Ee.fire({icon:"error",title:"Server Error",text:"Something went wrong. Please try again later.",confirmButtonColor:"#3B82F6"}),console.error("SignIn error:",m)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white px-4 py-10 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 via-purple-400/20 to-pink-400/20"}),e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-blue-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-purple-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/2 left-10 w-24 h-24 bg-pink-200/30 rounded-full blur-3xl animate-pulse delay-500"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx(Ys,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2",children:"DhobiXpress"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Please sign in to your account"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Continue with email"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:s,onChange:x=>t(x.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50/50",placeholder:"Enter your email"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"password",type:a?"text":"password",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50/50",placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a?e.jsx(Vi,{className:"w-5 h-5"}):e.jsx(Wi,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Select Role"}),e.jsxs("select",{id:"role",value:d,onChange:x=>h(x.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"washerman",children:"Dhobi"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{type:"button",onClick:async()=>{const{value:x}=await Ee.fire({title:"Forgot Password",input:"email",inputLabel:"Enter your registered email address",inputPlaceholder:"you@example.com",confirmButtonText:"Send Reset Link",confirmButtonColor:"#3B82F6",showCancelButton:!0,cancelButtonColor:"#d33",inputValidator:m=>{if(m){if(!m.includes("@"))return"Invalid email format"}else return"Email is required"}});if(x)try{const m=await Fe("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x})}),p=await m.json();m.ok?Ee.fire({icon:"success",title:"Email Sent!",text:"A password reset link has been sent to your email.",confirmButtonColor:"#3B82F6"}):Ee.fire({icon:"error",title:"Failed to Send",text:p.message||"Email not found or server error.",confirmButtonColor:"#3B82F6"})}catch{Ee.fire({icon:"error",title:"Server Error",text:"Something went wrong. Please try again later.",confirmButtonColor:"#3B82F6"})}},className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 px-4 rounded-xl transition-all duration-200 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed shadow-lg",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing In..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(Nt,{to:"/signup",className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Sign up here"})]})})]})})]})},Zg=()=>{const[s,t]=i.useState({fullName:"",email:"",password:"",contact:"",confirmPassword:"",role:"customer"}),[n,r]=i.useState(!1),[a,o]=i.useState(!1),[l,c]=i.useState(!1),d=Ft(),h=x=>{const{name:m,value:p}=x.target;t(b=>({...b,[m]:p}))},u=()=>{const{fullName:x,email:m,password:p,confirmPassword:b,contact:g}=s;return!x||!m||!p||!b||!g?(Ee.fire({icon:"warning",title:"Missing Information",text:"Please fill in all fields",confirmButtonColor:"#3B82F6"}),!1):m.includes("@")?p.length<6?(Ee.fire({icon:"error",title:"Password Too Short",text:"Password must be at least 6 characters long",confirmButtonColor:"#3B82F6"}),!1):p!==b?(Ee.fire({icon:"error",title:"Passwords Don't Match",text:"Please make sure both passwords match",confirmButtonColor:"#3B82F6"}),!1):!0:(Ee.fire({icon:"error",title:"Invalid Email",text:"Please enter a valid email address",confirmButtonColor:"#3B82F6"}),!1)},f=async x=>{if(x.preventDefault(),!!u()){c(!0);try{const m=await Fe("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s.fullName,email:s.email,password:s.password,role:s.role,contact:s.contact})}),p=await m.json();if(!m.ok)throw new Error(p.message||"Signup failed");Ee.fire({icon:"success",title:"Account Created!",text:p.message||"Signup successful.",confirmButtonColor:"#3B82F6",timer:1500,timerProgressBar:!0}),d("/signin")}catch(m){Ee.fire({icon:"error",title:"Signup Error",text:m.message||"Unexpected error. Please try again.",confirmButtonColor:"#3B82F6"})}finally{c(!1)}}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white px-4 py-10 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/20 via-pink-400/20 to-blue-400/20"}),e.jsx("div",{className:"absolute top-32 right-20 w-28 h-28 bg-purple-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-32 left-16 w-36 h-36 bg-pink-200/30 rounded-full blur-3xl animate-pulse delay-1000"}),e.jsx("div",{className:"absolute top-1/3 right-10 w-20 h-20 bg-blue-200/30 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl p-8 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx(Ys,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2",children:"Join DhobiXpress"}),e.jsx("p",{className:"text-gray-600",children:"Create your account and get started!"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsx($s,{id:"fullName",label:"Full Name",icon:e.jsx(Kr,{}),placeholder:"Enter your full name",name:"fullName",value:s.fullName,onChange:h}),e.jsx($s,{id:"email",label:"Email Address",icon:e.jsx(Zr,{}),placeholder:"Enter your email",type:"email",name:"email",value:s.email,onChange:h}),e.jsx($s,{id:"contact",label:"Contact Number",icon:e.jsx(Ki,{}),placeholder:"Enter your contact number",type:"tel",name:"contact",value:s.contact,onChange:h}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"role",className:"text-sm font-medium text-gray-700",children:"Role"}),e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:h,className:"w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50/50 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"washerman",children:"Washerman"})]})]}),e.jsx($s,{id:"password",label:"Password",icon:e.jsx(Mr,{}),placeholder:"Create a password",type:n?"text":"password",name:"password",value:s.password,onChange:h,toggleVisibility:()=>r(!n),visible:n}),e.jsx($s,{id:"confirmPassword",label:"Confirm Password",icon:e.jsx(Mr,{}),placeholder:"Confirm your password",type:a?"text":"password",name:"confirmPassword",value:s.confirmPassword,onChange:h,toggleVisibility:()=>o(!a),visible:a}),e.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold py-3 rounded-xl transition duration-200 transform hover:scale-[1.02] disabled:opacity-70 disabled:cursor-not-allowed shadow-lg",children:l?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating Account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(Nt,{to:"/signin",className:"text-blue-600 hover:text-blue-800 font-semibold transition-colors",children:"Sign in here"})]})})]})})]})},$s=({id:s,label:t,icon:n,placeholder:r,type:a="text",name:o,value:l,onChange:c,toggleVisibility:d,visible:h})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:s,className:"text-sm font-medium text-gray-700",children:t}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:n}),e.jsx("input",{id:s,name:o,type:a,value:l,onChange:c,placeholder:r,className:"w-full pl-10 pr-12 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50/50 transition-all"}),d&&e.jsx("button",{type:"button",onClick:d,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:h?e.jsx(Vi,{className:"w-5 h-5"}):e.jsx(Wi,{className:"w-5 h-5"})})]})]});function Gs(s){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(s)}function Jg(s,t){if(Gs(s)!="object"||!s)return s;var n=s[Symbol.toPrimitive];if(n!==void 0){var r=n.call(s,t);if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function Kg(s){var t=Jg(s,"string");return Gs(t)=="symbol"?t:t+""}function I(s,t,n){return(t=Kg(t))in s?Object.defineProperty(s,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[t]=n,s}function Sc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nr,jo;function Yg(){if(jo)return Nr;jo=1;var s=function(n,r,a,o,l,c,d,h){if(!n){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[a,o,l,c,d,h],x=0;u=new Error(r.replace(/%s/g,function(){return f[x++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return Nr=s,Nr}var Xg=Yg(),Ke=Sc(Xg),fe=i.createContext(null);function Qg(){Ke(!!i.useContext,"useGoogleMap is React hook and requires React version 16.8+");var s=i.useContext(fe);return Ke(!!s,"useGoogleMap needs a GoogleMap available up in the tree"),s}function ef(s,t,n){return Object.keys(s).reduce(function(a,o){return t(a,s[o],o)},n)}function tf(s,t){Object.keys(s).forEach(n=>t(s[n],n))}function sf(s,t,n,r){var a={},o=(l,c)=>{var d=n[c];d!==t[c]&&(a[c]=d,l(r,d))};return tf(s,o),a}function nf(s,t,n){var r=ef(n,function(o,l,c){return typeof s[c]=="function"&&o.push(google.maps.event.addListener(t,l,s[c])),o},[]);return r}function rf(s){google.maps.event.removeListener(s)}function we(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(rf)}function ye(s){var{updaterMap:t,eventMap:n,prevProps:r,nextProps:a,instance:o}=s,l=nf(a,o,n);return sf(t,r,a,o),l}var No={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},So={extraMapTypes(s,t){t.forEach(function(r,a){s.mapTypes.set(String(a),r)})},center(s,t){s.setCenter(t)},clickableIcons(s,t){s.setClickableIcons(t)},heading(s,t){s.setHeading(t)},mapTypeId(s,t){s.setMapTypeId(t)},options(s,t){s.setOptions(t)},streetView(s,t){s.setStreetView(t)},tilt(s,t){s.setTilt(t)},zoom(s,t){s.setZoom(t)}};function af(s){var{children:t,options:n,id:r,mapContainerStyle:a,mapContainerClassName:o,center:l,onClick:c,onDblClick:d,onDrag:h,onDragEnd:u,onDragStart:f,onMouseMove:x,onMouseOut:m,onMouseOver:p,onMouseDown:b,onMouseUp:g,onRightClick:w,onCenterChanged:S,onLoad:P,onUnmount:N}=s,[v,y]=i.useState(null),E=i.useRef(null),[k,j]=i.useState(null),[M,R]=i.useState(null),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(null),[X,oe]=i.useState(null),[ie,ne]=i.useState(null),[ee,K]=i.useState(null),[le,C]=i.useState(null),[_,Q]=i.useState(null),[Z,pe]=i.useState(null),[G,Y]=i.useState(null);return i.useEffect(()=>{n&&v!==null&&v.setOptions(n)},[v,n]),i.useEffect(()=>{v!==null&&typeof l<"u"&&v.setCenter(l)},[v,l]),i.useEffect(()=>{v&&d&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(v,"dblclick",d)))},[d]),i.useEffect(()=>{v&&u&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(v,"dragend",u)))},[u]),i.useEffect(()=>{v&&f&&(q!==null&&google.maps.event.removeListener(q),U(google.maps.event.addListener(v,"dragstart",f)))},[f]),i.useEffect(()=>{v&&b&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(v,"mousedown",b)))},[b]),i.useEffect(()=>{v&&x&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(v,"mousemove",x)))},[x]),i.useEffect(()=>{v&&m&&(ie!==null&&google.maps.event.removeListener(ie),ne(google.maps.event.addListener(v,"mouseout",m)))},[m]),i.useEffect(()=>{v&&p&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(v,"mouseover",p)))},[p]),i.useEffect(()=>{v&&g&&(le!==null&&google.maps.event.removeListener(le),C(google.maps.event.addListener(v,"mouseup",g)))},[g]),i.useEffect(()=>{v&&w&&(_!==null&&google.maps.event.removeListener(_),Q(google.maps.event.addListener(v,"rightclick",w)))},[w]),i.useEffect(()=>{v&&c&&(Z!==null&&google.maps.event.removeListener(Z),pe(google.maps.event.addListener(v,"click",c)))},[c]),i.useEffect(()=>{v&&h&&(G!==null&&google.maps.event.removeListener(G),Y(google.maps.event.addListener(v,"drag",h)))},[h]),i.useEffect(()=>{v&&S&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(v,"center_changed",S)))},[c]),i.useEffect(()=>{var $e=E.current===null?null:new google.maps.Map(E.current,n);return y($e),$e!==null&&P&&P($e),()=>{$e!==null&&N&&N($e)}},[]),e.jsx("div",{id:r,ref:E,style:a,className:o,children:e.jsx(fe.Provider,{value:v,children:v!==null?t:null})})}i.memo(af);class $n extends i.PureComponent{constructor(){super(...arguments),I(this,"state",{map:null}),I(this,"registeredEvents",[]),I(this,"mapRef",null),I(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),I(this,"panTo",t=>{var n=this.getInstance();n&&n.panTo(t)}),I(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),I(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=ye({updaterMap:So,eventMap:No,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:So,eventMap:No,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),we(this.registeredEvents))}render(){return e.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:e.jsx(fe.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function Co(s,t,n,r,a,o,l){try{var c=s[o](l),d=c.value}catch(h){return void n(h)}c.done?t(d):Promise.resolve(d).then(r,a)}function Cc(s){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=s.apply(t,n);function l(d){Co(o,r,a,l,c,"next",d)}function c(d){Co(o,r,a,l,c,"throw",d)}l(void 0)})}}function kc(s){var{googleMapsApiKey:t,googleMapsClientId:n,version:r="weekly",language:a,region:o,libraries:l,channel:c,mapIds:d,authReferrerPolicy:h,apiUrl:u="https://maps.googleapis.com"}=s,f=[];return Ke(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?f.push("key=".concat(t)):n&&f.push("client=".concat(n)),r&&f.push("v=".concat(r)),a&&f.push("language=".concat(a)),o&&f.push("region=".concat(o)),l&&l.length&&f.push("libraries=".concat(l.sort().join(","))),c&&f.push("channel=".concat(c)),d&&d.length&&f.push("map_ids=".concat(d.join(","))),h&&f.push("auth_referrer_policy=".concat(h)),f.push("loading=async"),f.push("callback=initMap"),"".concat(u,"/maps/api/js?").concat(f.join("&"))}var Jt=typeof document<"u";function Lc(s){var{url:t,id:n,nonce:r}=s;return Jt?new Promise(function(o,l){var c=document.getElementById(n),d=window;if(c){var h=c.getAttribute("data-state");if(c.src===t&&h!=="error"){if(h==="ready")return o(n);var u=d.initMap,f=c.onerror;d.initMap=function(){u&&u(),o(n)},c.onerror=function(m){f&&f(m),l(m)};return}else c.remove()}var x=document.createElement("script");x.type="text/javascript",x.src=t,x.id=n,x.async=!0,x.nonce=r||"",x.onerror=function(p){x.setAttribute("data-state","error"),l(p)},d.initMap=function(){x.setAttribute("data-state","ready"),o(n)},document.head.appendChild(x)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function ko(s){var t=s.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:s.tagName.toLowerCase()==="style"&&s.styleSheet&&s.styleSheet.cssText&&s.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(s.styleSheet.cssText="",!0):s.tagName.toLowerCase()==="style"&&s.innerHTML&&s.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(s.innerHTML="",!0):s.tagName.toLowerCase()==="style"&&!s.styleSheet&&!s.innerHTML}function fa(){var s=document.getElementsByTagName("head")[0];if(s){var t=s.insertBefore.bind(s);s.insertBefore=function(a,o){return ko(a)||Reflect.apply(t,s,[a,o]),a};var n=s.appendChild.bind(s);s.appendChild=function(a){return ko(a)||Reflect.apply(n,s,[a]),a}}}var _s=!1;function Ec(){return e.jsx("div",{children:"Loading..."})}var Zs={id:"script-loader",version:"weekly"};class of extends i.PureComponent{constructor(){super(...arguments),I(this,"check",null),I(this,"state",{loaded:!1}),I(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),I(this,"isCleaningUp",Cc(function*(){function t(n){if(!_s)n();else if(Jt)var r=window.setInterval(function(){_s||(window.clearInterval(r),n())},1)}return new Promise(t)})),I(this,"cleanup",()=>{_s=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),I(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&fa(),Ke(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:kc(this.props)};Lc(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),I(this,"getRef",t=>{this.check=t})}componentDidMount(){if(Jt){if(window.google&&window.google.maps&&!_s){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Jt&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Jt){this.cleanup();var t=()=>{this.check||(delete window.google,_s=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||e.jsx(Ec,{})]})}}I(of,"defaultProps",Zs);function lf(s,t){if(s==null)return{};var n={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(t.includes(r))continue;n[r]=s[r]}return n}function xa(s,t){if(s==null)return{};var n,r,a=lf(s,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(s,n)&&(a[n]=s[n])}return a}var Lo;function cf(s){var{id:t=Zs.id,version:n=Zs.version,nonce:r,googleMapsApiKey:a,googleMapsClientId:o,language:l,region:c,libraries:d,preventGoogleFontsLoading:h,channel:u,mapIds:f,authReferrerPolicy:x,apiUrl:m="https://maps.googleapis.com"}=s,p=i.useRef(!1),[b,g]=i.useState(!1),[w,S]=i.useState(void 0);i.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),i.useEffect(function(){Jt&&h&&fa()},[h]),i.useEffect(function(){b&&Ke(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[b]);var P=kc({version:n,googleMapsApiKey:a,googleMapsClientId:o,language:l,region:c,libraries:d,channel:u,mapIds:f,authReferrerPolicy:x,apiUrl:m});i.useEffect(function(){if(!Jt)return;function y(){p.current&&(g(!0),Lo=P)}if(window.google&&window.google.maps&&Lo===P){y();return}Lc({id:t,url:P,nonce:r}).then(y).catch(function(k){p.current&&S(k),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(o||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(k)})},[t,P,r]);var N=i.useRef(void 0);return i.useEffect(function(){N.current&&d!==N.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),N.current=d},[d]),{isLoaded:b,loadError:w,url:P}}var df=["loadingElement","onLoad","onError","onUnmount","children"],uf=e.jsx(Ec,{});function hf(s){var{loadingElement:t,onLoad:n,onError:r,onUnmount:a,children:o}=s,l=xa(s,df),{isLoaded:c,loadError:d}=cf(l);return i.useEffect(function(){c&&typeof n=="function"&&n()},[c,n]),i.useEffect(function(){d&&typeof r=="function"&&r(d)},[d,r]),i.useEffect(function(){return()=>{a&&a()}},[a]),c?o:t||uf}i.memo(hf);function mf(s,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(u){try{h(r.next(u))}catch(f){l(f)}}function d(u){try{h(r.throw(u))}catch(f){l(f)}}function h(u){u.done?o(u.value):a(u.value).then(c,d)}h((r=r.apply(s,[])).next())})}function pf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gf=function s(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!s(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;a--!==0;){var l=o[a];if(!s(t[l],n[l]))return!1}return!0}return t!==t&&n!==n},ff=pf(gf),Eo="__googleMapsScriptId",vs;(function(s){s[s.INITIALIZED=0]="INITIALIZED",s[s.LOADING=1]="LOADING",s[s.SUCCESS=2]="SUCCESS",s[s.FAILURE=3]="FAILURE"})(vs||(vs={}));class rs{constructor(t){var{apiKey:n,authReferrerPolicy:r,channel:a,client:o,id:l=Eo,language:c,libraries:d=[],mapIds:h,nonce:u,region:f,retries:x=3,url:m="https://maps.googleapis.com/maps/api/js",version:p}=t;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=n,this.authReferrerPolicy=r,this.channel=a,this.client=o,this.id=l||Eo,this.language=c,this.libraries=d,this.mapIds=h,this.nonce=u,this.region=f,this.retries=x,this.url=m,this.version=p,rs.instance){if(!ff(this.options,rs.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(rs.instance.options)));return rs.instance}rs.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?vs.FAILURE:this.done?vs.SUCCESS:this.loading?vs.LOADING:vs.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var t=this.url;return t+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(t+="&key=".concat(this.apiKey)),this.channel&&(t+="&channel=".concat(this.channel)),this.client&&(t+="&client=".concat(this.client)),this.libraries.length>0&&(t+="&libraries=".concat(this.libraries.join(","))),this.language&&(t+="&language=".concat(this.language)),this.region&&(t+="&region=".concat(this.region)),this.version&&(t+="&v=".concat(this.version)),this.mapIds&&(t+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(t+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),t}deleteScript(){var t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(r=>{r?n(r.error):t(window.google)})})}importLibrary(t){return this.execute(),google.maps.importLibrary(t)}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){var t,n;if(document.getElementById(this.id)){this.callback();return}var r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(o=>!r[o]&&delete r[o]),!((n=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.maps)===null||n===void 0)&&n.importLibrary||(o=>{var l,c,d,h="The Google Maps JavaScript API",u="google",f="importLibrary",x="__ib__",m=document,p=window;p=p[u]||(p[u]={});var b=p.maps||(p.maps={}),g=new Set,w=new URLSearchParams,S=()=>l||(l=new Promise((P,N)=>mf(this,void 0,void 0,function*(){var v;yield c=m.createElement("script"),c.id=this.id,w.set("libraries",[...g]+"");for(d in o)w.set(d.replace(/[A-Z]/g,y=>"_"+y[0].toLowerCase()),o[d]);w.set("callback",u+".maps."+x),c.src=this.url+"?"+w,b[x]=P,c.onerror=()=>l=N(Error(h+" could not load.")),c.nonce=this.nonce||((v=m.querySelector("script[nonce]"))===null||v===void 0?void 0:v.nonce)||"",m.head.append(c)})));b[f]?console.warn(h+" only loads once. Ignoring:",o):b[f]=function(P){for(var N=arguments.length,v=new Array(N>1?N-1:0),y=1;y<N;y++)v[y-1]=arguments[y];return g.add(P)&&S().then(()=>b[f](P,...v))}})(r);var a=this.libraries.map(o=>this.importLibrary(o));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),o=>{var l=new ErrorEvent("error",{error:o});this.loadErrorCallback(l)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){var n=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(n," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var xf=["maps"];function va(s){var{id:t=Zs.id,version:n=Zs.version,nonce:r,googleMapsApiKey:a,language:o,region:l,libraries:c=xf,preventGoogleFontsLoading:d,mapIds:h,authReferrerPolicy:u}=s,f=i.useRef(!1),[x,m]=i.useState(!1),[p,b]=i.useState(void 0);i.useEffect(function(){return f.current=!0,()=>{f.current=!1}},[]);var g=i.useMemo(()=>new rs({id:t,apiKey:a,version:n,libraries:c,language:o||"en",region:l||"US",mapIds:h||[],nonce:r||"",authReferrerPolicy:u||"origin"}),[t,a,n,c,o,l,h,r,u]);i.useEffect(function(){x||g.load().then(()=>{f.current&&m(!0)}).catch(P=>{b(P)})},[]),i.useEffect(()=>{Jt&&d&&fa()},[d]);var w=i.useRef();return i.useEffect(()=>{w.current&&c!==w.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),w.current=c},[c]),{isLoaded:x,loadError:p}}function Po(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function _n(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Po(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Mo={},Ao={options(s,t){s.setOptions(t)}};function vf(s){var{options:t,onLoad:n,onUnmount:r}=s,a=i.useContext(fe),[o,l]=i.useState(null);return i.useEffect(()=>{o!==null&&o.setMap(a)},[a]),i.useEffect(()=>{t&&o!==null&&o.setOptions(t)},[o,t]),i.useEffect(()=>{var c=new google.maps.TrafficLayer(_n(_n({},t),{},{map:a}));return l(c),n&&n(c),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}i.memo(vf);class bf extends i.PureComponent{constructor(){super(...arguments),I(this,"state",{trafficLayer:null}),I(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),I(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(_n(_n({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:Ao,eventMap:Mo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ao,eventMap:Mo,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),we(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}I(bf,"contextType",fe);function yf(s){var{onLoad:t,onUnmount:n}=s,r=i.useContext(fe),[a,o]=i.useState(null);return i.useEffect(()=>{a!==null&&a.setMap(r)},[r]),i.useEffect(()=>{var l=new google.maps.BicyclingLayer;return o(l),l.setMap(r),t&&t(l),()=>{l!==null&&(n&&n(l),l.setMap(null))}},[]),null}i.memo(yf);class wf extends i.PureComponent{constructor(){super(...arguments),I(this,"state",{bicyclingLayer:null}),I(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}I(wf,"contextType",fe);function jf(s){var{onLoad:t,onUnmount:n}=s,r=i.useContext(fe),[a,o]=i.useState(null);return i.useEffect(()=>{a!==null&&a.setMap(r)},[r]),i.useEffect(()=>{var l=new google.maps.TransitLayer;return o(l),l.setMap(r),t&&t(l),()=>{a!==null&&(n&&n(a),a.setMap(null))}},[]),null}i.memo(jf);class Nf extends i.PureComponent{constructor(){super(...arguments),I(this,"state",{transitLayer:null}),I(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}I(Nf,"contextType",fe);function Oo(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function zn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oo(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Do={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},To={drawingMode(s,t){s.setDrawingMode(t)},options(s,t){s.setOptions(t)}};function Sf(s){var{options:t,drawingMode:n,onCircleComplete:r,onMarkerComplete:a,onOverlayComplete:o,onPolygonComplete:l,onPolylineComplete:c,onRectangleComplete:d,onLoad:h,onUnmount:u}=s,f=i.useContext(fe),[x,m]=i.useState(null),[p,b]=i.useState(null),[g,w]=i.useState(null),[S,P]=i.useState(null),[N,v]=i.useState(null),[y,E]=i.useState(null),[k,j]=i.useState(null);return i.useEffect(()=>{x!==null&&x.setMap(f)},[f]),i.useEffect(()=>{t&&x!==null&&x.setOptions(t)},[x,t]),i.useEffect(()=>{x!==null&&x.setDrawingMode(n??null)},[x,n]),i.useEffect(()=>{x&&r&&(p!==null&&google.maps.event.removeListener(p),b(google.maps.event.addListener(x,"circlecomplete",r)))},[x,r]),i.useEffect(()=>{x&&a&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(x,"markercomplete",a)))},[x,a]),i.useEffect(()=>{x&&o&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(x,"overlaycomplete",o)))},[x,o]),i.useEffect(()=>{x&&l&&(N!==null&&google.maps.event.removeListener(N),v(google.maps.event.addListener(x,"polygoncomplete",l)))},[x,l]),i.useEffect(()=>{x&&c&&(y!==null&&google.maps.event.removeListener(y),E(google.maps.event.addListener(x,"polylinecomplete",c)))},[x,c]),i.useEffect(()=>{x&&d&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(x,"rectanglecomplete",d)))},[x,d]),i.useEffect(()=>{Ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(zn(zn({},t),{},{map:f}));return n&&M.setDrawingMode(n),r&&b(google.maps.event.addListener(M,"circlecomplete",r)),a&&w(google.maps.event.addListener(M,"markercomplete",a)),o&&P(google.maps.event.addListener(M,"overlaycomplete",o)),l&&v(google.maps.event.addListener(M,"polygoncomplete",l)),c&&E(google.maps.event.addListener(M,"polylinecomplete",c)),d&&j(google.maps.event.addListener(M,"rectanglecomplete",d)),m(M),h&&h(M),()=>{x!==null&&(p&&google.maps.event.removeListener(p),g&&google.maps.event.removeListener(g),S&&google.maps.event.removeListener(S),N&&google.maps.event.removeListener(N),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),u&&u(x),x.setMap(null))}},[]),null}i.memo(Sf);class Cf extends i.PureComponent{constructor(t){super(t),I(this,"registeredEvents",[]),I(this,"state",{drawingManager:null}),I(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ke(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(zn(zn({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:To,eventMap:Do,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:To,eventMap:Do,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),we(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}I(Cf,"contextType",fe);function Io(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function ws(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Io(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Bo={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Ro={animation(s,t){s.setAnimation(t)},clickable(s,t){s.setClickable(t)},cursor(s,t){s.setCursor(t)},draggable(s,t){s.setDraggable(t)},icon(s,t){s.setIcon(t)},label(s,t){s.setLabel(t)},map(s,t){s.setMap(t)},opacity(s,t){s.setOpacity(t)},options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},shape(s,t){s.setShape(t)},title(s,t){s.setTitle(t)},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},Un={};function kf(s){var{position:t,options:n,clusterer:r,noClustererRedraw:a,children:o,draggable:l,visible:c,animation:d,clickable:h,cursor:u,icon:f,label:x,opacity:m,shape:p,title:b,zIndex:g,onClick:w,onDblClick:S,onDrag:P,onDragEnd:N,onDragStart:v,onMouseOut:y,onMouseOver:E,onMouseUp:k,onMouseDown:j,onRightClick:M,onClickableChanged:R,onCursorChanged:A,onAnimationChanged:z,onDraggableChanged:q,onFlatChanged:U,onIconChanged:V,onPositionChanged:J,onShapeChanged:X,onTitleChanged:oe,onVisibleChanged:ie,onZindexChanged:ne,onLoad:ee,onUnmount:K}=s,le=i.useContext(fe),[C,_]=i.useState(null),[Q,Z]=i.useState(null),[pe,G]=i.useState(null),[Y,$e]=i.useState(null),[F,$]=i.useState(null),[W,ce]=i.useState(null),[xe,ve]=i.useState(null),[Ne,ot]=i.useState(null),[Qe,Be]=i.useState(null),[yt,nt]=i.useState(null),[Ze,B]=i.useState(null),[H,te]=i.useState(null),[ae,Se]=i.useState(null),[je,de]=i.useState(null),[Ye,_e]=i.useState(null),[He,wt]=i.useState(null),[Te,kt]=i.useState(null),[gt,$t]=i.useState(null),[Ae,_t]=i.useState(null),[jt,Xt]=i.useState(null),[zt,Qt]=i.useState(null),[es,hs]=i.useState(null);i.useEffect(()=>{C!==null&&C.setMap(le)},[le]),i.useEffect(()=>{typeof n<"u"&&C!==null&&C.setOptions(n)},[C,n]),i.useEffect(()=>{typeof l<"u"&&C!==null&&C.setDraggable(l)},[C,l]),i.useEffect(()=>{t&&C!==null&&C.setPosition(t)},[C,t]),i.useEffect(()=>{typeof c<"u"&&C!==null&&C.setVisible(c)},[C,c]),i.useEffect(()=>{C==null||C.setAnimation(d)},[C,d]),i.useEffect(()=>{C&&h!==void 0&&C.setClickable(h)},[C,h]),i.useEffect(()=>{C&&u!==void 0&&C.setCursor(u)},[C,u]),i.useEffect(()=>{C&&f!==void 0&&C.setIcon(f)},[C,f]),i.useEffect(()=>{C&&x!==void 0&&C.setLabel(x)},[C,x]),i.useEffect(()=>{C&&m!==void 0&&C.setOpacity(m)},[C,m]),i.useEffect(()=>{C&&p!==void 0&&C.setShape(p)},[C,p]),i.useEffect(()=>{C&&b!==void 0&&C.setTitle(b)},[C,b]),i.useEffect(()=>{C&&g!==void 0&&C.setZIndex(g)},[C,g]),i.useEffect(()=>{C&&S&&(Q!==null&&google.maps.event.removeListener(Q),Z(google.maps.event.addListener(C,"dblclick",S)))},[S]),i.useEffect(()=>{C&&N&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(C,"dragend",N)))},[N]),i.useEffect(()=>{C&&v&&(Y!==null&&google.maps.event.removeListener(Y),$e(google.maps.event.addListener(C,"dragstart",v)))},[v]),i.useEffect(()=>{C&&j&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(C,"mousedown",j)))},[j]),i.useEffect(()=>{C&&y&&(W!==null&&google.maps.event.removeListener(W),ce(google.maps.event.addListener(C,"mouseout",y)))},[y]),i.useEffect(()=>{C&&E&&(xe!==null&&google.maps.event.removeListener(xe),ve(google.maps.event.addListener(C,"mouseover",E)))},[E]),i.useEffect(()=>{C&&k&&(Ne!==null&&google.maps.event.removeListener(Ne),ot(google.maps.event.addListener(C,"mouseup",k)))},[k]),i.useEffect(()=>{C&&M&&(Qe!==null&&google.maps.event.removeListener(Qe),Be(google.maps.event.addListener(C,"rightclick",M)))},[M]),i.useEffect(()=>{C&&w&&(yt!==null&&google.maps.event.removeListener(yt),nt(google.maps.event.addListener(C,"click",w)))},[w]),i.useEffect(()=>{C&&P&&(Ze!==null&&google.maps.event.removeListener(Ze),B(google.maps.event.addListener(C,"drag",P)))},[P]),i.useEffect(()=>{C&&R&&(H!==null&&google.maps.event.removeListener(H),te(google.maps.event.addListener(C,"clickable_changed",R)))},[R]),i.useEffect(()=>{C&&A&&(ae!==null&&google.maps.event.removeListener(ae),Se(google.maps.event.addListener(C,"cursor_changed",A)))},[A]),i.useEffect(()=>{C&&z&&(je!==null&&google.maps.event.removeListener(je),de(google.maps.event.addListener(C,"animation_changed",z)))},[z]),i.useEffect(()=>{C&&q&&(Ye!==null&&google.maps.event.removeListener(Ye),_e(google.maps.event.addListener(C,"draggable_changed",q)))},[q]),i.useEffect(()=>{C&&U&&(He!==null&&google.maps.event.removeListener(He),wt(google.maps.event.addListener(C,"flat_changed",U)))},[U]),i.useEffect(()=>{C&&V&&(Te!==null&&google.maps.event.removeListener(Te),kt(google.maps.event.addListener(C,"icon_changed",V)))},[V]),i.useEffect(()=>{C&&J&&(gt!==null&&google.maps.event.removeListener(gt),$t(google.maps.event.addListener(C,"position_changed",J)))},[J]),i.useEffect(()=>{C&&X&&(Ae!==null&&google.maps.event.removeListener(Ae),_t(google.maps.event.addListener(C,"shape_changed",X)))},[X]),i.useEffect(()=>{C&&oe&&(jt!==null&&google.maps.event.removeListener(jt),Xt(google.maps.event.addListener(C,"title_changed",oe)))},[oe]),i.useEffect(()=>{C&&ie&&(zt!==null&&google.maps.event.removeListener(zt),Qt(google.maps.event.addListener(C,"visible_changed",ie)))},[ie]),i.useEffect(()=>{C&&ne&&(es!==null&&google.maps.event.removeListener(es),hs(google.maps.event.addListener(C,"zindex_changed",ne)))},[ne]),i.useEffect(()=>{var Lt=ws(ws(ws({},n||Un),r?Un:{map:le}),{},{position:t}),ue=new google.maps.Marker(Lt);return r?r.addMarker(ue,!!a):ue.setMap(le),t&&ue.setPosition(t),typeof c<"u"&&ue.setVisible(c),typeof l<"u"&&ue.setDraggable(l),typeof h<"u"&&ue.setClickable(h),typeof u=="string"&&ue.setCursor(u),f&&ue.setIcon(f),typeof x<"u"&&ue.setLabel(x),typeof m<"u"&&ue.setOpacity(m),p&&ue.setShape(p),typeof b=="string"&&ue.setTitle(b),typeof g=="number"&&ue.setZIndex(g),S&&Z(google.maps.event.addListener(ue,"dblclick",S)),N&&G(google.maps.event.addListener(ue,"dragend",N)),v&&$e(google.maps.event.addListener(ue,"dragstart",v)),j&&$(google.maps.event.addListener(ue,"mousedown",j)),y&&ce(google.maps.event.addListener(ue,"mouseout",y)),E&&ve(google.maps.event.addListener(ue,"mouseover",E)),k&&ot(google.maps.event.addListener(ue,"mouseup",k)),M&&Be(google.maps.event.addListener(ue,"rightclick",M)),w&&nt(google.maps.event.addListener(ue,"click",w)),P&&B(google.maps.event.addListener(ue,"drag",P)),R&&te(google.maps.event.addListener(ue,"clickable_changed",R)),A&&Se(google.maps.event.addListener(ue,"cursor_changed",A)),z&&de(google.maps.event.addListener(ue,"animation_changed",z)),q&&_e(google.maps.event.addListener(ue,"draggable_changed",q)),U&&wt(google.maps.event.addListener(ue,"flat_changed",U)),V&&kt(google.maps.event.addListener(ue,"icon_changed",V)),J&&$t(google.maps.event.addListener(ue,"position_changed",J)),X&&_t(google.maps.event.addListener(ue,"shape_changed",X)),oe&&Xt(google.maps.event.addListener(ue,"title_changed",oe)),ie&&Qt(google.maps.event.addListener(ue,"visible_changed",ie)),ne&&hs(google.maps.event.addListener(ue,"zindex_changed",ne)),_(ue),ee&&ee(ue),()=>{Q!==null&&google.maps.event.removeListener(Q),pe!==null&&google.maps.event.removeListener(pe),Y!==null&&google.maps.event.removeListener(Y),F!==null&&google.maps.event.removeListener(F),W!==null&&google.maps.event.removeListener(W),xe!==null&&google.maps.event.removeListener(xe),Ne!==null&&google.maps.event.removeListener(Ne),Qe!==null&&google.maps.event.removeListener(Qe),yt!==null&&google.maps.event.removeListener(yt),H!==null&&google.maps.event.removeListener(H),ae!==null&&google.maps.event.removeListener(ae),je!==null&&google.maps.event.removeListener(je),Ye!==null&&google.maps.event.removeListener(Ye),He!==null&&google.maps.event.removeListener(He),Te!==null&&google.maps.event.removeListener(Te),gt!==null&&google.maps.event.removeListener(gt),jt!==null&&google.maps.event.removeListener(jt),zt!==null&&google.maps.event.removeListener(zt),es!==null&&google.maps.event.removeListener(es),K&&K(ue),r?r.removeMarker(ue,!!a):ue&&ue.setMap(null)}},[]);var Tt=i.useMemo(()=>o?i.Children.map(o,Lt=>{if(!i.isValidElement(Lt))return Lt;var ue=Lt;return i.cloneElement(ue,{anchor:C})}):null,[o,C]);return e.jsx(e.Fragment,{children:Tt})||null}i.memo(kf);class Kt extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[])}componentDidMount(){var t=this;return Cc(function*(){var n=ws(ws(ws({},t.props.options||Un),t.props.clusterer?Un:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=ye({updaterMap:Ro,eventMap:Bo,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ro,eventMap:Bo,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),we(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?i.Children.map(this.props.children,n=>{if(!i.isValidElement(n))return n;var r=n;return i.cloneElement(r,{anchor:this.marker})}):null;return t||null}}I(Kt,"contextType",fe);var Lf=function(){function s(t,n){t.getClusterer().extend(s,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return s.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},s.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},s.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),a=this.cluster.getBounds(),o=n.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(a),this.timeOut=window.setTimeout(function(){var l=n.getMap();if(l!==null){"fitBounds"in l&&l.fitBounds(a);var c=l.getZoom()||0;r!==null&&c>r&&l.setZoom(r+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},s.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},s.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},s.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},s.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},s.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},s.prototype.show=function(){var t,n,r,a,o,l;if(this.div&&this.center){var c=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,d=this.backgroundPosition.split(" "),h=parseInt(((t=d[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=parseInt(((n=d[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),f=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(f!==null?"".concat(f.y,"px"):"0","; left: ").concat(f!==null?"".concat(f.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var x=document.createElement("img");x.alt=c,x.src=this.url,x.width=this.width,x.height=this.height,x.setAttribute("style","position: absolute; top: ".concat(u,"px; left: ").concat(h,"px")),this.cluster.getClusterer().enableRetinaIcons||(x.style.clip="rect(-".concat(u,"px, -").concat(h+this.width,"px, -").concat(u+this.height,", -").concat(h,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(m.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((o=this.sums)===null||o===void 0)&&o.html&&(m.innerHTML="".concat((l=this.sums)===null||l===void 0?void 0:l.html)),this.div.innerHTML="",this.div.appendChild(x),this.div.appendChild(m),this.div.title=c,this.div.style.display=""}this.visible=!0},s.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,t.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},s.prototype.setCenter=function(t){this.center=t},s.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},s}(),Ef=function(){function s(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Lf(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return s.prototype.getSize=function(){return this.markers.length},s.prototype.getMarkers=function(){return this.markers},s.prototype.getCenter=function(){return this.center},s.prototype.getMap=function(){return this.map},s.prototype.getClusterer=function(){return this.markerClusterer},s.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,a=n;r<a.length;r++){var o=a[r],l=o.getPosition();l&&t.extend(l)}return t},s.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},s.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var r=t.getPosition();if(r){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+r.lat())/a,(this.center.lng()*(a-1)+r.lng())/a),this.calculateBounds()}}}else{var r=t.getPosition();r&&(this.center=r,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var o=this.markers.length,l=this.markerClusterer.getMaxZoom(),c=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(l!==null&&typeof c<"u"&&c>l)t.getMap()!==this.map&&t.setMap(this.map);else if(o<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(o===this.minClusterSize)for(var d=0,h=this.markers;d<h.length;d++){var u=h[d];u.setMap(null)}else t.setMap(null);return!0},s.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},s.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},s.prototype.updateIcon=function(){var t,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),a=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(r!==null&&typeof a<"u"&&a>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},s.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},s}();function Pf(s,t){var n=s.length,r=n.toString().length,a=Math.min(r,t);return{text:n.toString(),index:a,title:""}}var Mf=2e3,Af=500,Of="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",Df="png",Tf=[53,56,66,78,90],If="cluster",Pc=function(){function s(t,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(s,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||Of,this.imageExtension=r.imageExtension||Df,this.imageSizes=r.imageSizes||Tf,this.calculator=r.calculator||Pf,this.batchSize=r.batchSize||Mf,this.batchSizeIE=r.batchSizeIE||Af,this.clusterClass=r.clusterClass||If,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return s.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},s.prototype.onIdle=function(){this.redraw()},s.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},s.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var r=n[t];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var a=0,o=this.clusters;a<o.length;a++){var l=o[a];l.remove()}this.clusters=[];for(var c=0,d=this.listeners;c<d.length;c++){var h=d[c];google.maps.event.removeListener(h)}this.listeners=[],this.activeMap=null,this.ready=!1},s.prototype.draw=function(){},s.prototype.getMap=function(){return null},s.prototype.getPanes=function(){return null},s.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},s.prototype.setMap=function(){},s.prototype.addListener=function(){return{remove:function(){}}},s.prototype.bindTo=function(){},s.prototype.get=function(){},s.prototype.notify=function(){},s.prototype.set=function(){},s.prototype.setValues=function(){},s.prototype.unbind=function(){},s.prototype.unbindAll=function(){},s.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},s.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,a=t;r<a.length;r++){var o=a[r],l=o.getPosition();l&&n.extend(l)}var c=this.getMap();c!==null&&"fitBounds"in c&&c.fitBounds(n)},s.prototype.getGridSize=function(){return this.gridSize},s.prototype.setGridSize=function(t){this.gridSize=t},s.prototype.getMinimumClusterSize=function(){return this.minClusterSize},s.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},s.prototype.getMaxZoom=function(){return this.maxZoom},s.prototype.setMaxZoom=function(t){this.maxZoom=t},s.prototype.getStyles=function(){return this.styles},s.prototype.setStyles=function(t){this.styles=t},s.prototype.getTitle=function(){return this.title},s.prototype.setTitle=function(t){this.title=t},s.prototype.getZoomOnClick=function(){return this.zoomOnClick},s.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},s.prototype.getAverageCenter=function(){return this.averageCenter},s.prototype.setAverageCenter=function(t){this.averageCenter=t},s.prototype.getIgnoreHidden=function(){return this.ignoreHidden},s.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},s.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},s.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},s.prototype.getImageExtension=function(){return this.imageExtension},s.prototype.setImageExtension=function(t){this.imageExtension=t},s.prototype.getImagePath=function(){return this.imagePath},s.prototype.setImagePath=function(t){this.imagePath=t},s.prototype.getImageSizes=function(){return this.imageSizes},s.prototype.setImageSizes=function(t){this.imageSizes=t},s.prototype.getCalculator=function(){return this.calculator},s.prototype.setCalculator=function(t){this.calculator=t},s.prototype.getBatchSizeIE=function(){return this.batchSizeIE},s.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},s.prototype.getClusterClass=function(){return this.clusterClass},s.prototype.setClusterClass=function(t){this.clusterClass=t},s.prototype.getMarkers=function(){return this.markers},s.prototype.getTotalMarkers=function(){return this.markers.length},s.prototype.getClusters=function(){return this.clusters},s.prototype.getTotalClusters=function(){return this.clusters.length},s.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},s.prototype.addMarkers=function(t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];a&&this.pushMarkerTo(a)}n||this.redraw()},s.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},s.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var r=0;r<this.markers.length;r++)if(t===this.markers[r]){n=r;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},s.prototype.removeMarker=function(t,n){var r=this.removeMarker_(t);return!n&&r&&this.repaint(),r},s.prototype.removeMarkers=function(t,n){for(var r=!1,a=0,o=t;a<o.length;a++){var l=o[a];r=r||this.removeMarker_(l)}return!n&&r&&this.repaint(),r},s.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},s.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,a=t;r<a.length;r++){var o=a[r];o.remove()}},0)},s.prototype.getExtendedBounds=function(t){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var a=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),r!==null){var o=n.fromDivPixelToLatLng(r);o!==null&&t.extend(o)}if(a!==null){var l=n.fromDivPixelToLatLng(a);l!==null&&t.extend(l)}return t},s.prototype.redraw=function(){this.createClusters(0)},s.prototype.resetViewport=function(t){for(var n=0,r=this.clusters;n<r.length;n++){var a=r[n];a.remove()}this.clusters=[];for(var o=0,l=this.markers;o<l.length;o++){var c=l[o];c.isAdded=!1,t&&c.setMap(null)}},s.prototype.distanceBetweenPoints=function(t,n){var r=6371,a=(n.lat()-t.lat())*Math.PI/180,o=(n.lng()-t.lng())*Math.PI/180,l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return r*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))},s.prototype.isMarkerInBounds=function(t,n){var r=t.getPosition();return r?n.contains(r):!1},s.prototype.addToClosestCluster=function(t){for(var n,r=4e4,a=null,o=0,l=this.clusters;o<l.length;o++){var c=l[o];n=c;var d=n.getCenter(),h=t.getPosition();if(d&&h){var u=this.distanceBetweenPoints(d,h);u<r&&(r=u,a=n)}}a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(n=new Ef(this),n.addMarker(t),this.clusters.push(n))},s.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),a=r!==null&&("getBounds"in r)?r.getBounds():null,o=(r==null?void 0:r.getZoom())||0,l=o>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),c=this.getExtendedBounds(l),d=Math.min(t+this.batchSize,this.markers.length),h=t;h<d;h++){var u=this.markers[h];u&&!u.isAdded&&this.isMarkerInBounds(u,c)&&(!this.ignoreHidden||this.ignoreHidden&&u.getVisible())&&this.addToClosestCluster(u)}if(d<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(d)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var f=0,x=this.clusters;f<x.length;f++){var m=x[f];m.updateIcon()}}}},s.prototype.extend=function(t,n){return(function(a){for(var o in a.prototype){var l=o;this.prototype[l]=a.prototype[l]}return this}).apply(t,[n])},s}();function Fo(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Bf(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fo(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var vt={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Ce={averageCenter(s,t){s.setAverageCenter(t)},batchSizeIE(s,t){s.setBatchSizeIE(t)},calculator(s,t){s.setCalculator(t)},clusterClass(s,t){s.setClusterClass(t)},enableRetinaIcons(s,t){s.setEnableRetinaIcons(t)},gridSize(s,t){s.setGridSize(t)},ignoreHidden(s,t){s.setIgnoreHidden(t)},imageExtension(s,t){s.setImageExtension(t)},imagePath(s,t){s.setImagePath(t)},imageSizes(s,t){s.setImageSizes(t)},maxZoom(s,t){s.setMaxZoom(t)},minimumClusterSize(s,t){s.setMinimumClusterSize(t)},styles(s,t){s.setStyles(t)},title(s,t){s.setTitle(t)},zoomOnClick(s,t){s.setZoomOnClick(t)}},Rf={};function Ff(s){var{children:t,options:n,averageCenter:r,batchSizeIE:a,calculator:o,clusterClass:l,enableRetinaIcons:c,gridSize:d,ignoreHidden:h,imageExtension:u,imagePath:f,imageSizes:x,maxZoom:m,minimumClusterSize:p,styles:b,title:g,zoomOnClick:w,onClick:S,onClusteringBegin:P,onClusteringEnd:N,onMouseOver:v,onMouseOut:y,onLoad:E,onUnmount:k}=s,[j,M]=i.useState(null),R=i.useContext(fe),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(null),[X,oe]=i.useState(null),[ie,ne]=i.useState(null);return i.useEffect(()=>{j&&y&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(j,vt.onMouseOut,y)))},[y]),i.useEffect(()=>{j&&v&&(ie!==null&&google.maps.event.removeListener(ie),ne(google.maps.event.addListener(j,vt.onMouseOver,v)))},[v]),i.useEffect(()=>{j&&S&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(j,vt.onClick,S)))},[S]),i.useEffect(()=>{j&&P&&(q!==null&&google.maps.event.removeListener(q),U(google.maps.event.addListener(j,vt.onClusteringBegin,P)))},[P]),i.useEffect(()=>{j&&N&&(V!==null&&google.maps.event.removeListener(V),U(google.maps.event.addListener(j,vt.onClusteringEnd,N)))},[N]),i.useEffect(()=>{typeof r<"u"&&j!==null&&Ce.averageCenter(j,r)},[j,r]),i.useEffect(()=>{typeof a<"u"&&j!==null&&Ce.batchSizeIE(j,a)},[j,a]),i.useEffect(()=>{typeof o<"u"&&j!==null&&Ce.calculator(j,o)},[j,o]),i.useEffect(()=>{typeof l<"u"&&j!==null&&Ce.clusterClass(j,l)},[j,l]),i.useEffect(()=>{typeof c<"u"&&j!==null&&Ce.enableRetinaIcons(j,c)},[j,c]),i.useEffect(()=>{typeof d<"u"&&j!==null&&Ce.gridSize(j,d)},[j,d]),i.useEffect(()=>{typeof h<"u"&&j!==null&&Ce.ignoreHidden(j,h)},[j,h]),i.useEffect(()=>{typeof u<"u"&&j!==null&&Ce.imageExtension(j,u)},[j,u]),i.useEffect(()=>{typeof f<"u"&&j!==null&&Ce.imagePath(j,f)},[j,f]),i.useEffect(()=>{typeof x<"u"&&j!==null&&Ce.imageSizes(j,x)},[j,x]),i.useEffect(()=>{typeof m<"u"&&j!==null&&Ce.maxZoom(j,m)},[j,m]),i.useEffect(()=>{typeof p<"u"&&j!==null&&Ce.minimumClusterSize(j,p)},[j,p]),i.useEffect(()=>{typeof b<"u"&&j!==null&&Ce.styles(j,b)},[j,b]),i.useEffect(()=>{typeof g<"u"&&j!==null&&Ce.title(j,g)},[j,g]),i.useEffect(()=>{typeof w<"u"&&j!==null&&Ce.zoomOnClick(j,w)},[j,w]),i.useEffect(()=>{if(R){var ee=Bf({},n||Rf),K=new Pc(R,[],ee);return r&&Ce.averageCenter(K,r),a&&Ce.batchSizeIE(K,a),o&&Ce.calculator(K,o),l&&Ce.clusterClass(K,l),c&&Ce.enableRetinaIcons(K,c),d&&Ce.gridSize(K,d),h&&Ce.ignoreHidden(K,h),u&&Ce.imageExtension(K,u),f&&Ce.imagePath(K,f),x&&Ce.imageSizes(K,x),m&&Ce.maxZoom(K,m),p&&Ce.minimumClusterSize(K,p),b&&Ce.styles(K,b),g&&Ce.title(K,g),w&&Ce.zoomOnClick(K,w),y&&oe(google.maps.event.addListener(K,vt.onMouseOut,y)),v&&ne(google.maps.event.addListener(K,vt.onMouseOver,v)),S&&z(google.maps.event.addListener(K,vt.onClick,S)),P&&U(google.maps.event.addListener(K,vt.onClusteringBegin,P)),N&&J(google.maps.event.addListener(K,vt.onClusteringEnd,N)),M(K),E&&E(K),()=>{X!==null&&google.maps.event.removeListener(X),ie!==null&&google.maps.event.removeListener(ie),A!==null&&google.maps.event.removeListener(A),q!==null&&google.maps.event.removeListener(q),V!==null&&google.maps.event.removeListener(V),k&&k(K)}}},[]),j!==null&&t(j)||null}i.memo(Ff);class $f extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{markerClusterer:null}),I(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new Pc(this.context,[],this.props.options);this.registeredEvents=ye({updaterMap:Ce,eventMap:vt,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ce,eventMap:vt,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),we(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}I($f,"contextType",fe);function $o(s){s.cancelBubble=!0,s.stopPropagation&&s.stopPropagation()}var Mc=function(){function s(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(s,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return s.prototype.createInfoBoxDiv=function(){var t=this,n=function(u){u.returnValue=!1,u.preventDefault&&u.preventDefault(),t.enableEventPropagation||$o(u)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var o=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],l=0,c=o;l<c.length;l++){var d=c[l];this.eventListeners.push(google.maps.event.addListener(this.div,d,$o))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},s.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},s.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},s.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},s.prototype.getCloseClickHandler=function(){return this.closeClickHandler},s.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,a=0,o=n.getBounds();o&&!o.contains(this.position)&&n.setCenter(this.position);var l=n.getDiv(),c=l.offsetWidth,d=l.offsetHeight,h=this.pixelOffset.width,u=this.pixelOffset.height,f=this.div.offsetWidth,x=this.div.offsetHeight,m=this.infoBoxClearance.width,p=this.infoBoxClearance.height,b=this.getProjection(),g=b.fromLatLngToContainerPixel(this.position);g!==null&&(g.x<-h+m?r=g.x+h-m:g.x+f+h+m>c&&(r=g.x+f+h+m-c),this.alignBottom?g.y<-u+p+x?a=g.y+u-p-x:g.y+u+p>d&&(a=g.y+u+p-d):g.y<-u+p?a=g.y+u-p:g.y+x+u+p>d&&(a=g.y+x+u+p-d)),r===0&&a===0||n.panBy(r,a)}}},s.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},s.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(t.top=parseInt(a.borderTopWidth||"",10)||0,t.bottom=parseInt(a.borderBottomWidth||"",10)||0,t.left=parseInt(a.borderLeftWidth||"",10)||0,t.right=parseInt(a.borderRightWidth||"",10)||0)}return t},s.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},s.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},s.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},s.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},s.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},s.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},s.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},s.prototype.getContent=function(){return this.content},s.prototype.getPosition=function(){return this.position},s.prototype.getZIndex=function(){return this.zIndex},s.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},s.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},s.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},s.prototype.open=function(t,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var a=n.getPosition();r.setPosition(a)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},s.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var r=n[t];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},s.prototype.extend=function(t,n){return(function(a){for(var o in a.prototype)Object.prototype.hasOwnProperty.call(this,o)||(this.prototype[o]=a.prototype[o]);return this}).apply(t,[n])},s}(),_f=["position"],zf=["position"];function _o(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function qn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_o(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var zo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Uo={options(s,t){s.setOptions(t)},position(s,t){t instanceof google.maps.LatLng?s.setPosition(t):s.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(s,t){s.setVisible(t)},zIndex(s,t){s.setZIndex(t)}},Uf={};function qf(s){var{children:t,anchor:n,options:r,position:a,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:h,onZindexChanged:u,onLoad:f,onUnmount:x}=s,m=i.useContext(fe),[p,b]=i.useState(null),[g,w]=i.useState(null),[S,P]=i.useState(null),[N,v]=i.useState(null),[y,E]=i.useState(null),[k,j]=i.useState(null),M=i.useRef(null);return i.useEffect(()=>{m&&p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),i.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),i.useEffect(()=>{if(a&&p!==null){var R=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);p.setPosition(R)}},[a]),i.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),i.useEffect(()=>{p&&l&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"closeclick",l)))},[l]),i.useEffect(()=>{p&&c&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(p,"domready",c)))},[c]),i.useEffect(()=>{p&&d&&(N!==null&&google.maps.event.removeListener(N),v(google.maps.event.addListener(p,"content_changed",d)))},[d]),i.useEffect(()=>{p&&h&&(y!==null&&google.maps.event.removeListener(y),E(google.maps.event.addListener(p,"position_changed",h)))},[h]),i.useEffect(()=>{p&&u&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),i.useEffect(()=>{if(m){var R=r||Uf,{position:A}=R,z=xa(R,_f),q;A&&!(A instanceof google.maps.LatLng)&&(q=new google.maps.LatLng(A.lat,A.lng));var U=new Mc(qn(qn({},z),q?{position:q}:{}));M.current=document.createElement("div"),b(U),l&&w(google.maps.event.addListener(U,"closeclick",l)),c&&P(google.maps.event.addListener(U,"domready",c)),d&&v(google.maps.event.addListener(U,"content_changed",d)),h&&E(google.maps.event.addListener(U,"position_changed",h)),u&&j(google.maps.event.addListener(U,"zindex_changed",u)),U.setContent(M.current),n?U.open(m,n):U.getPosition()?U.open(m):Ke(!1,"You must provide either an anchor or a position prop for <InfoBox>."),f&&f(U)}return()=>{p!==null&&(g&&google.maps.event.removeListener(g),N&&google.maps.event.removeListener(N),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),x&&x(p),p.close())}},[]),M.current?Ss.createPortal(i.Children.only(t),M.current):null}i.memo(qf);class Hf extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"containerElement",null),I(this,"state",{infoBox:null}),I(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):Ke(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),I(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,r=xa(t,zf),a;n&&!(n instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(n.lat,n.lng));var o=new Mc(qn(qn({},r),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ye({updaterMap:Uo,eventMap:zo,prevProps:{},nextProps:this.props,instance:o}),this.setState({infoBox:o},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Uo,eventMap:zo,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),we(this.registeredEvents),n.close())}render(){return this.containerElement?Ss.createPortal(i.Children.only(this.props.children),this.containerElement):null}}I(Hf,"contextType",fe);var Sr,qo;function Vf(){return qo||(qo=1,Sr=function s(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,a,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!s(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=r;a--!==0;){var l=o[a];if(!s(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),Sr}var Wf=Vf(),Ho=Sc(Wf),Vo=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Cr=1,zs=8;class ba{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=r>>4;if(a!==Cr)throw new Error("Got v".concat(a," data when expected v").concat(Cr,"."));var o=Vo[r&15];if(!o)throw new Error("Unrecognized array type.");var[l]=new Uint16Array(t,2,1),[c]=new Uint32Array(t,4,1);return new ba(c,l,o,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var o=Vo.indexOf(this.ArrayType),l=t*2*this.ArrayType.BYTES_PER_ELEMENT,c=t*this.IndexArrayType.BYTES_PER_ELEMENT,d=(8-c%8)%8;if(o<0)throw new Error("Unexpected typed array class: ".concat(r,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,zs,t),this.coords=new this.ArrayType(this.data,zs+c+d,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(zs+l+c+d),this.ids=new this.IndexArrayType(this.data,zs,t),this.coords=new this.ArrayType(this.data,zs+c+d,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Cr<<4)+o]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=t,this.coords[this._pos++]=n,r}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return Hr(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:o,coords:l,nodeSize:c}=this,d=[0,o.length-1,0],h=[];d.length;){var u=d.pop()||0,f=d.pop()||0,x=d.pop()||0;if(f-x<=c){for(var m=x;m<=f;m++){var p=l[2*m],b=l[2*m+1];p>=t&&p<=r&&b>=n&&b<=a&&h.push(o[m])}continue}var g=x+f>>1,w=l[2*g],S=l[2*g+1];w>=t&&w<=r&&S>=n&&S<=a&&h.push(o[g]),(u===0?t<=w:n<=S)&&(d.push(x),d.push(g-1),d.push(1-u)),(u===0?r>=w:a>=S)&&(d.push(g+1),d.push(f),d.push(1-u))}return h}within(t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:o,nodeSize:l}=this,c=[0,a.length-1,0],d=[],h=r*r;c.length;){var u=c.pop()||0,f=c.pop()||0,x=c.pop()||0;if(f-x<=l){for(var m=x;m<=f;m++)Wo(o[2*m],o[2*m+1],t,n)<=h&&d.push(a[m]);continue}var p=x+f>>1,b=o[2*p],g=o[2*p+1];Wo(b,g,t,n)<=h&&d.push(a[p]),(u===0?t-r<=b:n-r<=g)&&(c.push(x),c.push(p-1),c.push(1-u)),(u===0?t+r>=b:n+r>=g)&&(c.push(p+1),c.push(f),c.push(1-u))}return d}}function Hr(s,t,n,r,a,o){if(!(a-r<=n)){var l=r+a>>1;Ac(s,t,l,r,a,o),Hr(s,t,n,r,l-1,1-o),Hr(s,t,n,l+1,a,1-o)}}function Ac(s,t,n,r,a,o){for(;a>r;){if(a-r>600){var l=a-r+1,c=n-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),u=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),f=Math.max(r,Math.floor(n-c*h/l+u)),x=Math.min(a,Math.floor(n+(l-c)*h/l+u));Ac(s,t,n,f,x,o)}var m=t[2*n+o],p=r,b=a;for(Us(s,t,r,n),t[2*a+o]>m&&Us(s,t,r,a);p<b;){for(Us(s,t,p,b),p++,b--;t[2*p+o]<m;)p++;for(;t[2*b+o]>m;)b--}t[2*r+o]===m?Us(s,t,r,b):(b++,Us(s,t,b,a)),b<=n&&(r=b+1),n<=b&&(a=b-1)}}function Us(s,t,n,r){kr(s,n,r),kr(t,2*n,2*r),kr(t,2*n+1,2*r+1)}function kr(s,t,n){var r=s[t];s[t]=s[n],s[n]=r}function Wo(s,t,n,r){var a=s-n,o=t-r;return a*a+o*o}var Gf={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:s=>s},Go=Math.fround||(s=>t=>(s[0]=+t,s[0]))(new Float32Array(1)),ns=2,qt=3,Lr=4,Ut=5,Oc=6;class Zf{constructor(t){this.options=Object.assign(Object.create(Gf),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:r,maxZoom:a}=this.options;n&&console.time("total time");var o="prepare ".concat(t.length," points");n&&console.time(o),this.points=t;for(var l=[],c=0;c<t.length;c++){var d=t[c];if(d.geometry){var[h,u]=d.geometry.coordinates,f=Go(jn(h)),x=Go(Nn(u));l.push(f,x,1/0,c,-1,1),this.options.reduce&&l.push(0)}}var m=this.trees[a+1]=this._createTree(l);n&&console.timeEnd(o);for(var p=a;p>=r;p--){var b=+Date.now();m=this.trees[p]=this._createTree(this._cluster(m,p)),n&&console.log("z%d: %d clusters in %dms",p,m.numItems,+Date.now()-b)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var r=((t[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[1])),o=t[2]===180?180:((t[2]+180)%360+360)%360-180,l=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)r=-180,o=180;else if(r>o){var c=this.getClusters([r,a,180,l],n),d=this.getClusters([-180,a,o,l],n);return c.concat(d)}var h=this.trees[this._limitZoom(n)],u=h.range(jn(r),Nn(l),jn(o),Nn(a)),f=h.data,x=[];for(var m of u){var p=this.stride*m;x.push(f[p+Ut]>1?Zo(f,p,this.clusterProps):this.points[f[p+qt]])}return x}getChildren(t){var n=this._getOriginId(t),r=this._getOriginZoom(t),a="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(a);var l=o.data;if(n*this.stride>=l.length)throw new Error(a);var c=this.options.radius/(this.options.extent*Math.pow(2,r-1)),d=l[n*this.stride],h=l[n*this.stride+1],u=o.within(d,h,c),f=[];for(var x of u){var m=x*this.stride;l[m+Lr]===t&&f.push(l[m+Ut]>1?Zo(l,m,this.clusterProps):this.points[l[m+qt]])}if(f.length===0)throw new Error(a);return f}getLeaves(t,n,r){n=n||10,r=r||0;var a=[];return this._appendLeaves(a,t,n,r,0),a}getTile(t,n,r){var a=this.trees[this._limitZoom(t)],o=Math.pow(2,t),{extent:l,radius:c}=this.options,d=c/l,h=(r-d)/o,u=(r+1+d)/o,f={features:[]};return this._addTileFeatures(a.range((n-d)/o,h,(n+1+d)/o,u),a.data,n,r,o,f),n===0&&this._addTileFeatures(a.range(1-d/o,h,1,u),a.data,o,r,o,f),n===o-1&&this._addTileFeatures(a.range(0,h,d/o,u),a.data,-1,r,o,f),f.features.length?f:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var r=this.getChildren(t);if(n++,r.length!==1)break;t=r[0].properties.cluster_id}return n}_appendLeaves(t,n,r,a,o){var l=this.getChildren(n);for(var c of l){var d=c.properties;if(d&&d.cluster?o+d.point_count<=a?o+=d.point_count:o=this._appendLeaves(t,d.cluster_id,r,a,o):o<a?o++:t.push(c),t.length===r)break}return o}_createTree(t){for(var n=new ba(t.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<t.length;r+=this.stride)n.add(t[r],t[r+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,r,a,o,l){for(var c of t){var d=c*this.stride,h=n[d+Ut]>1,u=void 0,f=void 0,x=void 0;if(h)u=Dc(n,d,this.clusterProps),f=n[d],x=n[d+1];else{var m=this.points[n[d+qt]];u=m.properties;var[p,b]=m.geometry.coordinates;f=jn(p),x=Nn(b)}var g={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(x*o-a))]],tags:u},w=void 0;h||this.options.generateId?w=n[d+qt]:w=this.points[n[d+qt]].id,w!==void 0&&(g.id=w),l.features.push(g)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:r,extent:a,reduce:o,minPoints:l}=this.options,c=r/(a*Math.pow(2,n)),d=t.data,h=[],u=this.stride,f=0;f<d.length;f+=u)if(!(d[f+ns]<=n)){d[f+ns]=n;var x=d[f],m=d[f+1],p=t.within(d[f],d[f+1],c),b=d[f+Ut],g=b;for(var w of p){var S=w*u;d[S+ns]>n&&(g+=d[S+Ut])}if(g>b&&g>=l){var P=x*b,N=m*b,v=void 0,y=-1,E=((f/u|0)<<5)+(n+1)+this.points.length;for(var k of p){var j=k*u;if(!(d[j+ns]<=n)){d[j+ns]=n;var M=d[j+Ut];P+=d[j]*M,N+=d[j+1]*M,d[j+Lr]=E,o&&(v||(v=this._map(d,f,!0),y=this.clusterProps.length,this.clusterProps.push(v)),o(v,this._map(d,j)))}}d[f+Lr]=E,h.push(P/g,N/g,1/0,E,-1,g),o&&h.push(y)}else{for(var R=0;R<u;R++)h.push(d[f+R]);if(g>1)for(var A of p){var z=A*u;if(!(d[z+ns]<=n)){d[z+ns]=n;for(var q=0;q<u;q++)h.push(d[z+q])}}}}return h}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,r){if(t[n+Ut]>1){var a=this.clusterProps[t[n+Oc]];return r?Object.assign({},a):a}var o=this.points[t[n+qt]].properties,l=this.options.map(o);return r&&l===o?Object.assign({},l):l}}function Zo(s,t,n){return{type:"Feature",id:s[t+qt],properties:Dc(s,t,n),geometry:{type:"Point",coordinates:[Jf(s[t]),Kf(s[t+1])]}}}function Dc(s,t,n){var r=s[t+Ut],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,o=s[t+Oc],l=o===-1?{}:Object.assign({},n[o]);return Object.assign(l,{cluster:!0,cluster_id:s[t+qt],point_count:r,point_count_abbreviated:a})}function jn(s){return s/360+.5}function Nn(s){var t=Math.sin(s*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Jf(s){return(s-.5)*360}function Kf(s){var t=(180-s*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Yf(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(n[r[a]]=s[r[a]]);return n}class ut{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Vr{constructor(t){var{markers:n,position:r}=t;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(ut.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>ut.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(ut.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Xf{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return Qf(n)}}var Qf=s=>{var t=s.map(n=>new Vr({position:ut.getPosition(n),markers:[n]}));return t};class ex extends Xf{constructor(t){var{maxZoom:n,radius:r=60}=t,a=Yf(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Zf(Object.assign({maxZoom:this.maxZoom,radius:r},a))}calculate(t){var n=!1,r={zoom:t.map.getZoom()};if(!Ho(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var a=this.markers.map(o=>{var l=ut.getPosition(o),c=[l.lng(),l.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:c},properties:{marker:o}}});this.superCluster.load(a)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Ho(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(t){var{geometry:{coordinates:[n,r]},properties:a}=t;if(a.cluster)return new Vr({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(l=>l.properties.marker),position:{lat:r,lng:n}});var o=a.marker;return new Vr({markers:[o],position:ut.getPosition(o)})}}class tx{constructor(t,n){this.markers={sum:t.length};var r=n.map(o=>o.count),a=r.reduce((o,l)=>o+l,0);this.clusters={count:n.length,markers:{mean:a/n.length,sum:a,min:Math.min(...r),max:Math.max(...r)}}}}class sx{render(t,n,r){var{count:a,position:o}=t,l=a>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",c='<svg fill="'.concat(l,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),d="Cluster of ".concat(a," markers"),h=Number(google.maps.Marker.MAX_ZINDEX)+a;if(ut.isAdvancedMarkerAvailable(r)){var u=new DOMParser,f=u.parseFromString(c,"image/svg+xml").documentElement;f.setAttribute("transform","translate(0 25)");var x={map:r,position:o,zIndex:h,title:d,content:f};return new google.maps.marker.AdvancedMarkerElement(x)}var m={position:o,zIndex:h,title:d,icon:{url:"data:image/svg+xml;base64,".concat(btoa(c)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function nx(s,t){for(var n in t.prototype)s.prototype[n]=t.prototype[n]}class ya{constructor(){nx(ya,google.maps.OverlayView)}}var Hs;(function(s){s.CLUSTERING_BEGIN="clusteringbegin",s.CLUSTERING_END="clusteringend",s.CLUSTER_CLICK="click"})(Hs||(Hs={}));var rx=(s,t,n)=>{n.fitBounds(t.bounds)};class ax extends ya{constructor(t){var{map:n,markers:r=[],algorithmOptions:a={},algorithm:o=new ex(a),renderer:l=new sx,onClusterClick:c=rx}=t;super(),this.markers=[...r],this.clusters=[],this.algorithm=o,this.renderer=l,this.onClusterClick=c,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(t,n){var r=this.markers.indexOf(t);return r===-1?!1:(ut.setMap(t,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(t,n){var r=!1;return t.forEach(a=>{r=this.removeMarker(a,!0)||r}),r&&!n&&this.render(),r}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Hs.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(r||r==null){var a=new Set;for(var o of n)o.markers.length==1&&a.add(o.markers[0]);var l=[];for(var c of this.clusters)c.marker!=null&&(c.markers.length==1?a.has(c.marker)||ut.setMap(c.marker,null):l.push(c.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>l.forEach(d=>ut.setMap(d,null)))}google.maps.event.trigger(this,Hs.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>ut.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new tx(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,t,n),r.markers.forEach(a=>ut.setMap(a,null)),this.onClusterClick&&r.marker.addListener("click",a=>{google.maps.event.trigger(this,Hs.CLUSTER_CLICK,r),this.onClusterClick(a,r,n)})),ut.setMap(r.marker,n)})}}function Jo(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Ko(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jo(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function ox(s){var t=Qg(),[n,r]=i.useState(null);return i.useEffect(()=>{if(t&&n===null){var a=new ax(Ko(Ko({},s),{},{map:t}));r(a)}},[t]),n}function ix(s){var{children:t,options:n}=s,r=ox(n);return r!==null?t(r):null}i.memo(ix);var Yo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Xo={options(s,t){s.setOptions(t)},position(s,t){s.setPosition(t)},zIndex(s,t){s.setZIndex(t)}};function lx(s){var{children:t,anchor:n,options:r,position:a,zIndex:o,onCloseClick:l,onDomReady:c,onContentChanged:d,onPositionChanged:h,onZindexChanged:u,onLoad:f,onUnmount:x}=s,m=i.useContext(fe),[p,b]=i.useState(null),[g,w]=i.useState(null),[S,P]=i.useState(null),[N,v]=i.useState(null),[y,E]=i.useState(null),[k,j]=i.useState(null),M=i.useRef(null);return i.useEffect(()=>{p!==null&&(p.close(),n?p.open(m,n):p.getPosition()&&p.open(m))},[m,p,n]),i.useEffect(()=>{r&&p!==null&&p.setOptions(r)},[p,r]),i.useEffect(()=>{a&&p!==null&&p.setPosition(a)},[a]),i.useEffect(()=>{typeof o=="number"&&p!==null&&p.setZIndex(o)},[o]),i.useEffect(()=>{p&&l&&(g!==null&&google.maps.event.removeListener(g),w(google.maps.event.addListener(p,"closeclick",l)))},[l]),i.useEffect(()=>{p&&c&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(p,"domready",c)))},[c]),i.useEffect(()=>{p&&d&&(N!==null&&google.maps.event.removeListener(N),v(google.maps.event.addListener(p,"content_changed",d)))},[d]),i.useEffect(()=>{p&&h&&(y!==null&&google.maps.event.removeListener(y),E(google.maps.event.addListener(p,"position_changed",h)))},[h]),i.useEffect(()=>{p&&u&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(p,"zindex_changed",u)))},[u]),i.useEffect(()=>{var R=new google.maps.InfoWindow(r);return b(R),M.current=document.createElement("div"),l&&w(google.maps.event.addListener(R,"closeclick",l)),c&&P(google.maps.event.addListener(R,"domready",c)),d&&v(google.maps.event.addListener(R,"content_changed",d)),h&&E(google.maps.event.addListener(R,"position_changed",h)),u&&j(google.maps.event.addListener(R,"zindex_changed",u)),R.setContent(M.current),a&&R.setPosition(a),o&&R.setZIndex(o),n?R.open(m,n):R.getPosition()?R.open(m):Ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),f&&f(R),()=>{g&&google.maps.event.removeListener(g),N&&google.maps.event.removeListener(N),S&&google.maps.event.removeListener(S),y&&google.maps.event.removeListener(y),k&&google.maps.event.removeListener(k),x&&x(R),R.close()}},[]),M.current?Ss.createPortal(i.Children.only(t),M.current):null}i.memo(lx);class cx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"containerElement",null),I(this,"state",{infoWindow:null}),I(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):Ke(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),I(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ye({updaterMap:Xo,eventMap:Yo,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Xo,eventMap:Yo,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(we(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Ss.createPortal(i.Children.only(this.props.children),this.containerElement):null}}I(cx,"contextType",fe);function Qo(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Hn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qo(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var ei={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ti={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},visible(s,t){s.setVisible(t)}},dx={};function ux(s){var{options:t,draggable:n,editable:r,visible:a,path:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:h,onMouseMove:u,onMouseOut:f,onMouseOver:x,onMouseUp:m,onRightClick:p,onClick:b,onDrag:g,onLoad:w,onUnmount:S}=s,P=i.useContext(fe),[N,v]=i.useState(null),[y,E]=i.useState(null),[k,j]=i.useState(null),[M,R]=i.useState(null),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(null),[X,oe]=i.useState(null),[ie,ne]=i.useState(null),[ee,K]=i.useState(null),[le,C]=i.useState(null),[_,Q]=i.useState(null);return i.useEffect(()=>{N!==null&&N.setMap(P)},[P]),i.useEffect(()=>{typeof t<"u"&&N!==null&&N.setOptions(t)},[N,t]),i.useEffect(()=>{typeof n<"u"&&N!==null&&N.setDraggable(n)},[N,n]),i.useEffect(()=>{typeof r<"u"&&N!==null&&N.setEditable(r)},[N,r]),i.useEffect(()=>{typeof a<"u"&&N!==null&&N.setVisible(a)},[N,a]),i.useEffect(()=>{typeof o<"u"&&N!==null&&N.setPath(o)},[N,o]),i.useEffect(()=>{N&&l&&(y!==null&&google.maps.event.removeListener(y),E(google.maps.event.addListener(N,"dblclick",l)))},[l]),i.useEffect(()=>{N&&c&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(N,"dragend",c)))},[c]),i.useEffect(()=>{N&&d&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(N,"dragstart",d)))},[d]),i.useEffect(()=>{N&&h&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(N,"mousedown",h)))},[h]),i.useEffect(()=>{N&&u&&(q!==null&&google.maps.event.removeListener(q),U(google.maps.event.addListener(N,"mousemove",u)))},[u]),i.useEffect(()=>{N&&f&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(N,"mouseout",f)))},[f]),i.useEffect(()=>{N&&x&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(N,"mouseover",x)))},[x]),i.useEffect(()=>{N&&m&&(ie!==null&&google.maps.event.removeListener(ie),ne(google.maps.event.addListener(N,"mouseup",m)))},[m]),i.useEffect(()=>{N&&p&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(N,"rightclick",p)))},[p]),i.useEffect(()=>{N&&b&&(le!==null&&google.maps.event.removeListener(le),C(google.maps.event.addListener(N,"click",b)))},[b]),i.useEffect(()=>{N&&g&&(_!==null&&google.maps.event.removeListener(_),Q(google.maps.event.addListener(N,"drag",g)))},[g]),i.useEffect(()=>{var Z=new google.maps.Polyline(Hn(Hn({},t||dx),{},{map:P}));return o&&Z.setPath(o),typeof a<"u"&&Z.setVisible(a),typeof r<"u"&&Z.setEditable(r),typeof n<"u"&&Z.setDraggable(n),l&&E(google.maps.event.addListener(Z,"dblclick",l)),c&&j(google.maps.event.addListener(Z,"dragend",c)),d&&R(google.maps.event.addListener(Z,"dragstart",d)),h&&z(google.maps.event.addListener(Z,"mousedown",h)),u&&U(google.maps.event.addListener(Z,"mousemove",u)),f&&J(google.maps.event.addListener(Z,"mouseout",f)),x&&oe(google.maps.event.addListener(Z,"mouseover",x)),m&&ne(google.maps.event.addListener(Z,"mouseup",m)),p&&K(google.maps.event.addListener(Z,"rightclick",p)),b&&C(google.maps.event.addListener(Z,"click",b)),g&&Q(google.maps.event.addListener(Z,"drag",g)),v(Z),w&&w(Z),()=>{y!==null&&google.maps.event.removeListener(y),k!==null&&google.maps.event.removeListener(k),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),q!==null&&google.maps.event.removeListener(q),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),ie!==null&&google.maps.event.removeListener(ie),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),S&&S(Z),Z.setMap(null)}},[]),null}i.memo(ux);class hx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{polyline:null}),I(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(Hn(Hn({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:ti,eventMap:ei,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:ti,eventMap:ei,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),we(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}I(hx,"contextType",fe);function si(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function ni(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?si(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var ri={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ai={draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},path(s,t){s.setPath(t)},paths(s,t){s.setPaths(t)},visible(s,t){s.setVisible(t)}};function mx(s){var{options:t,draggable:n,editable:r,visible:a,path:o,paths:l,onDblClick:c,onDragEnd:d,onDragStart:h,onMouseDown:u,onMouseMove:f,onMouseOut:x,onMouseOver:m,onMouseUp:p,onRightClick:b,onClick:g,onDrag:w,onLoad:S,onUnmount:P,onEdit:N}=s,v=i.useContext(fe),[y,E]=i.useState(null),[k,j]=i.useState(null),[M,R]=i.useState(null),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(null),[X,oe]=i.useState(null),[ie,ne]=i.useState(null),[ee,K]=i.useState(null),[le,C]=i.useState(null),[_,Q]=i.useState(null),[Z,pe]=i.useState(null);return i.useEffect(()=>{y!==null&&y.setMap(v)},[v]),i.useEffect(()=>{typeof t<"u"&&y!==null&&y.setOptions(t)},[y,t]),i.useEffect(()=>{typeof n<"u"&&y!==null&&y.setDraggable(n)},[y,n]),i.useEffect(()=>{typeof r<"u"&&y!==null&&y.setEditable(r)},[y,r]),i.useEffect(()=>{typeof a<"u"&&y!==null&&y.setVisible(a)},[y,a]),i.useEffect(()=>{typeof o<"u"&&y!==null&&y.setPath(o)},[y,o]),i.useEffect(()=>{typeof l<"u"&&y!==null&&y.setPaths(l)},[y,l]),i.useEffect(()=>{y&&typeof c=="function"&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(y,"dblclick",c)))},[c]),i.useEffect(()=>{y&&(google.maps.event.addListener(y.getPath(),"insert_at",()=>{N==null||N(y)}),google.maps.event.addListener(y.getPath(),"set_at",()=>{N==null||N(y)}),google.maps.event.addListener(y.getPath(),"remove_at",()=>{N==null||N(y)}))},[y,N]),i.useEffect(()=>{y&&typeof d=="function"&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(y,"dragend",d)))},[d]),i.useEffect(()=>{y&&typeof h=="function"&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(y,"dragstart",h)))},[h]),i.useEffect(()=>{y&&typeof u=="function"&&(q!==null&&google.maps.event.removeListener(q),U(google.maps.event.addListener(y,"mousedown",u)))},[u]),i.useEffect(()=>{y&&typeof f=="function"&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(y,"mousemove",f)))},[f]),i.useEffect(()=>{y&&typeof x=="function"&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(y,"mouseout",x)))},[x]),i.useEffect(()=>{y&&typeof m=="function"&&(ie!==null&&google.maps.event.removeListener(ie),ne(google.maps.event.addListener(y,"mouseover",m)))},[m]),i.useEffect(()=>{y&&typeof p=="function"&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(y,"mouseup",p)))},[p]),i.useEffect(()=>{y&&typeof b=="function"&&(le!==null&&google.maps.event.removeListener(le),C(google.maps.event.addListener(y,"rightclick",b)))},[b]),i.useEffect(()=>{y&&typeof g=="function"&&(_!==null&&google.maps.event.removeListener(_),Q(google.maps.event.addListener(y,"click",g)))},[g]),i.useEffect(()=>{y&&typeof w=="function"&&(Z!==null&&google.maps.event.removeListener(Z),pe(google.maps.event.addListener(y,"drag",w)))},[w]),i.useEffect(()=>{var G=new google.maps.Polygon(ni(ni({},t),{},{map:v}));return o&&G.setPath(o),l&&G.setPaths(l),typeof a<"u"&&G.setVisible(a),typeof r<"u"&&G.setEditable(r),typeof n<"u"&&G.setDraggable(n),c&&j(google.maps.event.addListener(G,"dblclick",c)),d&&R(google.maps.event.addListener(G,"dragend",d)),h&&z(google.maps.event.addListener(G,"dragstart",h)),u&&U(google.maps.event.addListener(G,"mousedown",u)),f&&J(google.maps.event.addListener(G,"mousemove",f)),x&&oe(google.maps.event.addListener(G,"mouseout",x)),m&&ne(google.maps.event.addListener(G,"mouseover",m)),p&&K(google.maps.event.addListener(G,"mouseup",p)),b&&C(google.maps.event.addListener(G,"rightclick",b)),g&&Q(google.maps.event.addListener(G,"click",g)),w&&pe(google.maps.event.addListener(G,"drag",w)),E(G),S&&S(G),()=>{k!==null&&google.maps.event.removeListener(k),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),q!==null&&google.maps.event.removeListener(q),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),ie!==null&&google.maps.event.removeListener(ie),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),_!==null&&google.maps.event.removeListener(_),P&&P(G),G.setMap(null)}},[]),null}i.memo(mx);class px extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=ye({updaterMap:ai,eventMap:ri,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:ai,eventMap:ri,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),we(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}I(px,"contextType",fe);function oi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Vn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oi(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var ii={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},li={bounds(s,t){s.setBounds(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},visible(s,t){s.setVisible(t)}};function gx(s){var{options:t,bounds:n,draggable:r,editable:a,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:h,onMouseMove:u,onMouseOut:f,onMouseOver:x,onMouseUp:m,onRightClick:p,onClick:b,onDrag:g,onBoundsChanged:w,onLoad:S,onUnmount:P}=s,N=i.useContext(fe),[v,y]=i.useState(null),[E,k]=i.useState(null),[j,M]=i.useState(null),[R,A]=i.useState(null),[z,q]=i.useState(null),[U,V]=i.useState(null),[J,X]=i.useState(null),[oe,ie]=i.useState(null),[ne,ee]=i.useState(null),[K,le]=i.useState(null),[C,_]=i.useState(null),[Q,Z]=i.useState(null),[pe,G]=i.useState(null);return i.useEffect(()=>{v!==null&&v.setMap(N)},[N]),i.useEffect(()=>{typeof t<"u"&&v!==null&&v.setOptions(t)},[v,t]),i.useEffect(()=>{typeof r<"u"&&v!==null&&v.setDraggable(r)},[v,r]),i.useEffect(()=>{typeof a<"u"&&v!==null&&v.setEditable(a)},[v,a]),i.useEffect(()=>{typeof o<"u"&&v!==null&&v.setVisible(o)},[v,o]),i.useEffect(()=>{typeof n<"u"&&v!==null&&v.setBounds(n)},[v,n]),i.useEffect(()=>{v&&l&&(E!==null&&google.maps.event.removeListener(E),k(google.maps.event.addListener(v,"dblclick",l)))},[l]),i.useEffect(()=>{v&&c&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(v,"dragend",c)))},[c]),i.useEffect(()=>{v&&d&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(v,"dragstart",d)))},[d]),i.useEffect(()=>{v&&h&&(z!==null&&google.maps.event.removeListener(z),q(google.maps.event.addListener(v,"mousedown",h)))},[h]),i.useEffect(()=>{v&&u&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(v,"mousemove",u)))},[u]),i.useEffect(()=>{v&&f&&(J!==null&&google.maps.event.removeListener(J),X(google.maps.event.addListener(v,"mouseout",f)))},[f]),i.useEffect(()=>{v&&x&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(v,"mouseover",x)))},[x]),i.useEffect(()=>{v&&m&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(v,"mouseup",m)))},[m]),i.useEffect(()=>{v&&p&&(K!==null&&google.maps.event.removeListener(K),le(google.maps.event.addListener(v,"rightclick",p)))},[p]),i.useEffect(()=>{v&&b&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(v,"click",b)))},[b]),i.useEffect(()=>{v&&g&&(Q!==null&&google.maps.event.removeListener(Q),Z(google.maps.event.addListener(v,"drag",g)))},[g]),i.useEffect(()=>{v&&w&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(v,"bounds_changed",w)))},[w]),i.useEffect(()=>{var Y=new google.maps.Rectangle(Vn(Vn({},t),{},{map:N}));return typeof o<"u"&&Y.setVisible(o),typeof a<"u"&&Y.setEditable(a),typeof r<"u"&&Y.setDraggable(r),typeof n<"u"&&Y.setBounds(n),l&&k(google.maps.event.addListener(Y,"dblclick",l)),c&&M(google.maps.event.addListener(Y,"dragend",c)),d&&A(google.maps.event.addListener(Y,"dragstart",d)),h&&q(google.maps.event.addListener(Y,"mousedown",h)),u&&V(google.maps.event.addListener(Y,"mousemove",u)),f&&X(google.maps.event.addListener(Y,"mouseout",f)),x&&ie(google.maps.event.addListener(Y,"mouseover",x)),m&&ee(google.maps.event.addListener(Y,"mouseup",m)),p&&le(google.maps.event.addListener(Y,"rightclick",p)),b&&_(google.maps.event.addListener(Y,"click",b)),g&&Z(google.maps.event.addListener(Y,"drag",g)),w&&G(google.maps.event.addListener(Y,"bounds_changed",w)),y(Y),S&&S(Y),()=>{E!==null&&google.maps.event.removeListener(E),j!==null&&google.maps.event.removeListener(j),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),oe!==null&&google.maps.event.removeListener(oe),ne!==null&&google.maps.event.removeListener(ne),K!==null&&google.maps.event.removeListener(K),C!==null&&google.maps.event.removeListener(C),Q!==null&&google.maps.event.removeListener(Q),pe!==null&&google.maps.event.removeListener(pe),P&&P(Y),Y.setMap(null)}},[]),null}i.memo(gx);class fx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{rectangle:null}),I(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(Vn(Vn({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:li,eventMap:ii,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:li,eventMap:ii,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),we(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}I(fx,"contextType",fe);function ci(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Wn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ci(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var di={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ui={center(s,t){s.setCenter(t)},draggable(s,t){s.setDraggable(t)},editable(s,t){s.setEditable(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},radius(s,t){s.setRadius(t)},visible(s,t){s.setVisible(t)}},xx={};function vx(s){var{options:t,center:n,radius:r,draggable:a,editable:o,visible:l,onDblClick:c,onDragEnd:d,onDragStart:h,onMouseDown:u,onMouseMove:f,onMouseOut:x,onMouseOver:m,onMouseUp:p,onRightClick:b,onClick:g,onDrag:w,onCenterChanged:S,onRadiusChanged:P,onLoad:N,onUnmount:v}=s,y=i.useContext(fe),[E,k]=i.useState(null),[j,M]=i.useState(null),[R,A]=i.useState(null),[z,q]=i.useState(null),[U,V]=i.useState(null),[J,X]=i.useState(null),[oe,ie]=i.useState(null),[ne,ee]=i.useState(null),[K,le]=i.useState(null),[C,_]=i.useState(null),[Q,Z]=i.useState(null),[pe,G]=i.useState(null),[Y,$e]=i.useState(null),[F,$]=i.useState(null);return i.useEffect(()=>{E!==null&&E.setMap(y)},[y]),i.useEffect(()=>{typeof t<"u"&&E!==null&&E.setOptions(t)},[E,t]),i.useEffect(()=>{typeof a<"u"&&E!==null&&E.setDraggable(a)},[E,a]),i.useEffect(()=>{typeof o<"u"&&E!==null&&E.setEditable(o)},[E,o]),i.useEffect(()=>{typeof l<"u"&&E!==null&&E.setVisible(l)},[E,l]),i.useEffect(()=>{typeof r=="number"&&E!==null&&E.setRadius(r)},[E,r]),i.useEffect(()=>{typeof n<"u"&&E!==null&&E.setCenter(n)},[E,n]),i.useEffect(()=>{E&&c&&(j!==null&&google.maps.event.removeListener(j),M(google.maps.event.addListener(E,"dblclick",c)))},[c]),i.useEffect(()=>{E&&d&&(R!==null&&google.maps.event.removeListener(R),A(google.maps.event.addListener(E,"dragend",d)))},[d]),i.useEffect(()=>{E&&h&&(z!==null&&google.maps.event.removeListener(z),q(google.maps.event.addListener(E,"dragstart",h)))},[h]),i.useEffect(()=>{E&&u&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(E,"mousedown",u)))},[u]),i.useEffect(()=>{E&&f&&(J!==null&&google.maps.event.removeListener(J),X(google.maps.event.addListener(E,"mousemove",f)))},[f]),i.useEffect(()=>{E&&x&&(oe!==null&&google.maps.event.removeListener(oe),ie(google.maps.event.addListener(E,"mouseout",x)))},[x]),i.useEffect(()=>{E&&m&&(ne!==null&&google.maps.event.removeListener(ne),ee(google.maps.event.addListener(E,"mouseover",m)))},[m]),i.useEffect(()=>{E&&p&&(K!==null&&google.maps.event.removeListener(K),le(google.maps.event.addListener(E,"mouseup",p)))},[p]),i.useEffect(()=>{E&&b&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(E,"rightclick",b)))},[b]),i.useEffect(()=>{E&&g&&(Q!==null&&google.maps.event.removeListener(Q),Z(google.maps.event.addListener(E,"click",g)))},[g]),i.useEffect(()=>{E&&w&&(pe!==null&&google.maps.event.removeListener(pe),G(google.maps.event.addListener(E,"drag",w)))},[w]),i.useEffect(()=>{E&&S&&(Y!==null&&google.maps.event.removeListener(Y),$e(google.maps.event.addListener(E,"center_changed",S)))},[g]),i.useEffect(()=>{E&&P&&(F!==null&&google.maps.event.removeListener(F),$(google.maps.event.addListener(E,"radius_changed",P)))},[P]),i.useEffect(()=>{var W=new google.maps.Circle(Wn(Wn({},t||xx),{},{map:y}));return typeof r=="number"&&W.setRadius(r),typeof n<"u"&&W.setCenter(n),typeof r=="number"&&W.setRadius(r),typeof l<"u"&&W.setVisible(l),typeof o<"u"&&W.setEditable(o),typeof a<"u"&&W.setDraggable(a),c&&M(google.maps.event.addListener(W,"dblclick",c)),d&&A(google.maps.event.addListener(W,"dragend",d)),h&&q(google.maps.event.addListener(W,"dragstart",h)),u&&V(google.maps.event.addListener(W,"mousedown",u)),f&&X(google.maps.event.addListener(W,"mousemove",f)),x&&ie(google.maps.event.addListener(W,"mouseout",x)),m&&ee(google.maps.event.addListener(W,"mouseover",m)),p&&le(google.maps.event.addListener(W,"mouseup",p)),b&&_(google.maps.event.addListener(W,"rightclick",b)),g&&Z(google.maps.event.addListener(W,"click",g)),w&&G(google.maps.event.addListener(W,"drag",w)),S&&$e(google.maps.event.addListener(W,"center_changed",S)),P&&$(google.maps.event.addListener(W,"radius_changed",P)),k(W),N&&N(W),()=>{j!==null&&google.maps.event.removeListener(j),R!==null&&google.maps.event.removeListener(R),z!==null&&google.maps.event.removeListener(z),U!==null&&google.maps.event.removeListener(U),J!==null&&google.maps.event.removeListener(J),oe!==null&&google.maps.event.removeListener(oe),ne!==null&&google.maps.event.removeListener(ne),K!==null&&google.maps.event.removeListener(K),C!==null&&google.maps.event.removeListener(C),Q!==null&&google.maps.event.removeListener(Q),Y!==null&&google.maps.event.removeListener(Y),F!==null&&google.maps.event.removeListener(F),v&&v(W),W.setMap(null)}},[]),null}i.memo(vx);class wa extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{circle:null}),I(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(Wn(Wn({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:ui,eventMap:di,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:ui,eventMap:di,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),we(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}I(wa,"contextType",fe);function hi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Gn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hi(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var mi={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},pi={add(s,t){s.add(t)},addgeojson(s,t,n){s.addGeoJson(t,n)},contains(s,t){s.contains(t)},foreach(s,t){s.forEach(t)},loadgeojson(s,t,n,r){s.loadGeoJson(t,n,r)},overridestyle(s,t,n){s.overrideStyle(t,n)},remove(s,t){s.remove(t)},revertstyle(s,t){s.revertStyle(t)},controlposition(s,t){s.setControlPosition(t)},controls(s,t){s.setControls(t)},drawingmode(s,t){s.setDrawingMode(t)},map(s,t){s.setMap(t)},style(s,t){s.setStyle(t)},togeojson(s,t){s.toGeoJson(t)}};function bx(s){var{options:t,onClick:n,onDblClick:r,onMouseDown:a,onMouseMove:o,onMouseOut:l,onMouseOver:c,onMouseUp:d,onRightClick:h,onAddFeature:u,onRemoveFeature:f,onRemoveProperty:x,onSetGeometry:m,onSetProperty:p,onLoad:b,onUnmount:g}=s,w=i.useContext(fe),[S,P]=i.useState(null),[N,v]=i.useState(null),[y,E]=i.useState(null),[k,j]=i.useState(null),[M,R]=i.useState(null),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(null),[X,oe]=i.useState(null),[ie,ne]=i.useState(null),[ee,K]=i.useState(null),[le,C]=i.useState(null),[_,Q]=i.useState(null),[Z,pe]=i.useState(null);return i.useEffect(()=>{S!==null&&S.setMap(w)},[w]),i.useEffect(()=>{S&&r&&(N!==null&&google.maps.event.removeListener(N),v(google.maps.event.addListener(S,"dblclick",r)))},[r]),i.useEffect(()=>{S&&a&&(y!==null&&google.maps.event.removeListener(y),E(google.maps.event.addListener(S,"mousedown",a)))},[a]),i.useEffect(()=>{S&&o&&(k!==null&&google.maps.event.removeListener(k),j(google.maps.event.addListener(S,"mousemove",o)))},[o]),i.useEffect(()=>{S&&l&&(M!==null&&google.maps.event.removeListener(M),R(google.maps.event.addListener(S,"mouseout",l)))},[l]),i.useEffect(()=>{S&&c&&(A!==null&&google.maps.event.removeListener(A),z(google.maps.event.addListener(S,"mouseover",c)))},[c]),i.useEffect(()=>{S&&d&&(q!==null&&google.maps.event.removeListener(q),U(google.maps.event.addListener(S,"mouseup",d)))},[d]),i.useEffect(()=>{S&&h&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(S,"rightclick",h)))},[h]),i.useEffect(()=>{S&&n&&(X!==null&&google.maps.event.removeListener(X),oe(google.maps.event.addListener(S,"click",n)))},[n]),i.useEffect(()=>{S&&u&&(ie!==null&&google.maps.event.removeListener(ie),ne(google.maps.event.addListener(S,"addfeature",u)))},[u]),i.useEffect(()=>{S&&f&&(ee!==null&&google.maps.event.removeListener(ee),K(google.maps.event.addListener(S,"removefeature",f)))},[f]),i.useEffect(()=>{S&&x&&(le!==null&&google.maps.event.removeListener(le),C(google.maps.event.addListener(S,"removeproperty",x)))},[x]),i.useEffect(()=>{S&&m&&(_!==null&&google.maps.event.removeListener(_),Q(google.maps.event.addListener(S,"setgeometry",m)))},[m]),i.useEffect(()=>{S&&p&&(Z!==null&&google.maps.event.removeListener(Z),pe(google.maps.event.addListener(S,"setproperty",p)))},[p]),i.useEffect(()=>{if(w!==null){var G=new google.maps.Data(Gn(Gn({},t),{},{map:w}));r&&v(google.maps.event.addListener(G,"dblclick",r)),a&&E(google.maps.event.addListener(G,"mousedown",a)),o&&j(google.maps.event.addListener(G,"mousemove",o)),l&&R(google.maps.event.addListener(G,"mouseout",l)),c&&z(google.maps.event.addListener(G,"mouseover",c)),d&&U(google.maps.event.addListener(G,"mouseup",d)),h&&J(google.maps.event.addListener(G,"rightclick",h)),n&&oe(google.maps.event.addListener(G,"click",n)),u&&ne(google.maps.event.addListener(G,"addfeature",u)),f&&K(google.maps.event.addListener(G,"removefeature",f)),x&&C(google.maps.event.addListener(G,"removeproperty",x)),m&&Q(google.maps.event.addListener(G,"setgeometry",m)),p&&pe(google.maps.event.addListener(G,"setproperty",p)),P(G),b&&b(G)}return()=>{S&&(N!==null&&google.maps.event.removeListener(N),y!==null&&google.maps.event.removeListener(y),k!==null&&google.maps.event.removeListener(k),M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),q!==null&&google.maps.event.removeListener(q),V!==null&&google.maps.event.removeListener(V),X!==null&&google.maps.event.removeListener(X),ie!==null&&google.maps.event.removeListener(ie),ee!==null&&google.maps.event.removeListener(ee),le!==null&&google.maps.event.removeListener(le),_!==null&&google.maps.event.removeListener(_),Z!==null&&google.maps.event.removeListener(Z),g&&g(S),S.setMap(null))}},[]),null}i.memo(bx);class yx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{data:null}),I(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(Gn(Gn({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:pi,eventMap:mi,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:pi,eventMap:mi,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),we(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}I(yx,"contextType",fe);function gi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function fi(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gi(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var xi={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},vi={options(s,t){s.setOptions(t)},url(s,t){s.setUrl(t)},zIndex(s,t){s.setZIndex(t)}};class wx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{kmlLayer:null}),I(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(fi(fi({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:vi,eventMap:xi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:vi,eventMap:xi,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),we(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}I(wx,"contextType",fe);function Tc(s,t){return typeof t=="function"?t(s.offsetWidth,s.offsetHeight):{x:0,y:0}}function jx(s,t){return new t(s.lat,s.lng)}function Nx(s,t){return new t(new google.maps.LatLng(s.ne.lat,s.ne.lng),new google.maps.LatLng(s.sw.lat,s.sw.lng))}function Sx(s,t,n){return s instanceof t?s:n(s,t)}function Cx(s,t,n){return s instanceof t?s:n(s,t)}function kx(s,t,n){var r=s&&s.fromLatLngToDivPixel(n.getNorthEast()),a=s&&s.fromLatLngToDivPixel(n.getSouthWest());return r&&a?{left:"".concat(a.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-a.x-t.x,"px"),height:"".concat(a.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Lx(s,t,n){var r=s&&s.fromLatLngToDivPixel(n);if(r){var{x:a,y:o}=r;return{left:"".concat(a+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Ic(s,t,n,r){return n!==void 0?kx(s,t,Cx(n,google.maps.LatLngBounds,Nx)):Lx(s,t,Sx(r,google.maps.LatLng,jx))}function Ex(s,t){return s.left===t.left&&s.top===t.top&&s.width===t.height&&s.height===t.height}function bi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Px(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bi(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function Mx(s,t,n,r,a){class o extends google.maps.OverlayView{constructor(c,d,h,u){super(),this.container=c,this.pane=d,this.position=h,this.bounds=u}onAdd(){var c,d=(c=this.getPanes())===null||c===void 0?void 0:c[this.pane];d==null||d.appendChild(this.container)}draw(){var c=this.getProjection(),d=Px({},this.container?Tc(this.container,a):{x:0,y:0}),h=Ic(c,d,this.bounds,this.position);for(var[u,f]of Object.entries(h))this.container.style[u]=f}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new o(s,t,n,r)}function yi(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Ax(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yi(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}function wi(s){if(!s)return"";var t=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);return t+""}function ji(s){if(!s)return"";var t=s instanceof google.maps.LatLngBounds?s:new google.maps.LatLngBounds(new google.maps.LatLng(s.south,s.east),new google.maps.LatLng(s.north,s.west));return t+""}function Ox(s){var{position:t,bounds:n,mapPaneName:r,zIndex:a,onLoad:o,onUnmount:l,getPixelPositionOffset:c,children:d}=s,h=i.useContext(fe),u=i.useMemo(()=>{var x=document.createElement("div");return x.style.position="absolute",x},[]),f=i.useMemo(()=>Mx(u,r,t,n,c),[u,r,t,n]);return i.useEffect(()=>(o==null||o(f),f==null||f.setMap(h),()=>{l==null||l(f),f==null||f.setMap(null)}),[h,f]),i.useEffect(()=>{u.style.zIndex="".concat(a)},[a,u]),Ss.createPortal(d,u)}i.memo(Ox);class Os extends i.PureComponent{constructor(t){super(t),I(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),I(this,"updatePane",()=>{var r=this.props.mapPaneName,a=this.overlayView.getPanes();Ke(!!r,"OverlayView requires props.mapPaneName but got %s",r),a?this.setState({paneEl:a[r]}):this.setState({paneEl:null})}),I(this,"onAdd",()=>{var r,a;this.updatePane(),(r=(a=this.props).onLoad)===null||r===void 0||r.call(a,this.overlayView)}),I(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),a=Ax({x:0,y:0},this.containerRef.current?Tc(this.containerRef.current,this.props.getPixelPositionOffset):{}),o=Ic(r,a,this.props.bounds,this.props.position);if(!Ex(o,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var l,c,d,h;this.setState({containerStyle:{top:(l=o.top)!==null&&l!==void 0?l:0,left:(c=o.left)!==null&&c!==void 0?c:0,width:(d=o.width)!==null&&d!==void 0?d:0,height:(h=o.height)!==null&&h!==void 0?h:0,position:"absolute"}})}}),I(this,"draw",()=>{this.onPositionElement()}),I(this,"onRemove",()=>{var r,a;this.setState(()=>({paneEl:null})),(r=(a=this.props).onUnmount)===null||r===void 0||r.call(a,this.overlayView)}),this.containerRef=i.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=wi(t.position),r=wi(this.props.position),a=ji(t.bounds),o=ji(this.props.bounds);(n!==r||a!==o)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?Ss.createPortal(e.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:i.Children.only(this.props.children)}),t):null}}I(Os,"FLOAT_PANE","floatPane");I(Os,"MAP_PANE","mapPane");I(Os,"MARKER_LAYER","markerLayer");I(Os,"OVERLAY_LAYER","overlayLayer");I(Os,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");I(Os,"contextType",fe);function Dx(){}function Ni(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Si(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Ci={onDblClick:"dblclick",onClick:"click"},ki={opacity(s,t){s.setOpacity(t)}};function Tx(s){var{url:t,bounds:n,options:r,visible:a}=s,o=i.useContext(fe),l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),c=i.useMemo(()=>new google.maps.GroundOverlay(t,l,r),[]);return i.useEffect(()=>{c!==null&&c.setMap(o)},[o]),i.useEffect(()=>{typeof t<"u"&&c!==null&&(c.set("url",t),c.setMap(o))},[c,t]),i.useEffect(()=>{typeof a<"u"&&c!==null&&c.setOpacity(a?1:0)},[c,a]),i.useEffect(()=>{var d=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&c!==null&&(c.set("bounds",d),c.setMap(o))},[c,n]),null}i.memo(Tx);class Bc extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{groundOverlay:null}),I(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ke(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,Si(Si({},this.props.options),{},{map:this.context}));this.registeredEvents=ye({updaterMap:ki,eventMap:Ci,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:ki,eventMap:Ci,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}I(Bc,"defaultProps",{onLoad:Dx});I(Bc,"contextType",fe);function Li(s,t){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),n.push.apply(n,r)}return n}function Zn(s){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Li(Object(n),!0).forEach(function(r){I(s,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):Li(Object(n)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(n,r))})}return s}var Ei={},Pi={data(s,t){s.setData(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)}};function Ix(s){var{data:t,onLoad:n,onUnmount:r,options:a}=s,o=i.useContext(fe),[l,c]=i.useState(null);return i.useEffect(()=>{google.maps.visualization||Ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),i.useEffect(()=>{Ke(!!t,"data property is required in HeatmapLayer %s",t)},[t]),i.useEffect(()=>{l!==null&&l.setMap(o)},[o]),i.useEffect(()=>{a&&l!==null&&l.setOptions(a)},[l,a]),i.useEffect(()=>{var d=new google.maps.visualization.HeatmapLayer(Zn(Zn({},a),{},{data:t,map:o}));return c(d),n&&n(d),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}i.memo(Ix);class Bx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{heatmapLayer:null}),I(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ke(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ke(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(Zn(Zn({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ye({updaterMap:Pi,eventMap:Ei,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Pi,eventMap:Ei,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),we(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}I(Bx,"contextType",fe);var Mi={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Ai={register(s,t,n){s.registerPanoProvider(t,n)},links(s,t){s.setLinks(t)},motionTracking(s,t){s.setMotionTracking(t)},options(s,t){s.setOptions(t)},pano(s,t){s.setPano(t)},position(s,t){s.setPosition(t)},pov(s,t){s.setPov(t)},visible(s,t){s.setVisible(t)},zoom(s,t){s.setZoom(t)}};class Rx extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{streetViewPanorama:null}),I(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,r=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=ye({updaterMap:Ai,eventMap:Mi,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ai,eventMap:Mi,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),we(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}I(Rx,"contextType",fe);class Fx extends i.PureComponent{constructor(){super(...arguments),I(this,"state",{streetViewService:null}),I(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}I(Fx,"contextType",fe);var Oi={onDirectionsChanged:"directions_changed"},Di={directions(s,t){s.setDirections(t)},map(s,t){s.setMap(t)},options(s,t){s.setOptions(t)},panel(s,t){s.setPanel(t)},routeIndex(s,t){s.setRouteIndex(t)}};class $x extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"state",{directionsRenderer:null}),I(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ye({updaterMap:Di,eventMap:Oi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Di,eventMap:Oi,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),we(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}I($x,"contextType",fe);var Ti={onPlacesChanged:"places_changed"},Ii={bounds(s,t){s.setBounds(t)}};class _x extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"containerElement",i.createRef()),I(this,"state",{searchBox:null}),I(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=ye({updaterMap:Ii,eventMap:Ti,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ii,eventMap:Ti,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),we(this.registeredEvents))}render(){return e.jsx("div",{ref:this.containerElement,children:i.Children.only(this.props.children)})}}I(_x,"contextType",fe);var Bi={onPlaceChanged:"place_changed"},Ri={bounds(s,t){s.setBounds(t)},restrictions(s,t){s.setComponentRestrictions(t)},fields(s,t){s.setFields(t)},options(s,t){s.setOptions(t)},types(s,t){s.setTypes(t)}};class Rc extends i.PureComponent{constructor(){super(...arguments),I(this,"registeredEvents",[]),I(this,"containerElement",i.createRef()),I(this,"state",{autocomplete:null}),I(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Ke(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=ye({updaterMap:Ri,eventMap:Bi,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(t){we(this.registeredEvents),this.registeredEvents=ye({updaterMap:Ri,eventMap:Bi,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&we(this.registeredEvents)}render(){return e.jsx("div",{ref:this.containerElement,className:this.props.className,children:i.Children.only(this.props.children)})}}I(Rc,"defaultProps",{className:""});I(Rc,"contextType",fe);const Jn=async(s,t)=>{try{const n=localStorage.getItem("token");if(!n)return console.warn("No token found, skipping location save"),!1;const r=await Fe("/api/user/location",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({lat:s,lng:t})});if(r.ok){const a=await r.json();return console.log("âœ… Location saved:",a),!0}else{const a=await r.json().catch(()=>({}));return console.error("âŒ Failed to save location:",r.status,a),!1}}catch(n){return console.error("âŒ Error saving location:",n),!1}},Kn=()=>new Promise((s,t)=>{if(!localStorage.getItem("token")){t(new Error("Please log in to use location services"));return}if(!navigator.geolocation)return t(new Error("Geolocation not supported"));navigator.geolocation.getCurrentPosition(r=>{s({lat:r.coords.latitude,lng:r.coords.longitude})},r=>{t(new Error("Geolocation error: "+r.message))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),Yn=async()=>{try{const s=localStorage.getItem("token");if(!s)return console.warn("No token found, cannot fetch saved location"),null;const t=await Fe("/api/user/location",{headers:{Authorization:`Bearer ${s}`}});if(t.ok){const n=await t.json();return n.location?{lat:n.location.coordinates[1],lng:n.location.coordinates[0]}:null}else return console.error("âŒ Failed to fetch saved location:",t.status),null}catch(s){return console.error("âŒ Error fetching saved location:",s),null}},zx=()=>{const[s,t]=i.useState(null),[n,r]=i.useState([]),[a,o]=i.useState(""),[l,c]=i.useState(null),[d,h]=i.useState(!0),[u,f]=i.useState(!1),[x,m]=i.useState(null),p=["places"],{isLoaded:b,loadError:g}=va({googleMapsApiKey:"",libraries:p});i.useEffect(()=>{(async()=>{try{const y=await Kn();t(y),await Jn(y.lat,y.lng),await w(y.lat,y.lng),h(!1)}catch(y){console.error("Geolocation error:",y),c(y.message||"ðŸ“ Location access denied. Please enable GPS and refresh."),h(!1)}})()},[]);const w=async(v,y)=>{try{const E=localStorage.getItem("token");console.log("Fetching nearby washermen for coordinates:",v,y);const k=a?`/api/washer/nearby?lat=${v}&lng=${y}&date=${a}`:`/api/washer/nearby?lat=${v}&lng=${y}`,j=await Fe(k,{headers:{Authorization:`Bearer ${E}`,"Content-Type":"application/json"}});if(!j.ok)throw j.status===401?new Error("Please sign in to view nearby washermen"):new Error(`HTTP error! status: ${j.status}`);const M=await j.json();console.log("Received washermen data:",M),Array.isArray(M)&&M.length===0?(console.log("No washermen found in the area"),f(!0)):(console.log(`Found ${M.length} washermen in the area`),r(M))}catch(E){console.error("Failed to fetch washermen:",E),c(E.message||"âŒ Failed to fetch nearby washermen. Please try again.")}},S=v=>{const y=v.target.value;o(y),s&&w(s.lat,s.lng)},P=v=>{m(v)},N=(v,y)=>{console.log(`Booking ${y} with washerman ${v}`)};return d?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}):l?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 text-2xl mb-2",children:"âš ï¸"}),e.jsx("p",{className:"text-red-700 font-medium mb-4",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):s?g?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center p-6 bg-red-50 rounded-lg max-w-md",children:[e.jsx("div",{className:"text-red-600 text-2xl mb-2",children:"âš ï¸"}),e.jsx("p",{className:"text-red-700 font-medium mb-4",children:"Failed to load Google Maps. Please check your internet connection."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):b?e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Nearby Washermen"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Date for Booking"}),e.jsx("input",{type:"date",value:a,onChange:S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]}),a&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Showing washermen available on ",a]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Map View"}),e.jsx("div",{className:"h-96 rounded-lg overflow-hidden",children:e.jsxs($n,{center:s,zoom:15,mapContainerStyle:{height:"100%",width:"100%"},options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1},children:[e.jsx(Kt,{position:s,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                    <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="16" cy="16" r="12" fill="#3b82f6" stroke="white" stroke-width="3"/>
                      <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ“</text>
                    </svg>
                  `)}}),n.map(v=>{const y=a?v.isAvailable:!0,E=a?(v.totalAvailableSlots||0)>0:!0;return e.jsxs(Ui.Fragment,{children:[e.jsx(Kt,{position:{lat:v.location.lat,lng:v.location.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                          <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="16" cy="16" r="12" fill="${y&&E?"#10b981":"#6b7280"}" stroke="white" stroke-width="3"/>
                            <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ‘•</text>
                          </svg>
                        `)},title:`${v.name} - ${y&&E?"Available":"Not Available"}`,onClick:()=>P(v)}),e.jsx(wa,{center:{lat:v.location.lat,lng:v.location.lng},radius:v.range,options:{fillColor:y&&E?"#10b981":"#6b7280",fillOpacity:.1,strokeColor:y&&E?"#10b981":"#6b7280",strokeOpacity:.8,strokeWeight:2}})]},v._id)})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Available Washermen"}),n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-4",children:"ðŸ "}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Washermen Found"}),e.jsx("p",{className:"text-gray-600 text-sm",children:a?`No washermen available in your area on ${a}. Try a different date.`:"There are no washermen available in your area at the moment."})]}):e.jsx("div",{className:"space-y-4",children:n.map(v=>{const y=a?v.isAvailable:!0,E=a?(v.totalAvailableSlots||0)>0:!0;return e.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(x==null?void 0:x._id)===v._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${!y||!E?"opacity-50":""}`,onClick:()=>P(v),children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:v.name}),e.jsx("p",{className:"text-sm text-gray-500",children:v.contact}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Range: ",v.range,"m"]}),a&&e.jsx("div",{className:"mt-2",children:y&&E?e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["âœ… Available (",v.totalAvailableSlots," slots)"]}),v.availableSlots&&v.availableSlots.length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Available slots:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.availableSlots.slice(0,3).map((k,j)=>e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:k.timeRange},j)),v.availableSlots.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",v.availableSlots.length-3," more"]})]})]})]}):e.jsxs("p",{className:"text-sm text-red-600 font-medium",children:["âŒ Not available on ",a]})})]}),y&&E&&e.jsx("button",{onClick:k=>{k.stopPropagation(),N(v._id,"any")},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Book Now"})]})},v._id)})})]})]}),x&&a&&x.availableSlots&&x.availableSlots.length>0&&e.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Book with ",x.name]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.availableSlots.map((v,y)=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:v.timeRange}),e.jsx("p",{className:"text-sm text-gray-500",children:v.period}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Available: ",v.available," of ",v.maxCapacity]}),e.jsx("button",{onClick:()=>N(x._id,v.timeRange),className:"mt-3 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 transition-colors",children:"Book This Slot"})]})},y))})]})]}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Google Maps..."})]})}):e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Unable to get your location"})})})},Ux=()=>{const[s,t]=i.useState(null),[n,r]=i.useState(null),[a,o]=i.useState(""),[l,c]=i.useState(!1),d=async()=>{c(!0),o("Getting current location...");try{const f=await Kn();t(f),o("Current location obtained successfully!")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}},h=async()=>{if(!s){o("Please get current location first");return}c(!0),o("Saving location to database...");try{if(await Jn(s.lat,s.lng)){o("Location saved to database successfully!");const x=await Yn();r(x)}else o("Failed to save location to database")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}},u=async()=>{c(!0),o("Getting saved location from database...");try{const f=await Yn();f?(r(f),o("Saved location retrieved successfully!")):o("No saved location found in database")}catch(f){o(`Error: ${f.message}`)}finally{c(!1)}};return i.useEffect(()=>{u()},[]),e.jsxs("div",{className:"max-w-md mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"ðŸ“ Location Test"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Current Location"}),s?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",s.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",s.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No current location"}),e.jsx("button",{onClick:d,disabled:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:"Get Current Location"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Saved Location (Database)"}),n?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",n.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",n.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No saved location"}),e.jsx("button",{onClick:u,disabled:l,className:"mt-2 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50",children:"Get Saved Location"})]}),e.jsx("button",{onClick:h,disabled:l||!s,className:"w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 disabled:opacity-50",children:"Save Current Location to Database"}),a&&e.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:a})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Instructions:"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:'1. Click "Get Current Location" to get your GPS coordinates'}),e.jsx("li",{children:'2. Click "Save Current Location to Database" to save it'}),e.jsx("li",{children:'3. Click "Get Saved Location" to retrieve from database'}),e.jsx("li",{children:"4. Check the status messages for feedback"})]})]})]})]})},qx=()=>{var b;const[s,t]=i.useState(null),[n,r]=i.useState(null),[a,o]=i.useState(""),[l,c]=i.useState(!1),[d,h]=i.useState(null),u=async()=>{const g=localStorage.getItem("token");if(!g){o("No authentication token found. Please sign in first.");return}try{const w=await Fe("/api/user/currentuser",{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(w.ok){const S=await w.json();h(S),o(`Logged in as: ${S.name} (${S.email})`),console.log("User info:",S)}else o("Authentication failed. Please sign in again.")}catch(w){o("Error checking authentication"),console.error("Auth error:",w)}},f=async()=>{c(!0),o("Getting current location...");try{const g=await Kn();t(g),o(`Current location obtained: ${g.lat.toFixed(6)}, ${g.lng.toFixed(6)}`)}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},x=async()=>{if(!s){o("Please get current location first");return}c(!0),o("Saving location to database...");try{await Jn(s.lat,s.lng)?(o("Location saved to database successfully!"),setTimeout(()=>{m()},1e3)):o("Failed to save location to database")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},m=async()=>{c(!0),o("Getting saved location from database...");try{const g=await Yn();g?(r(g),o(`Saved location retrieved: ${g.lat.toFixed(6)}, ${g.lng.toFixed(6)}`)):o("No saved location found in database")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}},p=async()=>{c(!0),o("Auto-saving location...");try{const g=await Kn();if(t(g),await Jn(g.lat,g.lng)){o("Location auto-saved successfully!");const S=await Yn();r(S)}else o("Failed to auto-save location")}catch(g){o(`Error: ${g.message}`)}finally{c(!1)}};return i.useEffect(()=>{u()},[]),e.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"ðŸ” Location Debug"}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Authentication Status"}),d?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",d.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",d.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",d.role]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Location in DB:"})," ",(b=d.location)!=null&&b.coordinates?`${d.location.coordinates[1].toFixed(6)}, ${d.location.coordinates[0].toFixed(6)}`:"Not set"]})]}):e.jsx("p",{className:"text-red-600",children:"Not authenticated"}),e.jsx("button",{onClick:u,className:"mt-2 px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Refresh Auth Status"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Current GPS Location"}),s?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",s.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",s.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No current location"}),e.jsx("button",{onClick:f,disabled:l,className:"mt-2 w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:"Get Current Location"})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Saved Location (Database)"}),n?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Latitude: ",n.lat.toFixed(6)]}),e.jsxs("p",{children:["Longitude: ",n.lng.toFixed(6)]})]}):e.jsx("p",{className:"text-gray-500",children:"No saved location"}),e.jsx("button",{onClick:m,disabled:l,className:"mt-2 w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50",children:"Get Saved Location"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:x,disabled:l||!s,className:"w-full bg-purple-600 text-white py-2 px-4 rounded hover:bg-purple-700 disabled:opacity-50",children:"Save Current Location to Database"}),e.jsx("button",{onClick:p,disabled:l,className:"w-full bg-orange-600 text-white py-2 px-4 rounded hover:bg-orange-700 disabled:opacity-50",children:"Auto-Save Location (Get + Save)"})]}),a&&e.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-700",children:a})}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Debug Instructions:"}),e.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"1. Check authentication status first"}),e.jsx("li",{children:'2. Use "Auto-Save Location" to test the complete flow'}),e.jsx("li",{children:"3. Check browser console for detailed logs"}),e.jsx("li",{children:"4. Verify location is saved in database"}),e.jsx("li",{children:"5. Check backend console for server-side logs"})]})]})]})]})},Hx=({onLocationSelect:s,selectedLocation:t,serviceRadius:n,nearbyCustomers:r=[]})=>{const[a,o]=i.useState({lat:19.076,lng:72.8777}),[l,c]=i.useState(13),{isLoaded:d,loadError:h}=va({googleMapsApiKey:"AIzaSyCt9dISEfT7zM4zAeE8a4_ZE6F5oAmRppI",libraries:["places"]});i.useEffect(()=>{t&&(o({lat:t.lat,lng:t.lng}),c(15))},[t]);const u=f=>{const x=f.latLng.lat(),m=f.latLng.lng(),p={lat:x,lng:m,address:`Selected Location: ${x.toFixed(4)}, ${m.toFixed(4)}`,name:"Selected Location"};s(p)};return h?e.jsx("div",{style:{height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",border:"2px solid #e5e7eb",borderRadius:"8px"},children:e.jsxs("div",{style:{textAlign:"center",color:"#ef4444"},children:[e.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"âš ï¸"}),e.jsx("h4",{children:"Map Loading Error"}),e.jsx("p",{children:"Failed to load Google Maps. Please check your internet connection."})]})}):d?e.jsxs("div",{style:{position:"relative",width:"100%",height:"450px"},children:[e.jsxs($n,{center:a,zoom:l,mapContainerStyle:{width:"100%",height:"100%",borderRadius:"8px"},onClick:u,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[t&&e.jsxs(e.Fragment,{children:[e.jsx(wa,{center:{lat:t.lat,lng:t.lng},radius:n*1e3,options:{fillColor:"#3b82f6",fillOpacity:.1,strokeColor:"#3b82f6",strokeOpacity:.8,strokeWeight:2}}),e.jsx(Kt,{position:{lat:t.lat,lng:t.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                  <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="16" cy="16" r="12" fill="#ef4444" stroke="white" stroke-width="3"/>
                    <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ“</text>
                  </svg>
                `)}})]}),r.map((f,x)=>{var m;return e.jsx(Kt,{position:{lat:f.location.coordinates[1],lng:f.location.coordinates[0]},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="16" cy="16" r="12" fill="#10b981" stroke="white" stroke-width="3"/>
                  <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ‘¤</text>
                </svg>
              `)},title:`${f.name} - ${((m=f.distance)==null?void 0:m.toFixed(2))||"Unknown"} km away`},f._id||x)})]}),e.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",color:"#64748b",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",maxWidth:"300px"},children:[e.jsx("strong",{children:"ðŸ—ºï¸ Interactive Map"}),e.jsx("br",{}),"Click anywhere to select your service location",e.jsx("br",{}),"Blue circle shows your service radius",e.jsx("br",{}),e.jsx("span",{style:{color:"#ef4444"},children:"ðŸ”´ Red marker:"})," Your location",e.jsx("br",{}),e.jsx("span",{style:{color:"#10b981"},children:"ðŸŸ¢ Green markers:"})," Nearby customers (",r.length,")"]})]}):e.jsx("div",{style:{height:"450px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",border:"2px solid #e5e7eb",borderRadius:"8px"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #e5e7eb",borderTop:"4px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),e.jsx("p",{children:"Loading Google Maps..."})]})})},Vx=()=>{const s=Ft();i.useRef(null);const t=B=>{if(!B)return"Address not available";if(typeof B=="string")return B;if(B.street||B.city||B.state||B.zip){const H=[B.street,B.city,B.state,B.zip].filter(Boolean);return H.length>0?H.join(", "):"Address not available"}return"Address not available"},[n,r]=i.useState(new Date),[a,o]=i.useState([]),[l,c]=i.useState([]),[d,h]=i.useState(!0),[u,f]=i.useState({name:"",email:"",contact:"",_id:"",serviceLocation:null,isWasherman:!0}),[x,m]=i.useState(null),[p,b]=i.useState({monday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},tuesday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},wednesday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},thursday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},friday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},saturday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]},sunday:{enabled:!0,slots:[{id:1,time:"06:00 - 09:00",enabled:!0,label:"Morning Slot 1",maxCapacity:10},{id:2,time:"09:00 - 12:00",enabled:!0,label:"Afternoon Slot 1",maxCapacity:10},{id:3,time:"12:00 - 15:00",enabled:!0,label:"Afternoon Slot 2",maxCapacity:10},{id:4,time:"15:00 - 18:00",enabled:!0,label:"Evening Slot",maxCapacity:10},{id:5,time:"18:00 - 21:00",enabled:!0,label:"Evening Slot",maxCapacity:10}]}}),[g,w]=i.useState("Home"),[S,P]=i.useState("monday"),[N,v]=i.useState(new Date().toISOString().split("T")[0]),[y,E]=i.useState(!1),[k,j]=i.useState(!1),[M,R]=i.useState(null),[A,z]=i.useState(null),[q,U]=i.useState(null),[V,J]=i.useState(!1),[X,oe]=i.useState(null),[ie,ne]=i.useState(null),[ee,K]=i.useState([]),[le,C]=i.useState(2.5),[_,Q]=i.useState([]),[Z,pe]=i.useState(!1),G=async(B,H)=>{try{const te=localStorage.getItem("token");await he.put(`/api/booking/${B}/status`,{status:H},{headers:{Authorization:`Bearer ${te}`}}),o(ae=>ae.map(Se=>Se._id===B?{...Se,status:H}:Se))}catch(te){console.error("Error updating order status:",te),alert("Failed to update status")}},Y=async B=>{if(window.confirm("Are you sure you received the cash?"))try{const te=localStorage.getItem("token");(await(await Fe(`/api/booking/orders/${B}/mark-paid`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`}})).json()).success?(alert("âœ… Payment marked as paid!"),o(je=>je.map(de=>de._id===B?{...de,paymentStatus:"paid"}:de))):alert("âŒ Could not mark payment as paid.")}catch(te){console.error("Error updating payment:",te),alert("âš ï¸ Something went wrong.")}},$e=()=>{J(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async B=>{const{latitude:H,longitude:te}=B.coords;console.log("Current location detected:",H,te);try{const ae=await ce(H,te);console.log("Place info received:",ae);const Se={lat:H,lng:te,address:ae.fullAddress,shortAddress:ae.shortAddress,city:ae.city,state:ae.state,country:ae.country,name:`${ae.city}, ${ae.state}`};z(Se),U(Se),J(!1),F(Se),console.log("Location detected and saved successfully"),alert(`âœ… Location detected successfully!

ðŸ“ ${ae.shortAddress}
ðŸŒ ${ae.city}, ${ae.state}
ðŸ“Š Coordinates: ${H.toFixed(6)}, ${te.toFixed(6)}

Your location has been saved and will be used for your service area.`)}catch(ae){console.error("Error processing location:",ae);const Se=`Current Location: ${H.toFixed(6)}, ${te.toFixed(6)}`,je={lat:H,lng:te,address:Se,shortAddress:`${H.toFixed(4)}, ${te.toFixed(4)}`,city:"Unknown City",state:"Unknown State",country:"Unknown Country",name:"Current Location"};z(je),U(je),J(!1),F(je),alert(`âœ… Location detected successfully!

ðŸ“Š Coordinates: ${H.toFixed(6)}, ${te.toFixed(6)}

Note: Could not retrieve place name. Your location has been saved with coordinates.`)}},B=>{console.error("Geolocation error:",B),J(!1);let H="Failed to get your location";switch(B.code){case B.PERMISSION_DENIED:H="Location access denied. Please allow location access in your browser settings.";break;case B.POSITION_UNAVAILABLE:H="Location information unavailable. Please check your GPS settings.";break;case B.TIMEOUT:H="Location request timed out. Please try again.";break;default:H="Unable to get your location. Please try again."}alert(H)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}):(J(!1),alert("Geolocation is not supported by this browser. Please use a modern browser with location support."))},F=B=>{const H={id:Date.now(),name:B.name||"New Location",address:B.address,lat:B.lat,lng:B.lng,isUsed:!1,serviceRadius:le};ee.some(ae=>Math.abs(ae.lat-B.lat)<.001&&Math.abs(ae.lng-B.lng)<.001)||K([H,...ee]),xe(B.lat,B.lng)},$=async B=>{try{const H=localStorage.getItem("token");if(!H){alert("Please login to use this location");return}const te=ee.find(Se=>Se.id===B);if(!te){alert("Location not found");return}(await he.put(`/api/user/${u._id}`,{location:{type:"Point",coordinates:[te.lng,te.lat]},range:te.serviceRadius*1e3,isWasherman:!0},{headers:{Authorization:`Bearer ${H}`}})).status===200&&(f(Se=>({...Se,serviceLocation:{name:te.name,address:te.address,lat:te.lat,lng:te.lng,serviceRadius:te.serviceRadius},isWasherman:!0})),K(Se=>Se.map(je=>({...je,isUsed:je.id===B}))),U(te),alert(`âœ… Location "${te.name}" is now your active service location!`),xe(te.lat,te.lng))}catch(H){console.error("Error updating service location:",H),alert("âŒ Failed to update service location. Please try again.")}},W=B=>{K(ee.filter(H=>H.id!==B))},ce=async(B,H)=>{var te,ae,Se,je,de;try{const Ye=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${B}&lon=${H}&zoom=18&addressdetails=1`);if(!Ye.ok)throw new Error("Geocoding service unavailable");const _e=await Ye.json();if(_e.display_name){const wt=_e.display_name.split(", ").slice(0,3).join(", ");return{fullAddress:_e.display_name,shortAddress:wt,city:((te=_e.address)==null?void 0:te.city)||((ae=_e.address)==null?void 0:ae.town)||((Se=_e.address)==null?void 0:Se.village)||"Unknown City",state:((je=_e.address)==null?void 0:je.state)||"Unknown State",country:((de=_e.address)==null?void 0:de.country)||"Unknown Country"}}else throw new Error("No address found")}catch(Ye){return console.error("Reverse geocoding error:",Ye),{fullAddress:`Location at ${B.toFixed(6)}, ${H.toFixed(6)}`,shortAddress:`${B.toFixed(4)}, ${H.toFixed(4)}`,city:"Unknown City",state:"Unknown State",country:"Unknown Country"}}},xe=async(B,H)=>{var te;try{pe(!0);const ae=localStorage.getItem("token");if(!ae){console.error("No authentication token found");return}const Se=await he.get(`/api/location/customers-near-laundryman?lat=${B}&lng=${H}&range=${le*1e3}`,{headers:{Authorization:`Bearer ${ae}`}});Se.data?(Q(Se.data.customers||[]),console.log("Nearby customers fetched:",((te=Se.data.customers)==null?void 0:te.length)||0)):(console.error("Failed to fetch nearby customers"),Q([]))}catch(ae){console.error("Error fetching nearby customers:",ae),Q([])}finally{pe(!1)}},ve=async()=>{try{const B=localStorage.getItem("token"),H=await he.get("/api/user/currentuser",{headers:{Authorization:`Bearer ${B}`}});f({name:H.data.name,email:H.data.email,contact:H.data.contact,_id:H.data._id,image:H.data.image||"/src/washer.png",isWasherman:H.data.isWasherman||!1,serviceLocation:H.data.location?{name:"Saved Location",address:H.data.location.address||"Your saved location",lat:H.data.location.coordinates[1],lng:H.data.location.coordinates[0],serviceRadius:(H.data.range||500)/1e3}:null}),H.data.location&&(C((H.data.range||500)/1e3),U({lat:H.data.location.coordinates[1],lng:H.data.location.coordinates[0],address:H.data.location.address||"Saved Location",name:"Saved Location"}))}catch(B){console.error("Failed to fetch profile:",B)}},Ne=async()=>{const B=localStorage.getItem("token");console.log("Fetching assigned orders with token:",B);try{const H=await he.get("/api/booking/assigned",{headers:{Authorization:`Bearer ${B}`}});console.log("Fetched assigned orders:",H.data);const te=Array.isArray(H.data)?H.data.map(ae=>({...ae,id:ae._id})):[];o(te)}catch(H){console.error("Error fetching assigned bookings:",H)}},ot=async B=>{B.preventDefault();const H=new FormData(B.target),te={name:H.get("name"),email:H.get("email"),contact:H.get("contact"),isWasherman:!0};try{const ae=localStorage.getItem("token"),Se=await he.put(`/api/user/${u._id}`,te,{headers:{Authorization:`Bearer ${ae}`}});console.log("Profile updated successfully:",Se.data),f(je=>({...je,...te})),w("Home")}catch(ae){console.error("Error updating profile:",ae)}},Qe=()=>{const B=new Date().getHours();return B<12?"Good Morning":B<17?"Good Afternoon":"Good Evening"},Be=()=>{E(!y)};i.useEffect(()=>{ve(),Ne()},[]),i.useEffect(()=>{g==="Location"&&u.serviceLocation&&xe(u.serviceLocation.lat,u.serviceLocation.lng)},[g,u.serviceLocation]);const yt=new Date().toISOString().split("T")[0],nt=a.filter(B=>B.date===yt),Ze={totalOrders:nt.length,pendingOrders:nt.filter(B=>B.status.toLowerCase()==="pending"||B.status.toLowerCase()==="accepted").length,completedOrders:nt.filter(B=>{var H;return B.status.toLowerCase()==="delivered"&&((H=B.paymentStatus)==null?void 0:H.toLowerCase())==="paid"}).length,activeSlots:Object.values(p).reduce((B,H)=>B+H.slots.filter(te=>te.enabled).length,0),totalSlots:Object.values(p).reduce((B,H)=>B+H.slots.length,0),todayEarnings:nt.filter(B=>{var H;return B.status.toLowerCase()==="delivered"&&((H=B.paymentStatus)==null?void 0:H.toLowerCase())==="paid"}).reduce((B,H)=>B+(H.totalAmount||0),0)};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx("header",{className:"mobile-header",children:e.jsxs("div",{className:"mobile-header-content",children:[e.jsxs("div",{className:"mobile-logo",children:[e.jsx("img",{src:"/washer.webp",alt:"Profile",className:"mobile-profile-img"}),e.jsx("span",{className:"mobile-profile-name",children:u.name})]}),e.jsxs("button",{className:"hamburger-menu",onClick:Be,"aria-label":"Toggle menu",children:[e.jsx("span",{className:`hamburger-line ${y?"active":""}`}),e.jsx("span",{className:`hamburger-line ${y?"active":""}`}),e.jsx("span",{className:`hamburger-line ${y?"active":""}`})]})]})}),e.jsxs("aside",{className:`sidebar ${y?"mobile-open":""}`,children:[e.jsxs("div",{className:"sidebar-profile",onClick:()=>w("Profile"),children:[e.jsx("img",{src:"/washer.webp",alt:"Laundryman",className:"sidebar-profile-img"}),e.jsx("span",{className:"sidebar-profile-name",children:u.name})]}),e.jsxs("nav",{className:"sidebar-nav",children:[e.jsxs("button",{className:`nav-button ${g==="Home"?"active":""}`,onClick:()=>{w("Home"),E(!1)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸ "}),e.jsx("span",{children:"Home"})]}),e.jsxs("button",{className:`nav-button ${g==="Schedule"?"active":""}`,onClick:()=>{w("Schedule"),E(!1)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸ“…"}),e.jsx("span",{children:"Weekly Schedule"})]}),e.jsxs("button",{className:`nav-button ${g==="Location"?"active":""}`,onClick:()=>{w("Location"),E(!1)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸ“"}),e.jsx("span",{children:"Set Location"})]}),e.jsxs("button",{className:`nav-button ${g==="Orders"?"active":""}`,onClick:()=>{w("Orders"),E(!1)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸ“‹"}),e.jsx("span",{children:"Orders"})]}),e.jsxs("button",{className:`nav-button ${g==="Profile"?"active":""}`,onClick:()=>{w("Profile"),E(!1)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸ‘¤"}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{className:`nav-button ${g==="AddServices"?"active":""}`,onClick:()=>{w("AddServices"),E(!1),s("/adminservices")},children:[e.jsx("span",{className:"nav-icon",children:"âž•"}),e.jsx("span",{children:"Add Services"})]})]}),e.jsxs("button",{className:`nav-button ${g==="Logout"?"active":""}`,onClick:()=>{w("Logout"),E(!1),j(!0)},children:[e.jsx("span",{className:"nav-icon",children:"ðŸšª"}),e.jsx("span",{children:"Logout"})]})]}),y&&e.jsx("div",{className:"mobile-overlay",onClick:Be}),e.jsxs("main",{className:"main-content",children:[g==="Home"&&e.jsxs("div",{className:"home-page",children:[e.jsxs("section",{className:"welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[Qe(),", ",u.name,"! ðŸ‘‹"]}),e.jsx("p",{children:"Here's what's happening with your laundry service today"})]}),e.jsxs("div",{className:"date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"dashboard-stats",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card orders",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“¦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:Ze.totalOrders}),e.jsx("span",{className:"stat-label",children:"Today"})]})]}),e.jsxs("div",{className:"stat-card completed",children:[e.jsx("div",{className:"stat-icon",children:"âœ…"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Completed"}),e.jsx("p",{className:"stat-number",children:Ze.completedOrders}),e.jsx("span",{className:"stat-label",children:"Today"})]})]}),e.jsxs("div",{className:"stat-card earnings",children:[e.jsx("div",{className:"stat-icon",children:"â‚¹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Today's Earnings"}),e.jsxs("p",{className:"stat-number",children:["â‚¹",Ze.todayEarnings]}),e.jsx("span",{className:"stat-label"})]})]})]})})]}),g==="Schedule"&&e.jsx(Wx,{}),g==="Location"&&e.jsxs("section",{className:"location-section",children:[e.jsxs("div",{className:"location-header",children:[e.jsx("h3",{children:"Set Your Service Location"}),e.jsx("p",{children:"Choose your preferred location for laundry services"})]}),e.jsxs("div",{className:"location-content",children:[e.jsx("div",{className:"location-selection-area",children:e.jsxs("div",{className:"location-map-container",children:[e.jsxs("div",{className:"current-location-section",children:[e.jsx("h4",{children:"ðŸ“ Current Location"}),e.jsxs("div",{className:"location-detection-info",children:[e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:"Click the button below to detect your current location using GPS"}),e.jsx("button",{className:`detect-location-btn ${V?"detecting":""}`,onClick:$e,disabled:V,style:{backgroundColor:V?"#f3f4f6":"#3b82f6",color:V?"#6b7280":"white",cursor:V?"not-allowed":"pointer",position:"relative"},children:V?e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{animation:"spin 1s linear infinite"},children:"ðŸ”„"}),"Detecting Location..."]}):e.jsx(e.Fragment,{children:"ðŸ“ Use Current Location"})}),V&&e.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#059669",backgroundColor:"#d1fae5",padding:"8px",borderRadius:"4px",border:"1px solid #a7f3d0"},children:"ðŸ” Please allow location access when prompted by your browser"})]}),A&&e.jsxs("div",{className:"location-info",children:[e.jsxs("div",{className:"location-details",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ“ Place:"})," ",A.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ™ï¸ City:"})," ",A.city]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ›ï¸ State:"})," ",A.state]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ“ Address:"})," ",A.shortAddress||A.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ðŸ“Š Coordinates:"})," ",A.lat.toFixed(6),", ",A.lng.toFixed(6)]})]}),e.jsx("button",{className:"save-location-btn",onClick:()=>F(A),children:"ðŸ’¾ Save This Location"})]})]}),e.jsxs("div",{className:"map-section",children:[e.jsx("h4",{children:"ðŸ—ºï¸ Interactive Map - Click to Select Location"}),e.jsx("div",{className:"map-controls",children:e.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"ðŸ“ Click anywhere on the map to select your service location"})}),e.jsx(Hx,{onLocationSelect:U,selectedLocation:q,serviceRadius:le,nearbyCustomers:_}),q&&e.jsxs("div",{className:"selected-location-info",style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f9ff",border:"1px solid #0ea5e9",borderRadius:"6px"},children:[e.jsxs("h5",{style:{color:"#0369a1",marginBottom:"8px"},children:["ðŸ“ Selected Location: ",q.name]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"ðŸ™ï¸ City:"})," ",q.city]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"ðŸ›ï¸ State:"})," ",q.state]}),e.jsxs("p",{style:{fontSize:"14px",marginBottom:"4px"},children:[e.jsx("strong",{children:"ðŸ“ Address:"})," ",q.shortAddress||q.address]}),e.jsxs("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:[e.jsx("strong",{children:"ðŸ“Š Coordinates:"})," ",q.lat,", ",q.lng]}),e.jsx("button",{className:"save-location-btn",onClick:()=>F(q),style:{backgroundColor:"#0ea5e9",color:"white",padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ðŸ’¾ Save Selected Location"})]})]})]})}),e.jsxs("div",{className:"service-area-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{children:"ðŸŽ¯ Service Area Settings"})}),e.jsxs("div",{className:"service-area-content",children:[e.jsxs("div",{className:"service-radius",children:[e.jsxs("label",{htmlFor:"serviceRadius",children:["Service Radius: ",le," km"]}),e.jsxs("div",{className:"radius-input-group",children:[e.jsx("input",{id:"serviceRadius",type:"range",min:"0.5",max:"5",step:"0.5",value:le,onChange:B=>C(Number.parseFloat(B.target.value)),className:"radius-slider"}),e.jsxs("div",{className:"radius-labels",children:[e.jsx("span",{children:"0.5 km"}),e.jsx("span",{children:"5 km"})]})]}),e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginTop:"8px"},children:"This radius will be saved with each location and determines your service coverage area."})]}),u.serviceLocation&&e.jsxs("div",{className:"current-service-location",children:[e.jsx("h5",{children:"âœ… Current Active Service Location"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",u.serviceLocation.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",u.serviceLocation.address]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Radius:"})," ",u.serviceLocation.serviceRadius||le," km"]})]}),e.jsxs("div",{className:"nearby-customers-section",style:{marginTop:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h4",{children:"ðŸ‘¥ Nearby Customers"}),e.jsx("button",{onClick:()=>{u.serviceLocation?xe(u.serviceLocation.lat,u.serviceLocation.lng):alert("Please set your service location first")},disabled:Z,style:{backgroundColor:"#3b82f6",color:"white",padding:"6px 12px",border:"none",borderRadius:"4px",cursor:Z?"not-allowed":"pointer",fontSize:"12px",fontWeight:"600",opacity:Z?.6:1},children:Z?"ðŸ”„ Loading...":"ðŸ”„ Refresh"})]}),Z?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:[e.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 8px"}}),"Loading nearby customers..."]}):_.length>0?e.jsx("div",{className:"customers-list",children:_.map((B,H)=>{var te;return e.jsx("div",{className:"customer-item",style:{padding:"12px",border:"1px solid #e5e7eb",borderRadius:"6px",marginBottom:"8px",backgroundColor:"#f9fafb"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsxs("h6",{style:{margin:"0 0 4px 0",color:"#374151"},children:["ðŸ‘¤ ",B.name]}),e.jsxs("p",{style:{margin:"0 0 2px 0",fontSize:"12px",color:"#6b7280"},children:["ðŸ“ž ",B.contact||"Contact not available"]}),e.jsxs("p",{style:{margin:"0",fontSize:"12px",color:"#6b7280"},children:["ðŸ“§ ",B.email||"Email not available"]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsxs("span",{style:{backgroundColor:"#10b981",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:[((te=B.distance)==null?void 0:te.toFixed(2))||"Unknown"," km"]})})]})},B._id||H)})}):e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#6b7280"},children:[e.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"ðŸ‘¥"}),e.jsx("p",{children:"No customers found in your service area"}),e.jsx("p",{style:{fontSize:"12px"},children:"Customers will appear here when they set their location"})]})]})]})]}),e.jsxs("div",{className:"saved-locations-card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h4",{children:"ðŸ’¾ Saved Locations"})}),e.jsx("div",{className:"saved-locations-list",children:ee.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:"ðŸ“"}),e.jsx("p",{children:"No saved locations yet"}),e.jsx("span",{children:"Add locations to see them here"})]}):ee.map(B=>e.jsxs("div",{className:"saved-location-item",children:[e.jsxs("div",{className:"location-info",children:[e.jsxs("h5",{children:["ðŸ“ ",B.name||"Saved Location"]}),B.city&&e.jsxs("p",{style:{fontSize:"14px",color:"#374151",marginBottom:"2px"},children:["ðŸ™ï¸ ",B.city,", ",B.state]}),e.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"4px"},children:B.shortAddress||B.address}),e.jsxs("span",{className:"coordinates",style:{fontSize:"12px",color:"#9ca3af"},children:["ðŸ“Š ",B.lat.toFixed(4),", ",B.lng.toFixed(4)]}),e.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:["ðŸŽ¯ Service Radius: ",B.serviceRadius||2.5," km"]})]}),e.jsxs("div",{className:"location-actions",children:[e.jsx("button",{className:`use-location-btn ${B.isUsed?"used":""}`,onClick:()=>$(B.id),children:B.isUsed?"âœ“ Active":"Use"}),e.jsx("button",{className:"delete-location-btn",onClick:()=>W(B.id),children:"ðŸ—‘ï¸"})]})]},B.id))})]})]})]}),g==="Orders"&&e.jsxs("section",{className:"orders-section",children:[e.jsx("h3",{children:"Assigned Orders"}),a.length===0?e.jsxs("div",{className:"empty-orders",children:[e.jsx("div",{className:"empty-icon",children:"ðŸ“‹"}),e.jsx("p",{children:"No assigned orders"})]}):e.jsx("div",{className:"orders-by-date",children:(()=>{const B={};return a.forEach(te=>{const ae=new Date(te.date).toISOString().split("T")[0];B[ae]||(B[ae]=[]),B[ae].push(te)}),Object.keys(B).sort().map(te=>{const ae=B[te],Se=new Date().toISOString().split("T")[0];let je="";return te===Se?je="Today's Orders":je=new Date(te).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})+"'s Orders",e.jsxs("div",{className:"date-group",children:[e.jsxs("div",{className:"date-header",children:[e.jsx("h4",{children:je}),e.jsxs("span",{className:"order-count-badge",children:[ae.length," orders"]})]}),e.jsx("div",{className:"orders-grid",children:ae.map(de=>{var wt,Te;const Ye=de.productId||{},_e=de.guest||{};_e.address;const He=de.slot||{};return e.jsxs("div",{className:"order-card",children:[Ye.image&&e.jsx("div",{className:"order-image-container mb-2",children:e.jsx("img",{src:Ye.image,alt:Ye.name,className:"w-full h-40 object-contain rounded",onError:kt=>{kt.target.src="https://via.placeholder.com/150"}})}),e.jsxs("div",{className:"order-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",de._id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",_e.name||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",_e.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",_e.contact||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Category:"})," ",Ye.category||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Service Type:"})," ",((wt=de.selectedOptions)==null?void 0:wt.map(kt=>kt.name).join(", "))||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Quantity:"})," ",de.quantity||1]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Label:"})," ",He.label||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Total Price:"})," â‚¹",de.totalAmount||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment:"})," ",de.paymentMethod||"N/A"," (",de.paymentStatus||"N/A",")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pickup Date:"})," ",new Date(de.date).toISOString().split("T")[0]]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Time Slot:"})," ",He.range||"N/A"]}),de.deliveryAddress?e.jsxs("div",{children:[e.jsx("p",{children:e.jsx("strong",{children:"Delivery Address:"})}),e.jsx("p",{style:{marginLeft:"10px",fontSize:"14px",color:"#374151"},children:de.deliveryAddress.fullAddress||t(de.deliveryAddress)}),de.deliveryInstructions&&e.jsxs("p",{style:{marginLeft:"10px",fontSize:"13px",color:"#6b7280",fontStyle:"italic"},children:[e.jsx("strong",{children:"Instructions:"})," ",de.deliveryInstructions]})]}):_e.address?e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Address:"})," ",t(_e.address)]}):e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," Not available"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",e.jsx("span",{className:`status-badge ${(Te=de.status)==null?void 0:Te.toLowerCase().replace(" ","-")}`,children:de.status||"N/A"})]})]}),e.jsxs("div",{className:"action-buttons",children:[de.status==="Accepted"&&e.jsx("button",{onClick:()=>G(de._id,"Pickedup"),className:"pickup-btn",children:"âœ… Pickup"}),de.status==="Pickedup"&&e.jsx("button",{onClick:()=>G(de._id,"Washed"),className:"wash-btn",children:"ðŸ§º Washed"}),de.status==="Washed"&&e.jsx("button",{onClick:()=>G(de._id,"Ready for delivery"),className:"ready-btn",children:"âœ… Ready"}),de.status==="Ready for delivery"&&e.jsx("button",{onClick:()=>G(de._id,"Delivered"),className:"deliver-btn",children:"âœ… Delivered"})]}),e.jsxs("div",{className:"action-buttons mt-2 space-y-2",children:[de.status==="booked"&&e.jsx("button",{onClick:()=>G(de._id,"picked_up"),className:"px-3 py-1 bg-blue-500 text-white rounded",children:"âœ… Mark as Picked Up"}),de.status==="picked_up"&&e.jsx("button",{onClick:()=>G(de._id,"in_progress"),className:"px-3 py-1 bg-yellow-500 text-white rounded",children:"ðŸ§º Mark as In Progress"}),de.status==="in_progress"&&e.jsx("button",{onClick:()=>G(de._id,"delivered"),className:"px-3 py-1 bg-green-500 text-white rounded",children:"ðŸ“¦ Mark as Delivered"}),de.paymentMethod==="cash"&&de.paymentStatus==="pending"&&de.status==="delivered"&&e.jsx("button",{onClick:()=>Y(de._id),className:"px-3 py-1 bg-green-600 text-white rounded",children:"ðŸ’µ Mark as Paid"})]})]},de._id)})})]},te)})})()})]}),g==="Profile"&&e.jsxs("section",{className:"edit-profile-section",children:[e.jsx("h3",{children:"Edit Profile"}),e.jsxs("div",{className:"profile-container",children:[e.jsx("img",{src:"/washer.webp",alt:"Profile Preview",className:"profile-image-preview"}),e.jsxs("form",{onSubmit:ot,className:"edit-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Name"}),e.jsx("input",{id:"name",name:"name",type:"text",defaultValue:u.name,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{id:"email",name:"email",type:"email",defaultValue:u.email,required:!0,placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contact",children:"Contact"}),e.jsx("input",{id:"contact",name:"contact",type:"tel",defaultValue:u.contact,required:!0,placeholder:"Enter your contact number"})]}),e.jsxs("div",{className:"profile-buttons",children:[e.jsx("button",{type:"submit",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>w("Home"),children:"Cancel"})]})]})]})]})]}),M&&e.jsx("div",{className:"time-slot-dialog",children:e.jsxs("div",{className:"time-slot-dialog-content",children:[e.jsxs("div",{className:"time-slot-dialog-header",children:[e.jsx("h3",{children:"Time Slot Details"}),e.jsx("button",{className:"time-slot-dialog-close",onClick:()=>R(null),children:"Ã—"})]}),e.jsxs("div",{className:"time-slot-details",children:[e.jsx("h4",{children:M.timeSlot}),e.jsx("p",{children:new Date(M.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"time-slot-stats",children:[e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Current Bookings:"}),e.jsx("span",{className:"time-slot-stat-value",children:M.availability.currentOrders})]}),e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Max Capacity:"}),e.jsx("span",{className:"time-slot-stat-value",children:M.availability.maxCapacity})]}),e.jsxs("div",{className:"time-slot-stat-row",children:[e.jsx("span",{className:"time-slot-stat-label",children:"Available Slots:"}),e.jsx("span",{className:"time-slot-stat-value available",children:M.availability.availableSlots})]})]}),e.jsx("div",{className:"time-slot-progress",children:e.jsx("div",{className:"time-slot-progress-fill",style:{width:`${M.availability.percentage}%`,backgroundColor:M.availability.isFull?"#e74c3c":M.availability.isNearFull?"#f39c12":"#27ae60"}})}),e.jsx("div",{className:"time-slot-status-container",children:e.jsx("span",{className:`time-slot-status ${M.availability.isFull?"full":M.availability.isNearFull?"near-full":"available"}`,children:M.availability.isFull?"Full":M.availability.isNearFull?"Near Full":"Available"})}),M.availability.orders&&M.availability.orders.length>0&&e.jsxs("div",{className:"time-slot-orders-list",children:[e.jsx("h5",{children:"Current Orders:"}),e.jsx("div",{className:"time-slot-orders-container",children:M.availability.orders.map(B=>e.jsxs("div",{className:"time-slot-order-item",children:[e.jsx("div",{className:"time-slot-order-id",children:B.id}),e.jsxs("div",{className:"time-slot-order-details",children:[B.customerName," - ",B.details]})]},B.id))})]})]})}),k&&e.jsx("div",{className:"logout-popup-overlay",children:e.jsxs("div",{className:"logout-popup-content",children:[e.jsx("h3",{children:"Are you sure?"}),e.jsx("p",{children:"Do you want to logout?"}),e.jsxs("div",{className:"logout-popup-buttons",children:[e.jsx("button",{className:"yes-btn",onClick:()=>{j(!1),s("/signin")},children:"Yes"}),e.jsx("button",{className:"no-btn",onClick:()=>j(!1),children:"No"})]})]})})]})},Wx=()=>{const[s,t]=i.useState([]),[n,r]=i.useState({}),[a,o]=i.useState({}),[l,c]=i.useState(!0),[d,h]=i.useState(null),[u,f]=i.useState({}),[x,m]=i.useState({}),[p,b]=i.useState({}),[g,w]=i.useState({});i.useEffect(()=>{(async()=>{try{c(!0),h(null);const j=localStorage.getItem("token"),M=await he.get("/api/show/slot-templates",{headers:{Authorization:`Bearer ${j}`}}),R=new Date;R.setHours(0,0,0,0);const A=M.data.filter(X=>{const oe=new Date(X.date);return oe.setHours(0,0,0,0),oe>=R});t(A);const z=JSON.parse(localStorage.getItem("washermanEnabledSlots")||"{}"),q=JSON.parse(localStorage.getItem("washermanMaxBookingInputs")||"{}"),U={},V={};for(const X in z)new Date(X)>=R&&(U[X]=z[X]);for(const X in q)new Date(X)>=R&&(V[X]=q[X]);r(U),o(V),localStorage.setItem("washermanEnabledSlots",JSON.stringify(U)),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(V));const J=await he.get("/api/show/slot-booking-counts",{headers:{Authorization:`Bearer ${j}`}});w(J.data||{})}catch{h("Failed to load slot templates. Please try again.")}finally{c(!1)}})()},[]);const S=(k,j)=>{var q;const M=new Set(n[k]||[]),R=M.has(j.range),A={...n},z=(q=a[k])==null?void 0:q[j.range];R?M.delete(j.range):(M.add(j.range),o(U=>({...U,[k]:{...U[k],[j.range]:z||""}}))),A[k]=[...M],r(A),localStorage.setItem("washermanEnabledSlots",JSON.stringify(A)),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(a)),m(U=>({...U,[k]:!1}))},P=(k,j,M)=>{const R=parseInt(M,10),A={...a,[k]:{...a[k],[j]:R}};o(A),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(A)),b(z=>({...z,[k]:{...z[k],[j]:!1}}))},N=async k=>{var q,U;h(null),f(V=>({...V,[k]:!0})),b({});const j=n[k]||[],M=((q=s.find(V=>V.date===k))==null?void 0:q.slots)||[],R={};let A=!1;for(const V of M)if(j.includes(V.range)){const J=(U=a[k])==null?void 0:U[V.range];(!J||isNaN(J)||J<=0)&&(R[V.range]=!0,A=!0)}if(A){b(V=>({...V,[k]:R})),f(V=>({...V,[k]:!1}));return}const z=localStorage.getItem("token");try{const V={date:k,enabledSlots:M.filter(J=>j.includes(J.range)).map(J=>{var X;return{label:J.label,range:J.range,maxBookings:(X=a[k])==null?void 0:X[J.range]}})};await he.post("/api/show/slots/washer",V,{headers:{Authorization:`Bearer ${z}`}}),m(J=>({...J,[k]:!0})),localStorage.setItem("washermanMaxBookingInputs",JSON.stringify(a))}catch{h("Failed to save slots. Please try again.")}finally{f(V=>({...V,[k]:!1}))}},v=k=>new Date(k).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=k=>new Set(n[k]||[]).size,E=k=>{var j;return new Set((j=s.find(M=>M.date===k))==null?void 0:j.slots.map(M=>M.range)).size};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsx(Vt,{className:"w-12 h-12 text-blue-600 animate-spin"})}):e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:s.map(k=>{const j=k.date,M=E(j),R=y(j),A=u[j],z=x[j],q=p[j]||{};return e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 border",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-100 px-4 py-2 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-800",children:v(j)}),e.jsx("p",{className:"text-sm text-gray-600",children:j})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[R,"/",M," Active Slots"]}),e.jsx("div",{className:"w-full bg-gray-200 h-2 rounded mt-1",children:e.jsx("div",{className:"h-2 bg-green-500 rounded",style:{width:`${R/M*100}%`}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:k.slots.map(U=>{var ne,ee,K;const V=(ne=n[j])==null?void 0:ne.includes(U.range),J=q[U.range],X=(ee=a[j])==null?void 0:ee[U.range],oe=((K=g[j])==null?void 0:K[U.range])||0,ie=V&&X!==void 0&&oe>=X;return e.jsx("div",{className:`p-4 rounded border relative ${V?ie?"bg-red-50 border-red-400":"bg-green-50 border-green-300":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:U.label}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-1",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:U.range})]}),V&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Max Bookings"}),e.jsx("input",{type:"number",min:"1",value:X||"",onChange:le=>P(j,U.range,le.target.value),className:`mt-1 w-20 px-2 py-1 border text-sm rounded ${J?"border-red-500":"border-gray-300"}`})]}),e.jsx("div",{className:`text-xs mt-1 ${ie?"text-red-600 font-semibold":"text-gray-600"}`})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer mt-1",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:()=>S(j,U),className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500 relative"})]})]})},U.range+U.label)})}),Object.keys(q).length>0&&e.jsx("p",{className:"text-red-600 text-sm px-4 pb-2",children:"Please set Max Bookings for all enabled slots on this date."}),e.jsx("button",{onClick:()=>N(j),disabled:A,className:`w-full mt-4 py-2 rounded-lg font-semibold transition ${A?"bg-gray-400 text-white":z?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:A?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Vt,{className:"w-5 h-5 animate-spin mr-2"})," Saving..."]}):z?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Ln,{className:"w-5 h-5 mr-2"})," Saved!"]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Save for ",new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})})]},j)})})};class Gx{async saveCustomerAddress(t){try{const n=localStorage.getItem("token");if(!n)throw new Error("User not authenticated");const r=await Fe("/api/user/address",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({address:{houseNo:t.houseNo,street:t.street,landmark:t.landmark,city:t.city,state:t.state,pincode:t.pincode,fullAddress:t.fullAddress,coordinates:t.coordinates},isDefault:!0})});if(!r.ok)throw new Error("Failed to save address");return await r.json()}catch(n){throw console.error("Error saving customer address:",n),n}}async getCustomerAddresses(){try{const t=localStorage.getItem("token");if(!t)throw new Error("User not authenticated");const n=await Fe("/api/user/addresses",{headers:{Authorization:`Bearer ${t}`}});if(!n.ok)throw new Error("Failed to fetch addresses");return await n.json()}catch(t){throw console.error("Error fetching customer addresses:",t),t}}async sendAddressToWasherman(t){try{const n=localStorage.getItem("token");if(!n)throw new Error("User not authenticated");if(!(await Fe("/api/order/delivery-address",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({orderId:t.orderId,washermanId:t.washermanId,deliveryAddress:{houseNo:t.address.houseNo,street:t.address.street,landmark:t.address.landmark,city:t.address.city,state:t.address.state,pincode:t.address.pincode,fullAddress:t.address.fullAddress,coordinates:t.address.coordinates},deliveryInstructions:t.deliveryInstructions||""})})).ok)throw new Error("Failed to send address to washerman");console.log("Address sent to washerman successfully")}catch(n){throw console.error("Error sending address to washerman:",n),n}}async updateOrderWithAddress(t,n){try{const r=localStorage.getItem("token");if(!r)throw new Error("User not authenticated");if(!(await Fe(`/api/order/${t}/address`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({deliveryAddress:{houseNo:n.houseNo,street:n.street,landmark:n.landmark,city:n.city,state:n.state,pincode:n.pincode,fullAddress:n.fullAddress,coordinates:n.coordinates}})})).ok)throw new Error("Failed to update order with address");console.log("Order updated with address successfully")}catch(r){throw console.error("Error updating order with address:",r),r}}validateAddress(t){var r,a,o,l,c;const n=[];return(r=t.houseNo)!=null&&r.trim()||n.push("House/Flat/Block No. is required"),(a=t.street)!=null&&a.trim()||n.push("Street/Area is required"),(o=t.city)!=null&&o.trim()||n.push("City is required"),(l=t.state)!=null&&l.trim()||n.push("State is required"),(!((c=t.pincode)!=null&&c.trim())||t.pincode.length!==6)&&n.push("Valid 6-digit pincode is required"),{isValid:n.length===0,errors:n}}formatAddressForDisplay(t){return[t.houseNo,t.street,t.landmark,t.city,t.state,t.pincode].filter(Boolean).join(", ")}async getCoordinatesFromAddress(t){try{const n=this.formatAddressForDisplay(t),a=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(n)}&key=fbddd9ac0aff4feb840edc8d63a8f264`)).json();if(a.results&&a.results.length>0){const o=a.results[0];return{lat:o.geometry.lat,lng:o.geometry.lng}}return null}catch(n){return console.error("Error getting coordinates from address:",n),null}}saveAddressToLocalStorage(t){try{localStorage.setItem("customerAddress",JSON.stringify(t))}catch(n){console.error("Error saving address to localStorage:",n)}}getAddressFromLocalStorage(){try{const t=localStorage.getItem("customerAddress");return t?JSON.parse(t):null}catch(t){return console.error("Error getting address from localStorage:",t),null}}clearAddressFromLocalStorage(){try{localStorage.removeItem("customerAddress")}catch(t){console.error("Error clearing address from localStorage:",t)}}}const xs=new Gx,Zx=()=>{const[s,t]=i.useState(null);return i.useEffect(()=>{const o=xs.getAddressFromLocalStorage();o&&t(o)},[]),{savedAddress:s,saveAddress:async o=>{try{return await xs.saveCustomerAddress(o),xs.saveAddressToLocalStorage(o),t(o),Ge.success("Address saved successfully!"),!0}catch(l){return console.error("Error saving address:",l),Ge.error("Failed to save address. Please try again."),!1}},sendAddressToWasherman:async o=>{try{return await xs.sendAddressToWasherman(o),Ge.success("Address sent to washerman successfully!"),!0}catch(l){return console.error("Error sending address to washerman:",l),Ge.error("Failed to send address to washerman. Please try again."),!1}},updateOrderAddress:async(o,l)=>{try{return await xs.updateOrderWithAddress(o,l),Ge.success("Order address updated successfully!"),!0}catch(c){return console.error("Error updating order address:",c),Ge.error("Failed to update order address. Please try again."),!1}},addressService:xs}},Jx=()=>{var Sa,Ca,ka,La,Ea,Pa,Ma,Aa,Oa,Da,Ta,Ia,Ba,Ra,Fa,$a;const s=i.useRef(null),[t,n]=i.useState(!1),[r,a]=i.useState({}),[o,l]=i.useState("Home"),[c,d]=i.useState(!1),[h,u]=i.useState(!1),[f,x]=i.useState(!1),[m,p]=i.useState(!1),[b,g]=i.useState(!1),[w,S]=i.useState(null),[P,N]=i.useState({}),[v,y]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[E,k]=i.useState([]),[j,M]=i.useState(!0),[R,A]=i.useState(!1),[z,q]=i.useState(""),[U,V]=i.useState(""),[J,X]=i.useState("method"),[oe,ie]=i.useState(!0),[ne,ee]=i.useState(!1),[K,le]=i.useState(null),[C,_]=i.useState(0),[Q,Z]=i.useState(""),[pe,G]=i.useState(!1),[Y,$e]=i.useState(null),[F,$]=i.useState(!1),[W,ce]=i.useState(new Date().toISOString().split("T")[0]),[xe,ve]=i.useState(!1),[Ne,ot]=i.useState("overview"),[Qe,Be]=i.useState(!1),[yt,nt]=i.useState(null),{savedAddress:Ze,saveAddress:B}=Zx(),[H,te]=i.useState(null),[ae,Se]=i.useState(!1),[je,de]=i.useState([]),[Ye,_e]=i.useState(!1),[He,wt]=i.useState(null),[Te,kt]=i.useState(""),[gt,$t]=i.useState([]),[Ae,_t]=i.useState(null),[jt,Xt]=i.useState(null),[zt,Qt]=i.useState([]),[es,hs]=i.useState("cod"),[Tt,Lt]=i.useState(0);i.useEffect(()=>{const D=localStorage.getItem("token");console.log("Token from localStorage:",D);const be=async()=>{try{const ze=await he.get("/api/user/currentuser",{headers:{Authorization:`Bearer ${D}`},withCredentials:!0});a({name:ze.data.name,email:ze.data.email,contact:ze.data.contact,image:ze.data.image||"/placeholder.svg",address:ze.data.address,_id:ze.data._id})}catch(ze){console.error("Failed to fetch profile:",ze)}},De=async()=>{var ze;try{const fs=(await he.get("/api/booking",{headers:{Authorization:`Bearer ${D}`},withCredentials:!0})).data.map(xt=>({...xt,laundryman:xt.laundryman||xt.laundrymanName||"",total:xt.total||xt.totalAmount||0}));k(fs);const mr=fs.reduce((xt,Mt)=>xt+(typeof Mt.total=="number"?Mt.total:Number(Mt.total)||0),0);console.log("Total Spent:",mr)}catch(et){console.error("Error fetching orders:",((ze=et==null?void 0:et.response)==null?void 0:ze.data)||et.message)}finally{M(!1)}};be(),De()},[]);const ue=[{id:"wash_fold",name:"Wash & Fold",description:"Regular washing and folding service",icon:"ðŸ‘•",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:25,image:"download.jpg"},{name:"T-Shirt",price:20,image:"t shirt.jpg"},{name:"Pants",price:30,image:"pants.jpg"},{name:"Jeans",price:35,image:"jeans.jpg"},{name:"Jacket",price:50,image:"jacket.jpg"}]},{id:"dry_clean",name:"Dry Cleaning",description:"Professional dry cleaning service",icon:"ðŸ§¥",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:150,image:"download.jpg"},{name:"Jeans",price:120,image:"jeans.jpg"},{name:"Jacket",price:200,image:"jacket.jpg"}]},{id:"iron_only",name:"Iron Only",description:"Professional ironing service",icon:"ðŸ”¥",deliveryTime:"Same day",clothes:[{name:"Shirt",price:15,image:"download.jpg"},{name:"T-Shirt",price:10,image:"t shirt.jpg"},{name:"Pants",price:20,image:"pants.jpg"},{name:"Jacket",price:30,image:"jacket.jpg"}]},{id:"stain_removal",name:"Stain Removal",description:"Specialized stain removal service",icon:"ðŸ§½",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:50,image:"download.jpg"},{name:"Pants",price:60,image:"pants.jpg"},{name:"Jacket",price:100,image:"jacket.jpg"}]},{id:"eco_friendly",name:"Eco-Friendly Wash",description:"Environment friendly washing with organic detergents",icon:"ðŸŒ±",deliveryTime:"Same day - Next day",clothes:[{name:"Shirt",price:30,image:"download.jpg"},{name:"T-Shirt",price:25,image:"t shirt.jpg"},{name:"Pants",price:35,image:"pants.jpg"}]}],ts=D=>{const be=new Date().toISOString().split("T")[0],De=new Date(D),ze=new Date(be),et=D===be,fs=De<ze,mr=new Date().getHours();let xt=[{id:1,time:"06:00 - 09:00",available:3,total:5},{id:2,time:"09:00 - 12:00",available:1,total:5},{id:3,time:"12:00 - 15:00",available:4,total:4},{id:4,time:"15:00 - 18:00",available:2,total:3},{id:5,time:"18:00 - 21:00",available:4,total:6}];return fs?xt.map(Mt=>({...Mt,status:"unavailable",reason:"Date has passed"})):(et&&(xt=xt.filter(Mt=>parseInt(Mt.time.split(":")[0])>mr)),xt.map(Mt=>({...Mt,status:Mt.available>0?"available":"full"})))},[ms,ln]=i.useState(ts(W)),ur=[{id:1,name:"Raj Kumar",experience:"5 years",location:{lat:19.076,lng:72.8777},distance:.1,workingHours:"06:00 - 21:00",services:["wash_fold","iron_only","eco_friendly"],image:"laundryman 1.jpg",phone:"+91 9876543210",specialties:["Wash & fold","Iron service","Eco-friendly detergents"]},{id:2,name:"Amit Singh",experience:"3 years",location:{lat:19.0765,lng:72.878},distance:.3,workingHours:"07:00 - 19:00",services:["wash_fold","dry_clean","stain_removal"],image:"laundryman 2.jpg",phone:"+91 9876543211",specialties:["Suits & blazers","Wedding dresses","Leather cleaning"]},{id:3,name:"Suresh Patel",experience:"7 years",location:{lat:19.0755,lng:72.8785},distance:.4,workingHours:"05:00 - 20:00",services:["wash_fold","dry_clean","iron_only","stain_removal","eco_friendly"],image:"laundryman 3.jpg",phone:"+91 9876543212",specialties:["Eco friendly","Premium ironing","Stain removal expert"]}],[hr,ps]=i.useState(!1),[Ds,cn]=i.useState(null),[Et,dn]=i.useState(null);i.useEffect(()=>{ln(ts(W))},[W]);const un=()=>{n(!t)},Pt=()=>{n(!1)},Ts=D=>{q(D),D==="upi"?X("upi"):D==="cod"&&Is("cod")},hn=D=>{V(D),X("processing"),setTimeout(()=>{X("success"),setTimeout(()=>{Is("upi")},2e3)},3e3)},gs=[{id:"phonepe",name:"PhonePe",icon:"ðŸ“±",color:"#5f259f"},{id:"googlepay",name:"Google Pay",icon:"ðŸ”µ",color:"#4285f4"},{id:"paytm",name:"Paytm",icon:"ðŸ’™",color:"#00baf2"},{id:"phonepe_upi",name:"PhonePe UPI",icon:"ðŸ’³",color:"#5f259f"},{id:"googlepay_upi",name:"Google Pay UPI",icon:"ðŸ’³",color:"#4285f4"},{id:"paytm_upi",name:"Paytm UPI",icon:"ðŸ’³",color:"#00baf2"}],mn=()=>{N({...r}),x(!0)},pn=D=>{const be=D.target.files[0];if(be){const De=new FileReader;De.onloadend=()=>{S(De.result),f?N({...P,image:De.result}):(a({...r,image:De.result}),alert("Profile photo updated successfully!"))},De.readAsDataURL(be)}p(!1)},L=async()=>{var D,be,De;try{const ze=localStorage.getItem("token"),et={...P};et.address&&(et.address={street:et.address.street||"",city:et.address.city||"",state:et.address.state||"",zip:et.address.zip||""}),r.role!=="washerman"&&delete et.range;const fs=await he.put(`/api/user/${r._id}`,et,{headers:{Authorization:`Bearer ${ze}`}});a(fs.data),x(!1),S(null),alert("Profile updated successfully!")}catch(ze){console.error("Update error:",((D=ze.response)==null?void 0:D.data)||ze.message),alert(((De=(be=ze.response)==null?void 0:be.data)==null?void 0:De.message)||"Failed to update profile")}},se=()=>{x(!1),N({}),S(null)},Pe=()=>{if(v.newPassword!==v.confirmPassword){alert("New passwords don't match!");return}if(v.newPassword.length<6){alert("Password must be at least 6 characters long!");return}alert("Password changed successfully!"),g(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},Ve=()=>{g(!1),y({currentPassword:"",newPassword:"",confirmPassword:""})},Oe=()=>{Be(!0)},it=()=>{Be(!1)},ft=async D=>{try{await B(D)&&(nt(D),Be(!1))}catch(be){console.error("Error saving address:",be)}},Ie=()=>{if(C===0){alert("Please select a rating");return}const D=E.map(be=>be.id===K.id?{...be,rating:C,feedback:Q}:be);k(D),ee(!1),le(null),_(0),Z(""),alert("Thank you for your feedback!")},gn=()=>{Y&&($t(Y.services),Xt(Y.laundrymanObj),Qt(Y.items),Lt(Y.total),hs(Y.paymentMethod==="Cash on Delivery"?"cod":"upi"),G(!1),l("Book"),alert("Previous order details loaded! Please select date and time slot."))},fn=D=>{D.status==="available"&&(_t(D),$(!1),alert(`Time slot ${D.time} selected!`))},xn=D=>{const be=D.target.value;ce(be),_t(null)},Is=(D=null)=>{const be={id:`ORD${String(E.length+1).padStart(3,"0")}`,date:W,time:Ae.time,laundryman:jt.name,status:"Confirmed",items:zt,total:Tt,paymentMethod:D==="cod"?"Cash on Delivery":"UPI",address:(H==null?void 0:H.address)||r.address,services:gt.map(De=>De.id),rating:null};k([be,...E]),u(!0),A(!1),$t([]),_t(null),Xt(null),Qt([]),Lt(0),q(""),V(""),X("method"),l("Orders")},vn=()=>{d(!0)},_c=()=>{const D=new Date().getHours();return D<12?"Good Morning":D<17?"Good Afternoon":"Good Evening"},zc=D=>{switch(D){case"Pending":return"#f39c12";case"Confirmed":return"#3498db";case"In Progress":return"#9b59b6";case"Ready for Pickup":return"#e67e22";case"Delivered":return"#27ae60";default:return"#95a5a6"}},[Je,mv]=i.useState(null),[Uc,qc]=i.useState(!1),ja=D=>{const be=new Date().toISOString().split("T")[0],De=new Date;De.setDate(De.getDate()+1);const ze=De.toISOString().split("T")[0];return D===be?"Today":"Tomorrow"},Na=D=>({Pending:20,Confirmed:40,"In Progress":60,"Ready for Pickup":80,Delivered:100})[D]||0,Hc=()=>new Date().toISOString().split("T")[0],Vc=()=>{const D=new Date;return D.setDate(D.getDate()+30),D.toISOString().split("T")[0]},Wc=D=>{dn(D),cn("laundryman"),ps(!0)},Gc=(D=null)=>{dn(D),cn("support"),ps(!0)},[pv,gv]=i.useState({email:"",password:""}),Bs=Ft(),Zc=async()=>{try{await Fe("/api/auth/logout",{method:"POST",credentials:"include"}),localStorage.removeItem("token"),localStorage.removeItem("role"),Bs("/mainapp")}catch(D){console.error("Logout failed:",D),Bs("/mainapp")}},Jc=()=>{d(!1)};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:pn,ref:s,style:{display:"none"}}),e.jsxs("button",{className:"mobile-menu-btn",onClick:un,children:[e.jsx("div",{className:"hamburger-line"}),e.jsx("div",{className:"hamburger-line"}),e.jsx("div",{className:"hamburger-line"})]}),t&&e.jsx("div",{className:"mobile-menu-overlay",onClick:Pt}),e.jsxs("aside",{className:`sidebar ${t?"sidebar-open":""}`,children:[e.jsxs("div",{className:"sidebar-profile",onClick:()=>{l("Profile"),Pt()},children:[e.jsx("img",{src:"/profile.webp",alt:"Customer",className:"sidebar-profile-img"}),e.jsx("span",{className:"sidebar-profile-name",children:r.name})]}),e.jsxs("nav",{children:[e.jsx("button",{className:o==="Home"?"active":"",onClick:()=>{l("Home"),Pt()},children:"ðŸ  Home"}),e.jsx("button",{className:"",onClick:()=>{Bs("/mainapp"),Pt()},children:"ðŸ“… Book Service"}),e.jsx("button",{className:o==="Orders"?"active":"",onClick:()=>{l("Orders"),Pt(),Bs("/orders")},children:"ðŸ“¦ My Orders"}),e.jsx("button",{className:o==="Profile"?"active":"",onClick:()=>{l("Profile"),Pt()},children:"ðŸ‘¤ Profile"}),e.jsx("button",{className:"logout-btn",onClick:()=>{vn(),Pt()},children:"ðŸšª Logout"})]})]}),e.jsxs("main",{className:"main-content",children:[o==="Home"&&e.jsxs("div",{className:"home-page",children:[Te&&e.jsx("section",{className:"location-notification",style:{marginBottom:"16px",padding:"12px 16px",borderRadius:"8px",background:Te.includes("âœ…")?"#dcfce7":Te.includes("âŒ")?"#fee2e2":Te.includes("âš ï¸")?"#fef3c7":"#dbeafe",border:Te.includes("âœ…")?"1px solid #22c55e":Te.includes("âŒ")?"1px solid #ef4444":Te.includes("âš ï¸")?"1px solid #f59e0b":"1px solid #3b82f6",color:Te.includes("âœ…")?"#166534":Te.includes("âŒ")?"#991b1b":Te.includes("âš ï¸")?"#92400e":"#1e40af",fontSize:"14px",fontWeight:"500"},children:Te}),e.jsxs("section",{className:"welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[_c(),", ",r.name,"! ðŸ‘‹"]}),e.jsx("p",{children:"Your trusted laundry service is just a click away"})]}),e.jsxs("div",{className:"date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"dashboard-stats",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“¦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:E.length}),e.jsx("span",{className:"stat-label",children:"All time"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"â³"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Active Orders"}),e.jsx("p",{className:"stat-number",children:E.filter(D=>D.status&&D.status.toLowerCase()!=="delivered"&&D.status.toLowerCase()!=="cancelled").length}),e.jsx("span",{className:"stat-label",children:"In progress"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",children:"â‚¹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Spent"}),e.jsxs("p",{className:"stat-number",children:["â‚¹",E.filter(D=>{const be=new Date(D.createdAt),De=new Date;return be.getMonth()===De.getMonth()&&be.getFullYear()===De.getFullYear()}).reduce((D,be)=>D+(Number(be.total)||0),0)]}),e.jsx("span",{className:"stat-label",children:"This month"})]})]})]})}),e.jsxs("section",{className:"quick-actions-section",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsx("div",{className:"quick-actions-grid",children:e.jsxs("button",{className:"quick-action-btn",onClick:()=>Bs("/mainapp"),children:[e.jsx("div",{className:"action-icon",children:"ðŸ“…"}),e.jsx("span",{children:"Book New Service"})]})})]})]}),o==="Profile"&&e.jsxs("div",{className:"profile-page",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("h2",{children:"My Profile"}),e.jsx("p",{children:"Manage your account information"})]}),e.jsx("div",{className:"profile-content",children:e.jsx("div",{className:"profile-card",children:f?e.jsxs("div",{className:"edit-profile-form",children:[e.jsxs("div",{className:"profile-image-section",children:[e.jsx("img",{src:"/profile.webp",alt:"Profile Preview",className:"profile-image"}),e.jsx("button",{type:"button",className:"change-image-btn",onClick:()=>{var D;return(D=s.current)==null?void 0:D.click()},children:"ðŸ“· Change Photo"})]}),e.jsxs("div",{className:"profile-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:P.name||"",onChange:D=>N({...P,name:D.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:P.email||"",onChange:D=>N({...P,email:D.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"contact",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"contact",value:P.contact||"",onChange:D=>N({...P,contact:D.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"street",children:"Street"}),e.jsx("input",{type:"text",id:"street",value:((Oa=P.address)==null?void 0:Oa.street)||"",onChange:D=>N({...P,address:{...P.address,street:D.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"city",children:"City"}),e.jsx("input",{type:"text",id:"city",value:((Da=P.address)==null?void 0:Da.city)||"",onChange:D=>N({...P,address:{...P.address,city:D.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"state",children:"State"}),e.jsx("input",{type:"text",id:"state",value:((Ta=P.address)==null?void 0:Ta.state)||"",onChange:D=>N({...P,address:{...P.address,state:D.target.value}})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"zip",children:"ZIP Code"}),e.jsx("input",{type:"text",id:"zip",value:((Ia=P.address)==null?void 0:Ia.zip)||"",onChange:D=>N({...P,address:{...P.address,zip:D.target.value}})})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsx("button",{type:"button",className:"save-profile-btn",onClick:L,children:"ðŸ’¾ Save Changes"}),e.jsx("button",{type:"button",className:"cancel-edit-btn",onClick:se,children:"âŒ Cancel"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"profile-image-section",children:e.jsx("img",{src:"/profile.webp",alt:"Profile",className:"profile-image"})}),e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("p",{children:r.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("p",{children:r.email})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("p",{children:r.contact})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Address"}),e.jsx("p",{children:(Sa=r.address)!=null&&Sa.street||(Ca=r.address)!=null&&Ca.city||(ka=r.address)!=null&&ka.state||(La=r.address)!=null&&La.zip?`${((Ea=r.address)==null?void 0:Ea.street)||""}${(Pa=r.address)!=null&&Pa.city?", "+r.address.city:""}${(Ma=r.address)!=null&&Ma.state?", "+r.address.state:""}${(Aa=r.address)!=null&&Aa.zip?" - "+r.address.zip:""}`:"Not Provided"})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Delivery Address"}),e.jsx("div",{className:"address-display",children:Ze?e.jsxs("div",{className:"saved-address",children:[e.jsxs("p",{className:"address-text",children:[Ze.houseNo,", ",Ze.street,Ze.landmark&&`, ${Ze.landmark}`,e.jsx("br",{}),Ze.city,", ",Ze.state," - ",Ze.pincode]}),e.jsx("button",{className:"manage-address-btn",onClick:Oe,children:"ðŸ“ Edit Address"})]}):e.jsxs("div",{className:"no-address",children:[e.jsx("p",{children:"No delivery address saved"}),e.jsx("button",{className:"add-address-btn",onClick:Oe,children:"ðŸ“ Add Delivery Address"})]})})]}),e.jsx("div",{className:"profile-actions",children:e.jsx("button",{className:"edit-profile-btn",onClick:mn,children:"âœï¸ Edit Profile"})})]})]})})})]})]}),R&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content payment-modal",children:[e.jsxs("div",{className:"payment-header",children:[e.jsxs("h3",{children:[J==="method"&&"Choose Payment Method",J==="upi"&&"Select UPI Provider",J==="processing"&&"Processing Payment",J==="success"&&"Payment Successful"]}),J!=="processing"&&J!=="success"&&e.jsx("button",{className:"close-btn",onClick:()=>A(!1),children:"âœ•"})]}),e.jsxs("div",{className:"payment-content",children:[J==="method"&&e.jsxs("div",{className:"payment-methods",children:[e.jsxs("div",{className:"order-summary-payment",children:[e.jsx("h4",{children:"Order Summary"}),e.jsxs("div",{className:"summary-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:gt.map(D=>D.name).join(", ")})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:jt==null?void 0:jt.name})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Date & Time:"}),e.jsxs("span",{children:[W," â€¢ ",Ae==null?void 0:Ae.time]})]}),e.jsxs("div",{className:"detail-row total-row",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["â‚¹",Tt]})]})]})]}),e.jsxs("div",{className:"payment-options",children:[e.jsxs("div",{className:`payment-option ${z==="upi"?"selected":""}`,onClick:()=>Ts("upi"),children:[e.jsx("div",{className:"payment-icon",children:"ðŸ“±"}),e.jsxs("div",{className:"payment-info",children:[e.jsx("h4",{children:"UPI Payment"}),e.jsx("p",{children:"Pay instantly using UPI apps"})]}),e.jsx("div",{className:"payment-arrow",children:"â†’"})]}),e.jsxs("div",{className:`payment-option ${z==="cod"?"selected":""}`,onClick:()=>Ts("cod"),children:[e.jsx("div",{className:"payment-icon",children:"ðŸ’µ"}),e.jsxs("div",{className:"payment-info",children:[e.jsx("h4",{children:"Cash on Delivery"}),e.jsx("p",{children:"Pay when your order is delivered"})]}),e.jsx("div",{className:"payment-arrow",children:"â†’"})]})]})]}),J==="upi"&&e.jsxs("div",{className:"upi-providers",children:[e.jsx("div",{className:"upi-amount",children:e.jsxs("h4",{children:["Amount to Pay: â‚¹",Tt]})}),e.jsxs("div",{className:"upi-options",children:[e.jsx("h4",{children:"Choose your preferred UPI app:"}),e.jsx("div",{className:"upi-grid",children:gs.map(D=>e.jsxs("div",{className:"upi-option",onClick:()=>hn(D),style:{borderColor:D.color},children:[e.jsx("div",{className:"upi-icon",style:{color:D.color},children:D.icon}),e.jsx("div",{className:"upi-name",children:D.name})]},D.id))})]}),e.jsx("div",{className:"upi-back",children:e.jsx("button",{className:"back-btn",onClick:()=>X("method"),children:"â† Back to Payment Methods"})})]}),J==="processing"&&e.jsxs("div",{className:"payment-processing",children:[e.jsx("div",{className:"processing-animation",children:e.jsx("div",{className:"spinner"})}),e.jsx("h4",{children:"Processing Payment..."}),e.jsxs("p",{children:["Please wait while we process your payment through ",U]}),e.jsxs("div",{className:"processing-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Amount:"}),e.jsxs("span",{children:["â‚¹",Tt]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:(Ba=gs.find(D=>D.id===U))==null?void 0:Ba.name})]})]})]}),J==="success"&&e.jsxs("div",{className:"payment-success",children:[e.jsx("div",{className:"success-animation",children:e.jsx("div",{className:"success-icon",children:"âœ…"})}),e.jsx("h4",{children:"Payment Successful!"}),e.jsx("p",{children:"Your order has been placed successfully"}),e.jsxs("div",{className:"success-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Amount Paid:"}),e.jsxs("span",{children:["â‚¹",Tt]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{children:(Ra=gs.find(D=>D.id===U))==null?void 0:Ra.name})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Transaction ID:"}),e.jsxs("span",{children:["TXN",Date.now()]})]})]})]})]})]})}),b&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content password-modal",children:[e.jsxs("div",{className:"password-header",children:[e.jsx("h3",{children:"Change Password"}),e.jsx("button",{className:"close-btn",onClick:Ve,children:"âœ•"})]}),e.jsxs("div",{className:"password-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),e.jsx("input",{type:"password",id:"currentPassword",value:v.currentPassword,onChange:D=>y({...v,currentPassword:D.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"New Password"}),e.jsx("input",{type:"password",id:"newPassword",value:v.newPassword,onChange:D=>y({...v,newPassword:D.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:v.confirmPassword,onChange:D=>y({...v,confirmPassword:D.target.value}),required:!0})]}),e.jsxs("div",{className:"password-actions",children:[e.jsx("button",{className:"save-password-btn",onClick:Pe,children:"ðŸ’¾ Save Password"}),e.jsx("button",{className:"cancel-password-btn",onClick:Ve,children:"âŒ Cancel"})]})]})]})}),ne&&K&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content rating-modal",children:[e.jsxs("div",{className:"rating-header",children:[e.jsx("h3",{children:"Rate Your Experience"}),e.jsx("button",{className:"close-btn",onClick:()=>ee(!1),children:"âœ•"})]}),e.jsxs("div",{className:"rating-content",children:[e.jsxs("div",{className:"order-info",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order:"})," #",K.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Laundryman:"})," ",K.laundryman]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Services:"})," ",K.services.map(D=>{var be;return(be=ue.find(De=>De.id===D))==null?void 0:be.name}).join(", ")]})]}),e.jsxs("div",{className:"star-rating",children:[e.jsx("p",{children:"How was your experience?"}),e.jsx("div",{className:"stars",children:[1,2,3,4,5].map(D=>e.jsx("button",{className:`star ${D<=C?"active":""}`,onClick:()=>_(D),children:"â­"},D))}),e.jsxs("p",{className:"rating-text",children:[C===0&&"Select a rating",C===1&&"Poor",C===2&&"Fair",C===3&&"Good",C===4&&"Very Good",C===5&&"Excellent"]})]}),e.jsxs("div",{className:"feedback-section",children:[e.jsx("label",{htmlFor:"feedback",children:"Additional Feedback (Optional)"}),e.jsx("textarea",{id:"feedback",value:Q,onChange:D=>Z(D.target.value),placeholder:"Tell us about your experience...",rows:4})]}),e.jsxs("div",{className:"rating-actions",children:[e.jsx("button",{className:"submit-rating-btn",onClick:Ie,children:"Submit Rating"}),e.jsx("button",{className:"cancel-rating-btn",onClick:()=>ee(!1),children:"Cancel"})]})]})]})}),pe&&Y&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content reorder-modal",children:[e.jsxs("div",{className:"reorder-header",children:[e.jsx("h3",{children:"Reorder Confirmation"}),e.jsx("button",{className:"close-btn",onClick:()=>G(!1),children:"âœ•"})]}),e.jsxs("div",{className:"reorder-content",children:[e.jsxs("div",{className:"reorder-details",children:[e.jsx("h4",{children:"Previous Order Details"}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Order ID:"}),e.jsxs("span",{children:["#",Y.id]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:(Fa=Y.services)==null?void 0:Fa.map(D=>D.name).join(", ")})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Y.laundrymanName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["â‚¹",Y.total]})]})]}),e.jsxs("div",{className:"reorder-items",children:[e.jsx("h4",{children:"Items to Reorder"}),e.jsx("div",{className:"items-list",children:Y.items.map((D,be)=>e.jsxs("div",{className:"item",children:[e.jsxs("span",{children:[D.name," x ",D.quantity," ",D.serviceName&&`(${D.serviceName})`]}),e.jsxs("span",{children:["â‚¹",D.price*D.quantity]})]},be))})]}),e.jsx("div",{className:"reorder-note",children:e.jsx("p",{children:"ðŸ“ Note: You'll be able to modify the order details (date, time, etc.) on the booking page."})}),e.jsxs("div",{className:"reorder-actions",children:[e.jsx("button",{className:"confirm-reorder-btn",onClick:gn,children:"âœ… Proceed to Book"}),e.jsx("button",{className:"cancel-reorder-btn",onClick:()=>G(!1),children:"Cancel"})]})]})]})}),F&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content time-slot-modal",children:[e.jsxs("div",{className:"time-slot-header",children:[e.jsx("h3",{children:"Available Time Slots"}),e.jsx("button",{className:"close-btn",onClick:()=>$(!1),children:"âœ•"})]}),e.jsxs("div",{className:"time-slot-content",children:[e.jsxs("div",{className:"date-selection",children:[e.jsx("label",{htmlFor:"slotDate",children:"Select Date:"}),e.jsx("input",{type:"date",id:"slotDate",value:W,onChange:xn,min:Hc(),max:Vc(),className:"date-input"})]}),e.jsx("div",{className:"time-slots-grid",children:ms.length===0?e.jsxs("div",{className:"no-slots",children:[e.jsx("p",{children:"No time slots available for selected date"}),e.jsx("span",{children:"All slots have passed for today"})]}):ms.map(D=>e.jsxs("div",{className:`time-slot ${D.status} ${(Ae==null?void 0:Ae.id)===D.id?"selected":""}`,onClick:()=>fn(D),children:[e.jsx("div",{className:"slot-time",children:D.time}),e.jsx("div",{className:"slot-availability",children:D.status==="available"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"available-icon",children:"âœ…"}),e.jsxs("span",{children:[D.available,"/",D.total," available"]})]}):D.status==="full"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"full-icon",children:"âŒ"}),e.jsx("span",{children:"Slot Full"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"unavailable-icon",children:"ðŸš«"}),e.jsx("span",{children:"Unavailable"}),D.reason&&e.jsx("div",{className:"unavailable-reason",children:D.reason})]})})]},D.id))})]})]})}),h&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content order-confirmation-popup",children:[e.jsx("div",{className:"success-icon",children:"âœ…"}),e.jsx("h3",{children:"Thank You!"}),e.jsx("p",{children:"Your order has been confirmed successfully"}),e.jsxs("div",{className:"order-details-popup",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",($a=E[0])==null?void 0:$a.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expected Delivery:"})," ",ja(W)]})]}),e.jsx("button",{className:"close-popup-btn",onClick:()=>u(!1),children:"Continue"})]})}),c&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content logout-popup",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"popup-buttons",children:[e.jsx("button",{className:"confirm-btn",onClick:Zc,children:"Yes, Logout"}),e.jsx("button",{className:"cancel-btn",onClick:Jc,children:"Cancel"})]})]})}),Uc&&Je&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content tracking-modal",children:[e.jsxs("div",{className:"tracking-header",children:[e.jsxs("h3",{children:["Track Order #",Je.id]}),e.jsx("button",{className:"close-btn",onClick:()=>qc(!1),children:"âœ•"})]}),e.jsxs("div",{className:"tracking-content",children:[e.jsxs("div",{className:"order-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Je.laundryman})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Services:"}),e.jsx("span",{children:Je.services.map(D=>{var be;return(be=ue.find(De=>De.id===D))==null?void 0:be.name}).join(", ")})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{children:"Expected Delivery:"}),e.jsx("span",{className:"delivery-time",children:ja(Je.date)})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${Na(Je.status)}%`}})}),e.jsxs("div",{className:"progress-percentage",children:[Na(Je.status),"% Complete"]})]}),e.jsxs("div",{className:"status-timeline",children:[e.jsxs("div",{className:`timeline-item ${["Confirmed","In Progress","Ready for Pickup","Delivered"].includes(Je.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Order Confirmed"}),e.jsx("p",{children:"Your order has been confirmed"}),e.jsx("span",{className:"timeline-time",children:Je.status==="Confirmed"?"Current":"Completed"})]})]}),e.jsxs("div",{className:`timeline-item ${["In Progress","Ready for Pickup","Delivered"].includes(Je.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Clothes Picked Up"}),e.jsx("p",{children:"Your clothes are being processed"}),e.jsx("span",{className:"timeline-time",children:Je.status==="In Progress"?"Current":["Ready for Pickup","Delivered"].includes(Je.status)?"Completed":"Pending"})]})]}),e.jsxs("div",{className:`timeline-item ${["Ready for Pickup","Delivered"].includes(Je.status)?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Ready for Delivery"}),e.jsx("p",{children:"Your clothes are clean and ready"}),e.jsx("span",{className:"timeline-time",children:Je.status==="Ready for Pickup"?"Current":Je.status==="Delivered"?"Completed":"Pending"})]})]}),e.jsxs("div",{className:`timeline-item ${Je.status==="Delivered"?"completed":""}`,children:[e.jsx("div",{className:"timeline-dot"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("h4",{children:"Delivered"}),e.jsx("p",{children:"Order completed successfully"}),e.jsx("span",{className:"timeline-time",children:Je.status==="Delivered"?"Completed":"Pending"})]})]})]}),e.jsxs("div",{className:"contact-section",children:[e.jsx("button",{className:"contact-btn",onClick:()=>Wc(Je),children:"ðŸ“ž Contact Laundryman"}),e.jsx("button",{className:"support-btn",onClick:()=>Gc(Je),children:"ðŸ’¬ Customer Support"})]})]})]})}),hr&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-content contact-modal",children:[e.jsxs("div",{className:"contact-header",children:[e.jsx("h3",{children:Ds==="laundryman"?"ðŸ“ž Contact Laundryman":"ðŸ’¬ Customer Support"}),e.jsx("button",{className:"close-btn",onClick:()=>ps(!1),children:"âœ•"})]}),e.jsxs("div",{className:"contact-content",children:[Et&&e.jsxs("div",{className:"contact-order-info",children:[e.jsx("h4",{children:"Order Details"}),e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Order ID:"}),e.jsxs("span",{children:["#",Et.id]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Status:"}),e.jsx("span",{className:"status-badge",style:{backgroundColor:zc(Et.status)},children:Et.status})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Date:"}),e.jsx("span",{children:Et.date})]}),Ds==="laundryman"&&e.jsxs("div",{className:"info-item",children:[e.jsx("span",{children:"Laundryman:"}),e.jsx("span",{children:Et.laundryman})]})]})]}),Ds==="laundryman"?e.jsxs("div",{className:"laundryman-contact-options",children:[e.jsx("h4",{children:"Contact Options"}),e.jsxs("div",{className:"contact-options-grid",children:[e.jsxs("button",{className:"contact-option-btn call-btn",children:[e.jsx("div",{className:"contact-icon",children:"ðŸ“ž"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Call Now"}),e.jsx("p",{children:"Direct phone call"})]})]}),e.jsxs("button",{className:"contact-option-btn whatsapp-btn",children:[e.jsx("div",{className:"contact-icon",children:"ðŸ’¬"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"WhatsApp"}),e.jsx("p",{children:"Send message"})]})]})]}),Et&&e.jsxs("div",{className:"laundryman-details",children:[e.jsx("h4",{children:"Laundryman Information"}),(()=>{const D=ur.find(be=>be.name===Et.laundryman);return D?e.jsxs("div",{className:"laundryman-contact-card",children:[e.jsx("img",{src:D.image||"/profile.webp",alt:D.name,className:"laundryman-contact-image"}),e.jsxs("div",{className:"laundryman-contact-info",children:[e.jsx("h5",{children:D.name}),e.jsx("p",{children:D.experience}),e.jsxs("p",{children:["ðŸ“ž ",D.phone]}),e.jsxs("p",{children:["ðŸ•’ ",D.workingHours]})]})]}):null})()]})]}):e.jsxs("div",{className:"support-contact-options",children:[e.jsx("h4",{children:"How can we help you?"}),e.jsxs("div",{className:"contact-options-grid",children:[e.jsxs("button",{className:"contact-option-btn email-btn",children:[e.jsx("div",{className:"contact-icon",children:"ðŸ“§"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Email Support"}),e.jsx("p",{children:"Get help via email"})]})]}),e.jsxs("button",{className:"contact-option-btn chat-btn",children:[e.jsx("div",{className:"contact-icon",children:"ðŸ’¬"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Live Chat"}),e.jsx("p",{children:"Chat with our team"})]})]}),e.jsxs("button",{className:"contact-option-btn call-btn",onClick:()=>window.open("tel:+911234567890","_self"),children:[e.jsx("div",{className:"contact-icon",children:"ðŸ“ž"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"Call Support"}),e.jsx("p",{children:"+91 123 456 7890"})]})]}),e.jsxs("button",{className:"contact-option-btn faq-btn",onClick:()=>alert("FAQ section coming soon!"),children:[e.jsx("div",{className:"contact-icon",children:"â“"}),e.jsxs("div",{className:"contact-info",children:[e.jsx("h5",{children:"FAQ"}),e.jsx("p",{children:"Common questions"})]})]})]}),e.jsxs("div",{className:"support-hours",children:[e.jsx("h4",{children:"Support Hours"}),e.jsxs("div",{className:"hours-info",children:[e.jsx("p",{children:"ðŸ“… Monday - Friday: 9:00 AM - 8:00 PM"}),e.jsx("p",{children:"ðŸ“… Saturday: 10:00 AM - 6:00 PM"}),e.jsx("p",{children:"ðŸ“… Sunday: 10:00 AM - 4:00 PM"})]})]})]}),e.jsx("div",{className:"contact-actions",children:e.jsx("button",{className:"close-contact-btn",onClick:()=>ps(!1),children:"Close"})})]})]})}),e.jsx(Nc,{isOpen:Qe,onClose:it,onSave:ft,initialAddress:Ze||void 0})]})},Er=s=>{const t=[],n=new Date,r=n.getFullYear(),a=n.getMonth(),o=n.getDate();for(let l=0;l<s;l++){const c=new Date(r,a,o+l),d=c.getFullYear()+"-"+String(c.getMonth()+1).padStart(2,"0")+"-"+String(c.getDate()).padStart(2,"0");t.push(d)}return t},qs=()=>{const s=new Date;return s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")},Fc=()=>{const[s,t]=i.useState(!1),[n,r]=i.useState(!1),[a,o]=i.useState(!1),[l,c]=i.useState([]),[d,h]=i.useState([]),[u,f]=i.useState([]),[x,m]=i.useState(!0),[p,b]=i.useState(!1),[g,w]=i.useState(!1),[S,P]=i.useState(Er(10)),[N,v]=i.useState(null),[y,E]=i.useState(!1),[k,j]=i.useState([]),[M,R]=i.useState(new Set),[A,z]=i.useState(""),[q,U]=i.useState(!1),[V,J]=i.useState(!1),X=F=>{c($=>[...$,F])},oe=F=>{h($=>$.includes(F)?$.filter(W=>W!==F):[...$,F])},ie=async()=>{if(d.length===0||l.length===0){alert("Please select dates and add at least one slot.");return}b(!0);try{const F=localStorage.getItem("token");await he.post("/api/slots",{dates:d,slots:l},{headers:{Authorization:`Bearer ${F}`}}),w(!0),setTimeout(()=>w(!1),3e3),c([]),h([]),ne()}catch(F){console.error(F),alert("Failed to save slot templates.")}finally{b(!1)}},ne=async(F=!1)=>{try{F?U(!0):m(!0);const $=localStorage.getItem("token"),W=await he.get("/api/slot-templates",{headers:{Authorization:`Bearer ${$}`}});f(W.data)}catch($){console.error("Failed to fetch slot templates:",$)}finally{F?U(!1):m(!1)}},ee=async()=>{try{const F=localStorage.getItem("token"),$=await he.get("/api/next-available-dates?numberOfDays=10",{headers:{Authorization:`Bearer ${F}`}});j($.data.availableDates)}catch(F){console.error("Failed to fetch available dates:",F)}},K=F=>{c($=>$.filter((W,ce)=>ce!==F))},le=F=>{v(F),c(F.slots.map($=>({label:$.label,range:$.range,maxBookings:$.maxBookings||10,isActive:$.isActive!==!1}))),r(!0)},C=async()=>{if(l.length===0){alert("Please add at least one slot.");return}b(!0);try{const F=localStorage.getItem("token");await he.put(`/api/slot-template/${N.date}`,{slots:l},{headers:{Authorization:`Bearer ${F}`}}),w(!0),setTimeout(()=>w(!1),3e3),r(!1),v(null),c([]),ne()}catch(F){console.error(F),alert("Failed to update slot template.")}finally{b(!1)}},_=async F=>{if(confirm(`Are you sure you want to delete the template for ${F}?`))try{const $=localStorage.getItem("token");await he.delete(`/api/slot-template/${F}`,{headers:{Authorization:`Bearer ${$}`}}),ne(),alert("Template deleted successfully.")}catch($){console.error($),alert("Failed to delete template.")}},Q=async()=>{if(!A){alert("Please select a template to copy from.");return}E(!0);try{const F=localStorage.getItem("token"),$=await he.post("/api/auto-generate-dates",{templateDate:A,numberOfDays:10},{headers:{Authorization:`Bearer ${F}`}});alert(`Auto-generation completed! ${$.data.results.filter(W=>W.status==="success").length} dates generated.`),o(!1),z(""),ne(),ee()}catch(F){console.error(F),alert("Failed to auto-generate dates.")}finally{E(!1)}},Z=async()=>{if(confirm("Are you sure you want to clean up all past dates? This action cannot be undone."))try{const F=localStorage.getItem("token"),$=await he.post("/api/cleanup-past-dates",{},{headers:{Authorization:`Bearer ${F}`}});alert(`Cleanup completed! ${$.data.deletedCount} past templates deleted.`),ne()}catch(F){console.error(F),alert("Failed to cleanup past dates.")}},pe=F=>{R($=>{const W=new Set($);return W.has(F)?W.delete(F):W.add(F),W})},G=F=>{if(!F||typeof F!="string"||!F.includes("-"))return"Invalid Date";const $=qs(),W=new Date;W.setDate(W.getDate()+1);const ce=W.getFullYear()+"-"+String(W.getMonth()+1).padStart(2,"0")+"-"+String(W.getDate()).padStart(2,"0");if(F===$)return"Today";if(F===ce)return"Tomorrow";const[xe,ve,Ne]=F.split("-").map(Number);return new Date(xe,ve-1,Ne).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})};i.useEffect(()=>{ne(),ee(),(async()=>{const ve=Er(10);await $e(ve)})();const $=setInterval(()=>{const ve=qs(),Ne=S[0];ve!==Ne&&(console.log("Date changed detected:",Ne,"->",ve),Y())},6e4),W=setInterval(()=>{console.log("Auto-refreshing existing templates..."),ne(!0),ee()},3e5),ce=()=>{if(!document.hidden){const ve=qs(),Ne=S[0];ve!==Ne&&(console.log("Visibility change - Date update needed:",Ne,"->",ve),Y())}},xe=ve=>{console.log("ðŸŽ‰ Background slot templates generated:",ve.detail),ne(!0),ee();const{count:Ne,dates:ot}=ve.detail;console.log(`âœ… ${Ne} new templates generated for dates: ${ot.join(", ")}`)};return document.addEventListener("visibilitychange",ce),window.addEventListener("slotTemplatesGenerated",xe),()=>{clearInterval($),clearInterval(W),document.removeEventListener("visibilitychange",ce),window.removeEventListener("slotTemplatesGenerated",xe)}},[S]);const Y=()=>{const F=Er(10),$=qs();P(F),h(W=>W.filter(ce=>ce>=$)),console.log("Dates updated - Today:",$,"New dates:",F),ne(!0),ee(),$e(F)},$e=async F=>{try{J(!0),console.log("Checking for new dates that need templates...");const $=localStorage.getItem("token"),W=await he.get("/api/slot-templates",{headers:{Authorization:`Bearer ${$}`}}),ce=W.data.map(Be=>Be.date),xe=F.filter(Be=>!ce.includes(Be));if(xe.length===0){console.log("All new dates already have templates");return}console.log("New dates needing templates:",xe);const ve=qs(),Ne=W.data.filter(Be=>Be.date>=ve).sort((Be,yt)=>new Date(Be.date)-new Date(yt.date))[0];if(!Ne){console.log("No recent template found to copy from");return}console.log("Using template from",Ne.date,"as base for new templates");const Qe=(await he.post("/api/auto-generate-dates",{templateDate:Ne.date,numberOfDays:10},{headers:{Authorization:`Bearer ${$}`}})).data.results.filter(Be=>Be.status==="success").length;console.log(`Auto-generated ${Qe} new templates`),Qe>0&&console.log(`âœ… Auto-generated ${Qe} new templates for upcoming dates`),ne(!0),ee()}catch($){console.error("Error auto-generating templates for new dates:",$)}finally{J(!1)}};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Vt,{className:"w-12 h-12 text-purple-600 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading slot templates..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 text-center sm:text-left",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-100 to-blue-100 rounded-xl mx-auto sm:mx-0",children:e.jsx(wd,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{className:"mt-2 sm:mt-0",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Enhanced Slot Template Manager"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:"Create, edit, and auto-generate time slot templates"})]})]}),e.jsx("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 w-full sm:w-auto",children:e.jsxs("button",{onClick:Z,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors w-full sm:w-auto",children:[e.jsx(md,{className:"w-4 h-4"}),e.jsx("span",{children:"Cleanup Past"})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(gr,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Auto-Generate Dates"}),e.jsx("p",{className:"text-green-100 text-sm",children:"Quickly generate next 10 days from existing template"})]})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[e.jsx(gd,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Auto Generate"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[e.jsx("div",{className:"font-medium text-green-800",children:"Available Dates"}),e.jsxs("div",{className:"text-green-600",children:[k.length," dates ready for generation"]})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsx("div",{className:"font-medium text-blue-800",children:"Total Templates"}),e.jsxs("div",{className:"text-blue-600",children:[u.length," templates created"]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pd,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Select Dates"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Real-time dates (auto-updates daily, no past dates)"})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:S.map(F=>{const $=d.includes(F);return e.jsx("label",{className:"group cursor-pointer",children:e.jsxs("div",{className:`p-3 rounded-xl border-2 transition-all duration-200 ${$?"border-purple-200 bg-purple-50 shadow-sm":"border-gray-200 bg-gray-50 hover:border-gray-300 group-hover:bg-gray-100"}`,children:[e.jsx("input",{type:"checkbox",checked:$,onChange:()=>oe(F),className:"sr-only"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-sm font-medium ${$?"text-purple-900":"text-gray-900"}`,children:G(F)}),e.jsx("div",{className:`text-xs mt-1 ${$?"text-purple-600":"text-gray-500"}`,children:F})]}),$&&e.jsx("div",{className:"flex justify-center mt-2",children:e.jsx(Ln,{className:"w-4 h-4 text-purple-600"})})]})},F)})}),d.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-700",children:[e.jsx("span",{className:"font-medium",children:d.length})," date",d.length!==1?"s":""," selected"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Za,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Time Slots"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Define your service time slots"})]})]}),e.jsxs("button",{onClick:()=>t(!0),className:"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[e.jsx(Wt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Add Slot"})]})]})}),e.jsx("div",{className:"p-6",children:l.length>0?e.jsx("div",{className:"space-y-3",children:l.map((F,$)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200 group hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Js,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:F.label}),e.jsx("div",{className:"text-sm text-gray-600",children:F.range}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Max: ",F.maxBookings||10," bookings"]})]})]}),e.jsx("button",{onClick:()=>K($),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors opacity-0 group-hover:opacity-100",children:e.jsx(St,{className:"w-4 h-4"})})]},$))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Za,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No time slots added yet"}),e.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Wt,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Your First Slot"})]})]})})]}),d.length>0&&l.length>0&&e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6",children:e.jsx("button",{onClick:ie,disabled:p,className:`w-full flex items-center justify-center space-x-3 px-6 py-4 rounded-xl font-semibold text-lg transition-all duration-200 ${g?"bg-green-600 text-white shadow-lg":p?"bg-gray-400 text-white cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 text-white hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl"}`,children:p?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Saving Templates..."})]}):g?e.jsxs(e.Fragment,{children:[e.jsx(Ln,{className:"w-6 h-6"}),e.jsx("span",{children:"Templates Saved Successfully!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ks,{className:"w-6 h-6"}),e.jsx("span",{children:"Save Slot Templates"})]})})})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden sticky top-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Sd,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Existing Templates"}),e.jsxs("p",{className:"text-indigo-100 text-sm",children:[u.length," template",u.length!==1?"s":"",V&&e.jsxs("span",{className:"ml-2 inline-flex items-center space-x-1",children:[e.jsx(Vt,{className:"w-3 h-3 animate-spin"}),e.jsx("span",{children:"Auto-generating..."})]})]})]})]}),e.jsx("button",{onClick:()=>{ne(!0),ee()},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",disabled:q||V,children:e.jsx(Yi,{className:`w-4 h-4 ${q?"animate-spin":""}`})})]})}),e.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:u.length>0?e.jsx("div",{className:"space-y-4",children:u.filter(F=>(F==null?void 0:F.date)&&typeof F.date=="string").map((F,$)=>{var ce;const W=M.has(F.date);return e.jsx("div",{className:"border border-gray-200 rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ha,{className:"w-4 h-4 text-indigo-600"}),e.jsx("span",{className:"font-medium text-indigo-700",children:G(F.date)}),F.isAutoGenerated&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Auto"})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("button",{onClick:()=>pe(F.date),className:"p-1 hover:bg-gray-200 rounded",children:W?e.jsx(Gr,{className:"w-4 h-4"}):e.jsx(Wr,{className:"w-4 h-4"})})})]}),e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:F.date}),W&&e.jsx("div",{className:"space-y-2 mb-3",children:(ce=F.slots)==null?void 0:ce.map((xe,ve)=>e.jsxs("div",{className:"flex items-center justify-between text-sm bg-white p-2 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700",children:xe.label}),e.jsxs("span",{className:"text-gray-500 ml-2",children:["(",xe.range,")"]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Max: ",xe.maxBookings||10]})]},ve))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>le(F),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit Template",children:e.jsx(Ga,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>z(F.date),className:"p-1 text-green-600 hover:bg-green-100 rounded",title:"Use for Auto-Generation",children:e.jsx(vd,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>_(F.date),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete Template",children:e.jsx(Xi,{className:"w-4 h-4"})})]})]})},$)})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ha,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No templates created yet"})]})})]})})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Wt,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Time Slot"})]}),e.jsx("button",{onClick:()=>t(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:F=>{F.preventDefault();const $=new FormData(F.target),W={label:$.get("label"),range:$.get("range"),maxBookings:10,isActive:!0};X(W),t(!1)},className:"p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Slot Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning Shift",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: HH:MM-HH:MM (24-hour format)"})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," Maximum bookings will be set to 10 by default. Only washermen can adjust this value."]})})]}),e.jsxs("div",{className:"flex space-x-3 mt-8",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-medium transition-colors",children:"Add Slot"})]})]})]})}),n&&N&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ga,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit Template"})]}),e.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Editing:"})," ",G(N.date)," (",N.date,")"]})}),e.jsx("div",{className:"space-y-4 mb-6",children:l.map((F,$)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:F.label}),e.jsx("div",{className:"text-xs text-gray-500",children:F.range})]}),e.jsx("button",{onClick:()=>K($),className:"p-1 text-red-500 hover:bg-red-100 rounded",children:e.jsx(St,{className:"w-4 h-4"})})]},$))}),e.jsxs("button",{onClick:()=>t(!0),className:"w-full mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Wt,{className:"w-4 h-4 inline mr-2"}),"Add New Slot"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>r(!1),className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:C,disabled:p,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 font-medium transition-colors disabled:bg-gray-400",children:p?"Saving...":"Save Changes"})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(gr,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Auto-Generate Dates"})]}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Template to Copy From"}),e.jsxs("select",{value:A,onChange:F=>z(F.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",children:[e.jsx("option",{value:"",children:"Choose a template..."}),u.filter(F=>(F==null?void 0:F.date)&&typeof F.date=="string").map(F=>{var $;return e.jsxs("option",{value:F.date,children:[G(F.date)," (",F.date,") - ",(($=F.slots)==null?void 0:$.length)||0," slots"]},F.date)})]})]}),e.jsxs("div",{className:"mb-6 p-3 bg-green-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-green-700",children:[e.jsx("strong",{children:"Available for generation:"})," ",k.length," dates"]}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"This will create templates for the next 10 available dates using the selected template as a base."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Q,disabled:y||!A,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 font-medium transition-colors disabled:bg-gray-400",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gr,{className:"w-4 h-4 inline mr-2"}),"Auto Generate"]})})]})]})]})})]})},$c=()=>{const[s,t]=i.useState([]);return i.useEffect(()=>{Fe("/api/admin").then(n=>n.json()).then(n=>{n.success&&t(n.messages)}).catch(n=>console.error(n))},[]),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6",children:"ðŸ“¨ Contact Form Submissions"}),s.map(n=>e.jsxs("div",{className:"border p-4 rounded mb-4 shadow-md",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",n.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",n.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Message:"})," ",n.message]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["ðŸ“… ",new Date(n.createdAt).toLocaleString()]})]},n._id))]})},Kx=()=>{var un,Pt,Ts,hn,gs,mn,pn;const s=Ft(),t=i.useRef(null),[n,r]=i.useState(!1),[a,o]=i.useState({name:"Admin User",email:"admin@laundryservice.com",role:"Super Admin",phone:"+1-234-567-8900",address:"123 Admin Street, Business District",joinDate:"2024-01-01",image:"https://randomuser.me/api/portraits/men/1.jpg"}),[l,c]=i.useState("Dashboard"),[d,h]=i.useState(!1),[u,f]=i.useState(null),[x,m]=i.useState(!1),[p,b]=i.useState(!1),[g,w]=i.useState(null),[S,P]=i.useState(!1),[N,v]=i.useState(null),[y,E]=i.useState("All Orders"),[k,j]=i.useState(""),[M,R]=i.useState("Last 7 Days"),[A,z]=i.useState(!1),[q,U]=i.useState(!1),[V,J]=i.useState(!1),[X,oe]=i.useState(!1),[ie,ne]=i.useState(!1),[ee,K]=i.useState(null),[le,C]=i.useState(!1),[_,Q]=i.useState(null),[Z,pe]=i.useState(""),[G,Y]=i.useState(""),[$e,F]=i.useState([]),[$,W]=i.useState({slot:"",maxOrders:20}),[ce,xe]=i.useState(null),[ve,Ne]=i.useState(!1),[ot,Qe]=i.useState(null),[Be,yt]=i.useState([]),[nt,Ze]=i.useState([]),[B,H]=i.useState([]),[te,ae]=i.useState(!0),Se=()=>{r(!n)},je=L=>{c(L),r(!1)},de=()=>{r(!1)};i.useEffect(()=>{const L=localStorage.getItem("token");console.log("Token:",L);const se=async()=>{try{const ft=(await he.get("/api/user/currentuser",{headers:{Authorization:`Bearer ${L}`}})).data;Qe({name:ft.name,email:ft.email,contact:ft.contact,image:"/src/washer.png",_id:ft._id}),console.log("Profile fetched:",ft)}catch(it){console.error("Failed to fetch profile:",it)}},Pe=async()=>{try{console.log("Fetching customers...");const it=await he.get("/api/user/",{headers:{Authorization:`Bearer ${L}`}});yt(it.data||[])}catch(it){console.error("Error fetching customers:",it)}},Ve=async()=>{try{console.log("Fetching laundrymen...");const ft=((await he.get("/api/washerman/dashboard/all",{headers:{Authorization:`Bearer ${L}`}})).data||[]).map(Ie=>({id:Ie.id||Ie._id||"",name:Ie.name||"",email:Ie.email||"",address:Ie.address||"",image:Ie.image||"/src/washer.png",specialties:Array.isArray(Ie.specialties)?Ie.specialties:[],workingHours:Array.isArray(Ie.workingHours)?Ie.workingHours:[],maxOrders:Ie.maxOrders??0,totalOrders:Ie.totalOrders??0,completedOrders:Ie.completedOrders??0,rating:Ie.rating??0,status:Ie.status||"Active",earnings:Ie.earnings??0,availability:Ie.availability||"Available",contact:Ie.contact||"",createdAt:Ie.createdAt||""}));Ze(ft)}catch(it){console.error("Error fetching laundrymen:",it)}};(async()=>{ae(!0),await Promise.all([se(),Pe(),Ve()]),ae(!1)})()},[]),i.useEffect(()=>{const L=localStorage.getItem("token");console.log(2),(async()=>{try{const Pe=await he.get("/api/booking/all",{headers:{Authorization:`Bearer ${L}`}});console.log("Bookings from backend:",Pe.data);const Ve=(Pe.data||[]).map(Oe=>{var it,ft,Ie,gn,fn,xn,Is,vn;return{id:Oe._id||Oe.id,customerId:((it=Oe.guest)==null?void 0:it._id)||"",customerName:((ft=Oe.guest)==null?void 0:ft.name)||"Unassigned",laundrymanId:((Ie=Oe.washerman)==null?void 0:Ie._id)||"",laundrymanName:((gn=Oe.washerman)==null?void 0:gn.name)||"Unassigned",items:(fn=Oe.productId)!=null&&fn.category?[`${Oe.quantity} x ${Oe.productId.category}`]:["Item"],totalAmount:Oe.totalAmount||0,status:Oe.status||"Pending",pickupDate:((xn=Oe.date)==null?void 0:xn.slice(0,10))||"",timeSlot:((Is=Oe.slot)==null?void 0:Is.range)||"Not specified",timeSlotLabel:((vn=Oe.slot)==null?void 0:vn.label)||"",priority:Oe.priority||"Normal",orderDate:Oe.createdAt?Oe.createdAt.slice(0,10):Oe.orderDate?Oe.orderDate.slice(0,10):"",paymentMethod:Oe.paymentMethod||"Cash",paymentStatus:Oe.paymentStatus||"Pending"}});H(Ve)}catch(Pe){console.error("Error fetching bookings:",Pe)}})()},[]);const Ye=async()=>{try{const L=localStorage.getItem("token"),Pe=((await he.get("/api/slot-templates",{headers:{Authorization:`Bearer ${L}`}})).data||[]).map(Ve=>({id:Ve._id,slot:Ve.time||"Unnamed Slot",currentOrders:0,maxOrders:0,active:!1}));F(Pe)}catch(L){console.error("Failed to fetch time slots",L)}};i.useEffect(()=>{console.log(3),Ye()},[]);const _e=async L=>{try{const se={time:L.slot,period:L.slot};await he.post("/api/slot",se),await Ye()}catch(se){console.error("Add failed",se)}},[He,wt]=i.useState({commission:15,minOrderAmount:100,maxServiceRadius:25,emailNotifications:!0,smsNotifications:!0,pushNotifications:!1,sessionTimeout:30}),[Te,kt]=i.useState(["Downtown Mumbai","Andheri","Bandra"]),[gt,$t]=i.useState(""),Ae={totalCustomers:Be.length,activeCustomers:Be.filter(L=>L.status==="Active").length,totalLaundrymen:nt.length,activeLaundrymen:nt.filter(L=>L.status==="Active").length,totalOrders:B.length,pendingOrders:B.filter(L=>L.status==="Pending").length,completedOrders:B.filter(L=>L.status==="Delivered").length,unassignedOrders:B.filter(L=>!L.laundrymanId).length,totalRevenue:B.reduce((L,se)=>L+se.totalAmount,0),todayRevenue:2400,monthlyRevenue:45e3},_t=Be.filter(L=>L.name.toLowerCase().includes(Z.toLowerCase())||L.email.toLowerCase().includes(Z.toLowerCase())),jt=nt.filter(L=>L.name.toLowerCase().includes(G.toLowerCase())||L.email.toLowerCase().includes(G.toLowerCase())),Xt=B.filter(L=>{const se=y==="All Orders"||L.status===y,Pe=!k||L.orderDate===k;return se&&Pe}),zt=(L,se,Pe)=>{Ze(nt.map(Ve=>Ve.id===L?{...Ve,status:se==="activate"?"Active":"Inactive"}:Ve))},Qt=(L,se)=>{Q({...L,userType:se}),C(!0)},es=L=>{w(L),b(!0)},hs=L=>{L.preventDefault();const se=new FormData(L.target),Pe={...ee,slot:se.get("slot"),maxOrders:parseInt(se.get("maxOrders"))};F($e.map(Ve=>Ve.id===ee.id?Pe:Ve)),ne(!1),K(null)},Tt=()=>{P(!0),c("Profile"),v(a.image)},Lt=L=>{const se=L.target.files[0];if(se){const Pe=new FileReader;Pe.onloadend=()=>{v(Pe.result)},Pe.readAsDataURL(se)}},ue=L=>{L.preventDefault();const se=new FormData(L.target),Pe=L.target.image.files[0];if(Pe){const Ve=new FileReader;Ve.onloadend=()=>{o({...a,name:se.get("name"),email:se.get("email"),phone:se.get("phone"),address:se.get("address"),image:Ve.result}),P(!1),c("Dashboard")},Ve.readAsDataURL(Pe)}else o({...a,name:se.get("name"),email:se.get("email"),phone:se.get("phone"),address:se.get("address"),image:N||a.image}),P(!1),c("Dashboard")},ts=(L,se)=>{wt({...He,[L]:se})},ms=L=>{wt({...He,[L]:!He[L]})},ln=()=>{gt.trim()&&!Te.includes(gt.trim())&&(kt([...Te,gt.trim()]),$t(""))},ur=L=>{kt(Te.filter((se,Pe)=>Pe!==L))},hr=()=>{alert("Backup created successfully!")},ps=()=>{alert("Two-Factor Authentication setup would be implemented here")},Ds=()=>{h(!0)},cn=()=>{h(!1),s("/SignIn")},Et=()=>{h(!1)},dn=()=>{const L=new Date().getHours();return L<12?"Good Morning":L<17?"Good Afternoon":"Good Evening"};return e.jsxs("div",{className:"admin-dashboard-container",children:[e.jsx("header",{className:"mobile-header",children:e.jsxs("div",{className:"mobile-header-content",children:[e.jsxs("div",{className:"mobile-logo",children:[e.jsx("span",{className:"logo-icon",children:"ðŸ§º"}),e.jsx("span",{className:"logo-text",children:"LaundryAdmin"})]}),e.jsx("button",{className:"mobile-menu-toggle",onClick:Se,"aria-label":"Toggle menu",children:n?e.jsx(St,{size:24}):e.jsx(Gi,{size:24})})]})}),n&&e.jsx("div",{className:"mobile-menu-overlay",onClick:de}),e.jsxs("aside",{className:`admin-sidebar ${n?"mobile-open":""}`,children:[e.jsx("div",{className:"admin-sidebar-header desktop-only",children:e.jsxs("div",{className:"admin-logo",children:[e.jsx("span",{className:"logo-icon",children:"ðŸ§º"}),e.jsx("span",{className:"logo-text",children:"LaundryAdmin"})]})}),e.jsxs("div",{className:"admin-sidebar-profile",onClick:Tt,children:[e.jsx("img",{src:a.image||"/placeholder.svg",alt:"Admin",className:"admin-profile-img"}),e.jsxs("div",{className:"admin-profile-info",children:[e.jsx("span",{className:"admin-profile-name",children:a.name}),e.jsx("span",{className:"admin-profile-role",children:a.role})]})]}),e.jsxs("nav",{className:"admin-nav",children:[e.jsxs("button",{className:l==="Dashboard"?"active":"",onClick:()=>je("Dashboard"),children:[e.jsx("span",{className:"nav-icon",children:"ðŸ“Š"}),e.jsx("span",{className:"nav-text",children:"Dashboard"})]}),e.jsxs("button",{className:l==="Customers"?"active":"",onClick:()=>je("Customers"),children:[e.jsx("span",{className:"nav-icon",children:"ðŸ‘¥"}),e.jsx("span",{className:"nav-text",children:"Customers"})]}),e.jsxs("button",{className:l==="Laundrymen"?"active":"",onClick:()=>je("Laundrymen"),children:[e.jsx("span",{className:"nav-icon",children:"ðŸ‘¨â€ðŸ’¼"}),e.jsx("span",{className:"nav-text",children:"Dhobi"})]}),e.jsxs("button",{className:l==="Orders"?"active":"",onClick:()=>je("Orders"),children:[e.jsx("span",{className:"nav-icon",children:"ðŸ“¦"}),e.jsx("span",{className:"nav-text",children:"Orders"})]}),e.jsxs("button",{className:l==="TimeSlots"?"active":"",onClick:()=>je("TimeSlots"),children:[e.jsx("span",{className:"nav-icon",children:"â°"}),e.jsx("span",{className:"nav-text",children:"Time Slots"})]}),e.jsxs("button",{className:l==="Messages"?"active":"",onClick:()=>je("Messages"),children:[e.jsx("span",{className:"nav-icon",children:"ðŸ’¬"}),e.jsx("span",{className:"nav-text",children:"Contact Messages"})]}),e.jsxs("button",{className:"admin-logout-btn",onClick:Ds,children:[e.jsx("span",{className:"nav-icon",children:"ðŸšª"}),e.jsx("span",{className:"nav-text",children:"Logout"})]})]})]}),e.jsxs("main",{className:"admin-main-content",children:[l==="Dashboard"&&e.jsxs("div",{className:"admin-dashboard-page",children:[e.jsxs("section",{className:"admin-welcome-section",children:[e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{children:[dn(),", ",a.name,"! ðŸ‘‹"]}),e.jsx("p",{children:"Here's an overview of your laundry service platform"})]}),e.jsxs("div",{className:"admin-date-time",children:[e.jsx("div",{className:"current-date",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsx("div",{className:"current-time",children:new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})]}),e.jsx("section",{className:"admin-stats-section",children:e.jsxs("div",{className:"admin-stats-grid",children:[e.jsxs("div",{className:"admin-stat-card customers",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ‘¥"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Customers"}),e.jsx("p",{className:"stat-number",children:Ae.totalCustomers}),e.jsxs("span",{className:"stat-label",children:[Ae.activeCustomers," Active"]})]})]}),e.jsxs("div",{className:"admin-stat-card laundrymen",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ‘¨â€ðŸ’¼"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Dhobi"}),e.jsx("p",{className:"stat-number",children:Ae.totalLaundrymen}),e.jsxs("span",{className:"stat-label",children:[Ae.activeLaundrymen," Active"]})]})]}),e.jsxs("div",{className:"admin-stat-card orders",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“¦"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total Orders"}),e.jsx("p",{className:"stat-number",children:Ae.totalOrders}),e.jsxs("span",{className:"stat-label",children:[Ae.pendingOrders," Pending"]})]})]}),e.jsxs("div",{className:"admin-stat-card unassigned",children:[e.jsx("div",{className:"stat-icon",children:"âš ï¸"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Unassigned Orders"}),e.jsx("p",{className:"stat-number",children:Ae.unassignedOrders}),e.jsx("span",{className:"stat-label",children:"Need Assignment"})]})]}),e.jsxs("div",{className:"admin-stat-card revenue",children:[e.jsx("div",{className:"stat-icon",children:"â‚¹"}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:"Total order amount"}),e.jsxs("p",{className:"stat-number",children:["â‚¹",Ae.totalRevenue.toLocaleString()]}),e.jsx("span",{className:"stat-label",children:"This Month"})]})]})]})}),e.jsxs("section",{className:"admin-quick-actions",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsxs("div",{className:"quick-actions-grid",children:[e.jsxs("button",{className:"quick-action-btn",onClick:()=>je("Customers"),children:[e.jsx("div",{className:"action-icon",children:"ðŸ‘¥"}),e.jsx("span",{children:"Manage Customers"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>je("Laundrymen"),children:[e.jsx("div",{className:"action-icon",children:"ðŸ‘¨â€ðŸ’¼"}),e.jsx("span",{children:"Manage Dhobi"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>je("Orders"),children:[e.jsx("div",{className:"action-icon",children:"ðŸ“¦"}),e.jsx("span",{children:"View Orders"})]}),e.jsxs("button",{className:"quick-action-btn",onClick:()=>je("TimeSlots"),children:[e.jsx("div",{className:"action-icon",children:"â°"}),e.jsx("span",{children:"Manage Time Slots"})]})]})]})]}),l==="Profile"&&e.jsxs("div",{className:"admin-profile-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Admin Profile"}),e.jsx("button",{className:"back-btn",onClick:()=>je("Dashboard"),children:"â† Back to Dashboard"})]}),S?e.jsxs("div",{className:"edit-profile-section",children:[e.jsx("h3",{children:"Edit Profile"}),e.jsx("img",{src:N||a.image||"/placeholder.svg",alt:"Profile Preview",className:"profile-image-preview"}),e.jsxs("form",{onSubmit:ue,className:"edit-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Full Name"}),e.jsx("input",{id:"name",name:"name",type:"text",defaultValue:a.name,required:!0,placeholder:"Enter your full name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",defaultValue:a.email,required:!0,placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Phone Number"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",defaultValue:a.phone,required:!0,placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"address",children:"Address"}),e.jsx("textarea",{id:"address",name:"address",defaultValue:a.address,required:!0,placeholder:"Enter your address",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"image",children:"Profile Image"}),e.jsx("input",{id:"image",name:"image",type:"file",accept:"image/*",onChange:Lt,ref:t})]}),e.jsxs("div",{className:"profile-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{P(!1),c("Dashboard")},children:"Cancel"})]})]})]}):e.jsx("div",{className:"profile-view-section",children:e.jsxs("div",{className:"profile-card",children:[e.jsxs("div",{className:"profile-image-section",children:[e.jsx("img",{src:a.image||"/placeholder.svg",alt:"Admin Profile",className:"profile-image"}),e.jsx("button",{className:"change-photo-btn",onClick:()=>P(!0),children:"Edit Profile"})]}),e.jsxs("div",{className:"profile-info",children:[e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("p",{children:a.name})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("p",{children:a.email})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("p",{children:a.phone})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Role"}),e.jsx("p",{children:a.role})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Address"}),e.jsx("p",{children:a.address})]}),e.jsxs("div",{className:"info-group",children:[e.jsx("label",{children:"Join Date"}),e.jsx("p",{children:a.joinDate})]})]})]})})]}),l==="Customers"&&e.jsxs("div",{className:"admin-customers-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Customer Management"}),e.jsx("div",{className:"header-actions",children:e.jsx("input",{type:"text",placeholder:"Search customers...",value:Z,onChange:L=>pe(L.target.value),className:"search-input"})})]}),e.jsx("div",{className:"customers-grid",children:_t.map(L=>e.jsxs("div",{className:"customer-card",children:[e.jsxs("div",{className:"customer-header",children:[e.jsx("img",{src:"/profile.webp",alt:"User avatar",className:"customer-image w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"customer-info",children:[e.jsx("h4",{children:L.name}),e.jsx("p",{children:L.email})]})]}),e.jsxs("div",{className:"customer-stats bg-gray-100 p-3 rounded-xl mt-2",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label text-sm text-gray-500",children:"Orders"}),e.jsx("span",{className:"stat-value font-semibold",children:L.totalOrders||0})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label text-sm text-gray-500",children:"Spent"}),e.jsxs("span",{className:"stat-value font-semibold",children:["â‚¹",L.totalSpent||0]})]})]}),e.jsx("button",{className:"mt-3 px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:()=>{xe(L),Ne(!0)},children:"View"})]},L._id))})]}),ve&&ce&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-[90%] max-w-md shadow-xl relative",children:[e.jsx("button",{onClick:()=>Ne(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:"âœ•"}),e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",ce.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",ce.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Contact:"})," ",ce.contact||"Not Provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",(un=ce.address)!=null&&un.street||(Pt=ce.address)!=null&&Pt.city||(Ts=ce.address)!=null&&Ts.state?`${((hn=ce.address)==null?void 0:hn.street)||""}, ${((gs=ce.address)==null?void 0:gs.city)||""}, ${((mn=ce.address)==null?void 0:mn.state)||""}, ${((pn=ce.address)==null?void 0:pn.zip)||""}`:"Not Provided"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Joined On:"})," ",ce.createdAt?new Date(ce.createdAt).toLocaleDateString():"Not Available"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Orders:"})," ",ce.totalOrders||0]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Spent:"})," â‚¹",ce.totalSpent||0]})]})]})}),l==="Laundrymen"&&e.jsxs("div",{className:"admin-laundrymen-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Dhobi Management"}),e.jsx("div",{className:"header-actions",children:e.jsx("input",{type:"text",placeholder:"Search Dhobi...",value:G,onChange:L=>Y(L.target.value),className:"search-input"})})]}),e.jsx("div",{className:"laundrymen-grid",children:jt.map(L=>e.jsxs("div",{className:"laundryman-card",children:[e.jsxs("div",{className:"laundryman-header",children:[e.jsx("img",{src:"/washer.webp",alt:"Dhobi avatar",className:"customer-image w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"laundryman-info",children:[e.jsx("h4",{children:L.name}),e.jsx("p",{children:L.email}),e.jsx("div",{className:"rating"}),e.jsx("span",{className:`status-badge ${L.status.toLowerCase()}`,children:L.status}),e.jsx("span",{className:`availability-badge ${L.availability.toLowerCase()}`,children:L.availability})]})]}),e.jsxs("div",{className:"laundryman-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Total Orders"}),e.jsx("span",{className:"stat-value",children:L.totalOrders})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Completed"}),e.jsx("span",{className:"stat-value",children:L.completedOrders})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-label",children:"Earnings"}),e.jsxs("span",{className:"stat-value",children:["â‚¹",L.earnings]})]})]}),e.jsxs("div",{className:"laundryman-actions",children:[e.jsx("button",{className:"dashboard-btn",onClick:()=>Qt(L,"laundryman"),children:"Dashboard"}),e.jsx("button",{className:L.status==="Active"?"deactivate-btn":"activate-btn",onClick:()=>zt(L.id,L.status==="Active"?"deactivate":"activate"),children:L.status==="Active"?"Deactivate":"Activate"})]})]},L.id))})]}),l==="Orders"&&e.jsxs("div",{className:"admin-orders-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Order Management"}),e.jsxs("div",{className:"order-filters",children:[e.jsxs("select",{className:"filter-select",value:y,onChange:L=>E(L.target.value),children:[e.jsx("option",{children:"All Orders"}),e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Assigned"}),e.jsx("option",{children:"In Progress"}),e.jsx("option",{children:"Delivered"})]}),e.jsx("input",{type:"date",className:"date-filter",value:k,onChange:L=>j(L.target.value)}),e.jsx("button",{className:"clear-filter-btn",onClick:()=>{E("All Orders"),j("")},children:"Clear Filters"})]})]}),e.jsx("div",{className:"orders-table-container",children:e.jsxs("table",{className:"orders-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Order ID"}),e.jsx("th",{children:"Customer"}),e.jsx("th",{children:"Dhobi"}),e.jsx("th",{children:"Items"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Time Slot"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:Xt.map(L=>e.jsxs("tr",{children:[e.jsx("td",{children:L.id}),e.jsx("td",{children:L.customerName}),e.jsxs("td",{children:[L.laundrymanName,!L.laundrymanId&&e.jsx("button",{className:"assign-btn small",onClick:()=>{w(L),J(!0)},children:"Assign"})]}),e.jsx("td",{children:L.items.join(", ")}),e.jsxs("td",{children:["â‚¹",L.totalAmount]}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${L.status.toLowerCase().replace(" ","-")}`,children:L.status})}),e.jsx("td",{children:L.timeSlot}),e.jsx("td",{children:e.jsx("span",{className:`priority-badge ${L.priority.toLowerCase()}`,children:L.priority})}),e.jsx("td",{children:e.jsx("button",{className:"view-btn small",onClick:()=>es(L),children:"View"})})]},L.id))})]})})]}),l==="TimeSlots"&&e.jsxs("div",{className:"admin-timeslots-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Time Slots Management"}),e.jsx("p",{className:"page-description",children:"Manage time slots and schedules for laundry services"})]}),e.jsx(Fc,{})]}),l==="Messages"&&e.jsxs("div",{className:"admin-messages-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Contact Messages"}),e.jsx("p",{className:"page-description",children:"View and manage customer contact form submissions"})]}),e.jsx($c,{})]}),l==="Analytics"&&e.jsxs("div",{className:"admin-analytics-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h2",{children:"Analytics & Reports"}),e.jsxs("div",{className:"analytics-filters",children:[e.jsxs("select",{className:"filter-select",value:M,onChange:L=>R(L.target.value),children:[e.jsx("option",{children:"Last 7 Days"}),e.jsx("option",{children:"Last 30 Days"}),e.jsx("option",{children:"Last 3 Months"}),e.jsx("option",{children:"Last Year"})]}),e.jsx("button",{className:"export-btn",children:"Export Report"})]})]}),e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card revenue-chart",children:[e.jsx("h3",{children:"Revenue Trends"}),e.jsx("div",{className:"chart-placeholder",children:e.jsxs("div",{className:"chart-content",children:[e.jsx("div",{className:"chart-icon",children:"ðŸ“ˆ"}),e.jsx("p",{children:"Revenue Chart"}),e.jsxs("div",{className:"chart-stats",children:[e.jsx("div",{className:"chart-stat",children:e.jsxs("span",{children:["Today: â‚¹",Ae.todayRevenue]})}),e.jsx("div",{className:"chart-stat",children:e.jsxs("span",{children:["This Month: â‚¹",Ae.monthlyRevenue]})})]})]})})]}),e.jsxs("div",{className:"analytics-card order-stats",children:[e.jsx("h3",{children:"Order Statistics"}),e.jsxs("div",{className:"order-breakdown",children:[e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"Completed"}),e.jsx("span",{className:"breakdown-value",children:Ae.completedOrders}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill completed",style:{width:"70%"}})})]}),e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"In Progress"}),e.jsx("span",{className:"breakdown-value",children:"1"}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill in-progress",style:{width:"20%"}})})]}),e.jsxs("div",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-label",children:"Pending"}),e.jsx("span",{className:"breakdown-value",children:Ae.pendingOrders}),e.jsx("div",{className:"breakdown-bar",children:e.jsx("div",{className:"breakdown-fill pending",style:{width:"10%"}})})]})]})]}),e.jsxs("div",{className:"analytics-card top-performers",children:[e.jsx("h3",{children:"Top Performing Laundrymen"}),e.jsx("div",{className:"performers-list",children:nt.filter(L=>L.status==="Active").sort((L,se)=>se.rating-L.rating).slice(0,3).map((L,se)=>e.jsxs("div",{className:"performer-item",children:[e.jsxs("div",{className:"performer-rank",children:["#",se+1]}),e.jsx("img",{src:L.image||"/placeholder.svg",alt:L.name,className:"performer-image"}),e.jsxs("div",{className:"performer-info",children:[e.jsx("h5",{children:L.name}),e.jsxs("p",{children:[L.rating," â€¢ ",L.completedOrders," orders"]})]})]},L.id))})]}),e.jsxs("div",{className:"analytics-card customer-insights",children:[e.jsx("h3",{children:"Customer Insights"}),e.jsxs("div",{className:"insights-content",children:[e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"Average Order Value"}),e.jsxs("span",{className:"insight-value",children:["â‚¹",Math.round(Ae.totalRevenue/Ae.totalOrders)]})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"Customer Retention"}),e.jsx("span",{className:"insight-value",children:"85%"})]}),e.jsxs("div",{className:"insight-item",children:[e.jsx("span",{className:"insight-label",children:"New Customers"}),e.jsx("span",{className:"insight-value",children:"12 this month"})]})]})]})]})]}),l==="Settings"&&e.jsxs("div",{className:"admin-settings-page",children:[e.jsx("div",{className:"page-header",children:e.jsx("h2",{children:"System Settings"})}),e.jsxs("div",{className:"settings-grid",children:[e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Platform Settings"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Service Commission (%)"}),e.jsx("input",{type:"number",value:He.commission,min:"0",max:"50",onChange:L=>ts("commission",Number.parseInt(L.target.value))})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Minimum Order Amount"}),e.jsx("input",{type:"number",value:He.minOrderAmount,min:"50",onChange:L=>ts("minOrderAmount",Number.parseInt(L.target.value))})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Maximum Service Radius (km)"}),e.jsx("input",{type:"number",value:He.maxServiceRadius,min:"5",max:"100",onChange:L=>ts("maxServiceRadius",Number.parseInt(L.target.value))})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Platform settings saved!"),children:"Save Changes"})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Notification Settings"}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"Email Notifications"}),e.jsx("div",{className:`toggle-switch ${He.emailNotifications?"enabled":"disabled"}`,onClick:()=>ms("emailNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"SMS Notifications"}),e.jsx("div",{className:`toggle-switch ${He.smsNotifications?"enabled":"disabled"}`,onClick:()=>ms("smsNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsxs("div",{className:"setting-item toggle",children:[e.jsx("label",{children:"Push Notifications"}),e.jsx("div",{className:`toggle-switch ${He.pushNotifications?"enabled":"disabled"}`,onClick:()=>ms("pushNotifications"),children:e.jsx("div",{className:"toggle-slider"})})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Notification settings saved!"),children:"Save Changes"})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Service Areas"}),e.jsx("div",{className:"service-areas-list",children:Te.map((L,se)=>e.jsxs("div",{className:"area-item",children:[e.jsx("span",{children:L}),e.jsx("button",{className:"remove-btn",onClick:()=>ur(se),children:"Remove"})]},se))}),e.jsxs("div",{className:"add-area",children:[e.jsx("input",{type:"text",placeholder:"Add new service area",value:gt,onChange:L=>$t(L.target.value),onKeyPress:L=>L.key==="Enter"&&ln()}),e.jsx("button",{className:"add-btn",onClick:ln,children:"Add Area"})]})]}),e.jsxs("div",{className:"settings-card",children:[e.jsx("h3",{children:"Backup & Security"}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Last Backup"}),e.jsx("span",{children:"2024-12-03 10:30 AM"}),e.jsx("button",{className:"backup-btn",onClick:hr,children:"Create Backup"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Two-Factor Authentication"}),e.jsx("button",{className:"enable-btn",onClick:ps,children:"Enable 2FA"})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("label",{children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",value:He.sessionTimeout,min:"15",max:"120",onChange:L=>ts("sessionTimeout",Number.parseInt(L.target.value))})]}),e.jsx("button",{className:"save-btn",onClick:()=>alert("Security settings saved!"),children:"Save Changes"})]})]})]})]}),V&&g&&e.jsxs("div",{className:"order-modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("span",{className:"order-id",children:["#",g.id]}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase()}`,children:g.status}),e.jsxs("span",{className:"total-amount",children:["â‚¹",g.totalAmount]})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"order-details",children:[e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Customer"}),e.jsx("span",{children:g.customerName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Dhobi"}),e.jsx("span",{children:g.laundrymanName||"Not Assigned"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Date"}),e.jsx("span",{children:g.orderDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:g.pickupDate||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("span",{children:g.timeSlotLabel?`${g.timeSlotLabel} (${g.timeSlot})`:g.timeSlot||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Method"}),e.jsx("span",{children:g.paymentMethod})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Status"}),e.jsx("span",{className:`status-badge ${g.paymentStatus.toLowerCase()}`,children:g.paymentStatus})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Current Status"}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase()}`,children:g.status})]})]}),e.jsxs("div",{className:"order-items",children:[e.jsx("h4",{children:"Order Items"}),e.jsx("ul",{children:g.items.map((L,se)=>e.jsxs("li",{children:[L.quantity," x ",L.product.title," (",L.product.category,")"]},se))})]})]})})]}),le&&_&&e.jsx("div",{className:"modal-overlay",onClick:()=>C(!1),children:e.jsxs("div",{className:"user-dashboard-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[_.name," - Dashboard"]}),e.jsx("button",{className:"close-btn",onClick:()=>C(!1),children:"Ã—"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"dashboard-overview",children:[e.jsx("div",{className:"user-profile-section",children:e.jsxs("div",{className:"user-basic-info",children:[e.jsx("h4",{children:_.name}),e.jsx("p",{children:_.email}),e.jsx("span",{className:`status-badge ${_.status.toLowerCase()}`,children:_.status})]})}),_.userType==="customer"?e.jsxs("div",{className:"customer-dashboard",children:[e.jsxs("div",{className:"dashboard-stats-grid",children:[e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“¦"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Total Orders"}),e.jsx("span",{children:_.totalOrders})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"â‚¹"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Total Spent"}),e.jsxs("span",{children:["â‚¹",_.totalSpent]})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"ðŸŽ¯"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Loyalty Points"}),e.jsx("span",{children:_.loyaltyPoints})]})]})]}),e.jsxs("div",{className:"customer-orders",children:[e.jsx("h5",{children:"Recent Orders"}),e.jsx("div",{className:"orders-list",children:B.filter(L=>L.customerId===_.id).slice(0,5).map(L=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"order-info",children:[e.jsx("span",{className:"order-id",children:L.id}),e.jsx("span",{className:"order-date",children:L.orderDate})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("span",{className:"order-amount",children:["â‚¹",L.totalAmount]}),e.jsx("span",{className:`status-badge ${L.status.toLowerCase().replace(" ","-")}`,children:L.status})]})]},L.id))})]}),e.jsxs("div",{className:"customer-preferences",children:[e.jsx("h5",{children:"Preferences"}),e.jsx("div",{className:"preferences-list",children:_.preferences.map((L,se)=>e.jsx("span",{className:"preference-tag",children:L},se))})]})]}):e.jsxs("div",{className:"laundryman-dashboard",children:[e.jsxs("div",{className:"laundryman-info-card",children:[e.jsx("h4",{children:"Dhobi Details"}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Name:"})," ",_.name]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Email:"})," ",_.email]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Contact:"})," ",_.contact]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Joined On:"})," ",new Date(_.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"dashboard-stats-grid",children:[e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"âœ…"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"total Order"}),e.jsx("span",{children:_.totalOrders})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"â‚¹"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Earnings"}),e.jsxs("span",{children:["â‚¹",_.earnings]})]})]}),e.jsxs("div",{className:"dashboard-stat",children:[e.jsx("div",{className:"stat-icon",children:"ðŸ“‹"}),e.jsxs("div",{className:"stat-info",children:[e.jsx("h5",{children:"Complete order"}),e.jsx("span",{children:_.completedOrders})]})]})]}),e.jsxs("div",{className:"laundryman-orders",children:[e.jsx("h5",{children:"Assigned Orders"}),e.jsx("div",{className:"orders-list",children:B.filter(L=>L.laundrymanId===_.id).slice(0,5).map(L=>e.jsxs("div",{className:"order-item",children:[e.jsxs("div",{className:"order-info",children:[e.jsx("span",{className:"order-id",children:L.id}),e.jsx("span",{className:"customer-name",children:L.customerName})]}),e.jsxs("div",{className:"order-details",children:[e.jsxs("span",{className:"order-amount",children:["â‚¹",L.totalAmount]}),e.jsx("span",{className:`status-badge ${L.status.toLowerCase().replace(" ","-")}`,children:L.status})]})]},L.id))})]})]})]})})]})}),X&&e.jsx("div",{className:"modal-overlay",onClick:()=>oe(!1),children:e.jsxs("div",{className:"timeslot-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Add New Time Slot"}),e.jsx("button",{className:"close-btn",onClick:()=>oe(!1),children:"Ã—"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:L=>{L.preventDefault();const se=new FormData(L.target),Pe={label:se.get("label"),range:se.get("range")};_e(Pe),oe(!1)},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}"})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Add Slot"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>oe(!1),children:"Cancel"})]})]})})]})}),ie&&ee&&e.jsx("div",{className:"modal-overlay",onClick:()=>ne(!1),children:e.jsxs("div",{className:"timeslot-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Edit Time Slot"}),e.jsx("button",{className:"close-btn",onClick:()=>ne(!1),children:"Ã—"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:hs,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("input",{name:"slot",type:"text",required:!0,defaultValue:ee.slot,placeholder:"e.g., 09:00-12:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Maximum Orders"}),e.jsx("input",{name:"maxOrders",type:"number",required:!0,min:"1",max:"50",defaultValue:ee.maxOrders,placeholder:"Enter maximum orders for this slot"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Orders"}),e.jsx("input",{type:"number",value:ee.currentOrders,disabled:!0,className:"disabled-input"}),e.jsx("small",{className:"form-help",children:"Current orders cannot be modified directly"})]}),e.jsxs("div",{className:"form-buttons",children:[e.jsx("button",{type:"submit",className:"save-btn",children:"Save Changes"}),e.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>ne(!1),children:"Cancel"})]})]})})]})}),x&&u&&e.jsx("div",{className:"modal-overlay",onClick:()=>m(!1),children:e.jsxs("div",{className:"user-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[u.userType==="customer"?"Customer":"Laundryman"," Details"]}),e.jsx("button",{className:"close-btn",onClick:()=>m(!1),children:"Ã—"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"user-details",children:[e.jsx("img",{src:u.image||"/placeholder.svg",alt:u.name,className:"user-detail-image"}),e.jsxs("div",{className:"user-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Name"}),e.jsx("span",{children:u.name})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Email"}),e.jsx("span",{children:u.email})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Phone"}),e.jsx("span",{children:u.phone})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Address"}),e.jsx("span",{children:u.address})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Join Date"}),e.jsx("span",{children:u.joinDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Status"}),e.jsx("span",{className:`status-badge ${u.status.toLowerCase()}`,children:u.status})]}),u.userType==="customer"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Orders"}),e.jsx("span",{children:u.totalOrders})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Spent"}),e.jsxs("span",{children:["â‚¹",u.totalSpent]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Preferences"}),e.jsx("div",{className:"preferences-list",children:u.preferences.map((L,se)=>e.jsx("span",{className:"preference-tag",children:L},se))})]})]}),u.userType==="laundryman"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Rating"}),e.jsxs("span",{children:[" ",u.rating]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Completed Orders"}),e.jsx("span",{children:u.completedOrders})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Current Orders"}),e.jsxs("span",{children:[u.currentOrders,"/",u.maxOrders]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Earnings"}),e.jsxs("span",{children:["â‚¹",u.earnings]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Availability"}),e.jsx("span",{className:`availability-badge ${u.availability.toLowerCase()}`,children:u.availability})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Working Hours"}),e.jsx("div",{className:"hours-list",children:u.workingHours.map((L,se)=>e.jsx("span",{className:"hour-tag",children:L},se))})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Specialties"}),e.jsx("div",{className:"specialties-list",children:u.specialties.map((L,se)=>e.jsx("span",{className:"specialty-tag",children:L},se))})]})]})]})]})})]})}),p&&g&&e.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:e.jsxs("div",{className:"order-modal",onClick:L=>L.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:["Order Details - ",g.id]}),e.jsx("button",{className:"close-btn",onClick:()=>b(!1),children:"Ã—"})]}),e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"order-details",children:[e.jsxs("div",{className:"order-info-grid",children:[e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Customer"}),e.jsx("span",{children:g.customerName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Dhobi"}),e.jsx("span",{children:g.laundrymanName})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Date"}),e.jsx("span",{children:g.orderDate})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Pickup Date"}),e.jsx("span",{children:g.pickupDate||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Time Slot"}),e.jsx("span",{children:g.timeSlotLabel?`${g.timeSlotLabel} (${g.timeSlot})`:g.timeSlot||"Not Set"})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Priority"}),e.jsx("span",{className:`priority-badge ${g.priority.toLowerCase()}`,children:g.priority})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Total Amount"}),e.jsxs("span",{children:["â‚¹",g.totalAmount]})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Method"}),e.jsx("span",{children:g.paymentMethod})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Payment Status"}),e.jsx("span",{className:`status-badge ${g.paymentStatus.toLowerCase()}`,children:g.paymentStatus})]}),e.jsxs("div",{className:"info-item",children:[e.jsx("label",{children:"Order Status"}),e.jsx("span",{className:`status-badge ${g.status.toLowerCase().replace(" ","-")}`,children:g.status})]})]}),e.jsxs("div",{className:"order-items",children:[e.jsx("h4",{children:"Items"}),e.jsx("ul",{children:g.items.map((L,se)=>e.jsx("li",{children:L},se))})]})]})})]})}),d&&e.jsx("div",{className:"logout-popup-overlay",children:e.jsxs("div",{className:"logout-popup-content",children:[e.jsx("h3",{children:"Confirm Logout"}),e.jsx("p",{children:"Are you sure you want to logout?"}),e.jsxs("div",{className:"logout-popup-buttons",children:[e.jsx("button",{className:"confirm-btn",onClick:cn,children:"Yes, Logout"}),e.jsx("button",{className:"cancel-btn",onClick:Et,children:"Cancel"})]})]})})]})},Yx=[{id:"wash",name:"Wash",icon:"ðŸ§¼"},{id:"dry-clean",name:"Dry-Clean",icon:"ðŸ§´"},{id:"iron",name:"Iron",icon:"ðŸ”¥"}],Xx=({onSubmit:s,onBack:t})=>{const[n,r]=i.useState({title:"",name:"",category:"",description:"",options:[]}),[a,o]=i.useState(null),[l,c]=i.useState(null),[d,h]=i.useState(!1),u=p=>{var g;const b=(g=p.target.files)==null?void 0:g[0];b&&(o(b),c(URL.createObjectURL(b)))},f=(p,b)=>{const g=n.options.find(S=>S.id===p);let w=[];g?w=n.options.filter(S=>S.id!==p):w=[...n.options,{id:p,name:b,price:""}],r(S=>({...S,options:w}))},x=(p,b)=>{const g=n.options.map(w=>w.id===p?{...w,price:b}:w);r(w=>({...w,options:g}))},m=async p=>{if(p.preventDefault(),!n.title.trim()||!n.name.trim()||!n.category.trim()||!n.description.trim()||n.options.length===0||n.options.some(g=>!g.price||isNaN(Number(g.price)))||!a){alert("Please fill all fields, set valid prices, and upload a photo.");return}try{h(!0);const g=localStorage.getItem("token");if(!g)throw new Error("User not logged in.");const w=n.options.map(v=>({id:v.id,name:v.name,price:Number(v.price)})),S=new FormData;S.append("title",n.title),S.append("name",n.name),S.append("category",n.category),S.append("description",n.description),S.append("options",JSON.stringify(w)),S.append("image",a);const P=await Fe("/api/product/create",{method:"POST",headers:{Authorization:`Bearer ${g}`},body:S});if(!P.ok){const v=await P.json().catch(()=>({}));throw new Error(v.message||"Failed to create service.")}const N=await P.json();alert("Service created successfully!"),r({title:"",name:"",category:"",description:"",options:[]}),o(null),c(null),s(N)}catch(g){alert(g.message||"Something went wrong.")}finally{h(!1)}};return e.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-lg shadow",children:[e.jsxs("button",{onClick:t,className:"mb-4 text-sm text-blue-600 flex items-center",children:[e.jsx(Hi,{className:"w-4 h-4 mr-1"})," Back"]}),e.jsxs("h2",{className:"text-xl font-bold text-blue-600 mb-1 flex items-center gap-2",children:[e.jsx(Wt,{})," Add New Service"]}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Fill in the details to add a new washing service"}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Service Title *"}),e.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",value:n.title,onChange:p=>r({...n,title:p.target.value}),placeholder:"e.g., Premium Shirt Washing Service"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Service Name *"}),e.jsx("input",{type:"text",className:"w-full border px-3 py-2 rounded",value:n.name,onChange:p=>r({...n,name:p.target.value}),placeholder:"e.g., Express Wash & Fold"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Category *"}),e.jsxs("select",{className:"w-full border px-3 py-2 rounded",value:n.category,onChange:p=>r({...n,category:p.target.value}),children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Shirt",children:"Shirt"}),e.jsx("option",{value:"Pant",children:"Pant"}),e.jsx("option",{value:"Bedsheet",children:"Bedsheet"}),e.jsx("option",{value:"Curtain",children:"Curtain"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Service Options *"}),e.jsx("div",{className:"space-y-2",children:Yx.map(({id:p,name:b,icon:g})=>{const w=n.options.find(S=>S.id===p);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!w,onChange:()=>f(p,b)}),e.jsx("span",{children:g}),e.jsx("span",{className:"capitalize",children:b}),w&&e.jsx("input",{type:"number",min:"0",value:w.price,onChange:S=>x(p,S.target.value),placeholder:"â‚¹ Price",className:"ml-2 border px-2 py-1 w-24 rounded"})]},p)})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Service Photo *"}),e.jsx("div",{className:"border border-dashed p-4 rounded text-center cursor-pointer",children:e.jsxs("label",{className:"cursor-pointer",children:[l?e.jsx("img",{src:l,alt:"Preview",className:"h-32 mx-auto object-cover"}):e.jsxs("div",{children:[e.jsx(fd,{className:"mx-auto mb-2"}),e.jsx("span",{children:"Click to upload a photo"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB"})]}),e.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:u})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Service Description *"}),e.jsx("textarea",{className:"w-full border px-3 py-2 rounded",rows:3,placeholder:"Describe your service in detail...",value:n.description,onChange:p=>r({...n,description:p.target.value})})]}),e.jsx("button",{type:"submit",disabled:d,className:"bg-gradient-to-r from-blue-500 to-teal-400 text-white py-2 px-6 rounded w-full font-semibold",children:d?"Adding Service...":"+ Add Service"})]})]})},Fi=[{value:"Shirt",label:"Shirt",icon:"ðŸ‘”"},{value:"Pant",label:"Pant",icon:"ðŸ‘–"},{value:"Bedsheet",label:"Bedsheet",icon:"ðŸ›ï¸"},{value:"Curtain",label:"Curtain",icon:"ðŸªŸ"}],Qx=[{value:"wash",label:"Wash",icon:"ðŸ§¼"},{value:"dry-clean",label:"Dry Clean",icon:"ðŸ§½"},{value:"iron",label:"Iron",icon:"ðŸ”¥"}];function ev({services:s,onEdit:t,onDelete:n,onAddNew:r}){const[a,o]=i.useState(s),[l,c]=i.useState(""),[d,h]=i.useState(null),[u,f]=i.useState({}),[x,m]=i.useState(null),[p,b]=i.useState(null),g=a.filter(k=>(k.title+k.name+k.description+k.category).toLowerCase().includes(l.toLowerCase()));i.useEffect(()=>{(async()=>{const j=localStorage.getItem("token"),R=localStorage.getItem("role")==="washerman"?"/api/product/my-products":"/api/product/all";try{const A=await Fe(R,{headers:{Authorization:`Bearer ${j}`}}),z=await A.json();A.ok?o(z):console.error("Error:",z.message)}catch(A){console.error("Fetch error:",A)}})()},[]);const w=k=>{h(k._id),f({...k}),b(null)},S=async()=>{try{if(!d)throw new Error("No service selected for editing");const j=["title","name","category","options","description"].filter(z=>!u[z]);if(j.length>0)throw new Error(`Missing required fields: ${j.join(", ")}`);if(!u.options||u.options.length===0)throw new Error("At least one service option is required");const M=localStorage.getItem("token");if(!M)throw new Error("Authentication token not found");const R=await Fe(`/api/product/${d}`,{method:"PUT",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify(u)});if(!R.ok){const z=await R.json();throw new Error(z.message||"Failed to update service")}const A=await R.json();t(d,A),h(null),f({}),b(null)}catch(k){console.error("Update error:",k),b(k instanceof Error?k.message:"Failed to update service")}},P=()=>{h(null),f({}),b(null)},N=async k=>{try{const j=prompt("Please confirm your password to delete the service");if(!j)return;const M=localStorage.getItem("token");if(!M)throw new Error("Authentication token not found");const R=await Fe(`/api/product/${k}`,{method:"DELETE",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({password:j})});if(!R.ok){const A=await R.json();throw new Error(A.message||"Failed to delete service")}m(null),n(k),b(null)}catch(j){console.error("Delete error:",j),b(j instanceof Error?j.message:"Failed to delete service"),m(null)}},v=k=>{const j=Fi.find(M=>M.value===k);return j?`${j.icon} ${j.label}`:k},y=k=>{if(!k||typeof k!="string")return"Unknown";const j=Qx.find(M=>M.value.toLowerCase()===k.toLowerCase()||M.label.toLowerCase()===k.toLowerCase());return j?`${j.icon} ${j.label}`:k},E=k=>k?k.startsWith("http")?k:`http://localhost:5000/${k}`:"";return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dhobi Services"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your services"})]}),e.jsxs("button",{onClick:r,className:"bg-gradient-to-r from-blue-600 to-teal-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-teal-700 flex items-center gap-2",children:[e.jsx(Wt,{className:"w-5 h-5"}),"Add New Service"]})]}),p&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(Ar,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(k=>{var j,M,R;return e.jsx("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-lg transition-all",children:d===k._id?e.jsxs("div",{className:"p-6 space-y-4",children:[u.image&&e.jsx("img",{src:E(u.image),alt:"Preview",className:"w-full h-48 object-cover rounded-lg mb-2"}),e.jsx("input",{type:"text",value:u.title||"",onChange:A=>f(z=>({...z,title:A.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Title"}),e.jsx("input",{type:"text",value:u.name||"",onChange:A=>f(z=>({...z,name:A.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Name"}),e.jsxs("select",{value:u.category||"",onChange:A=>f(z=>({...z,category:A.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:"Select Category"}),Fi.map(A=>e.jsxs("option",{value:A.value,children:[A.icon," ",A.label]},A.value))]}),(j=u.options)==null?void 0:j.map((A,z)=>e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsx("input",{type:"text",value:y(A.name),disabled:!0,className:"border px-3 py-2 rounded bg-gray-100 text-gray-700 font-medium"}),e.jsx("input",{type:"number",value:A.price!==void 0&&!isNaN(A.price)?A.price:"",onChange:q=>{const U=[...u.options||[]],V=parseFloat(q.target.value);U[z].price=isNaN(V)?0:V,f(J=>({...J,options:U}))},className:"border px-3 py-2 rounded",placeholder:"Enter price"})]},z)),e.jsx("textarea",{value:u.description||"",onChange:A=>f(z=>({...z,description:A.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Description"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:S,className:"flex-1 bg-green-600 text-white py-2 rounded",children:[e.jsx(Ks,{className:"w-4 h-4 inline mr-1"})," Save"]}),e.jsxs("button",{onClick:P,className:"flex-1 bg-gray-600 text-white py-2 rounded",children:[e.jsx(St,{className:"w-4 h-4 inline mr-1"})," Cancel"]})]})]}):e.jsxs(e.Fragment,{children:[k.image&&e.jsx("img",{src:E(k.image),alt:k.title,className:"h-48 w-full object-cover rounded-t-2xl"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold",children:k.title}),e.jsxs("span",{className:"bg-green-100 text-green-800 text-sm px-2 py-1 rounded-full",children:["â‚¹",((M=k.options)==null?void 0:M.reduce((A,z)=>A+(z.price||0),0))||0]})]}),e.jsx("p",{className:"font-medium",children:k.name}),e.jsxs("div",{className:"flex flex-wrap gap-2 my-2",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:v(k.category)}),(R=k.options)==null?void 0:R.map((A,z)=>e.jsxs("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full",children:[y(A.name)," - â‚¹",A.price]},z))]}),e.jsx("p",{className:"text-sm text-gray-600",children:k.description}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:()=>w(k),className:"flex-1 bg-blue-600 text-white py-2 rounded",children:[e.jsx(Nd,{className:"w-4 h-4 inline mr-1"})," Edit"]}),e.jsxs("button",{onClick:()=>m(k._id),className:"flex-1 bg-red-600 text-white py-2 rounded",children:[e.jsx(Xi,{className:"w-4 h-4 inline mr-1"})," Delete"]})]})]})]})},k._id)})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-md w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Delete Service"}),e.jsx("p",{className:"mb-4",children:"Are you sure you want to delete this service?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>m(null),className:"flex-1 bg-gray-600 text-white py-2 rounded",children:"Cancel"}),e.jsx("button",{onClick:()=>N(x),className:"flex-1 bg-red-600 text-white py-2 rounded",children:"Delete"})]})]})})]})})}const tv=s=>{const t=[],n=new Date;for(let r=0;r<s;r++){const a=new Date(n);a.setDate(a.getDate()+r),t.push(a.toISOString().split("T")[0])}return t},sv=()=>{const[s,t]=i.useState(!1),[n,r]=i.useState([]),[a,o]=i.useState([]),[l,c]=i.useState([]),d=tv(10),h=m=>{r(p=>[...p,m])},u=m=>{o(p=>p.includes(m)?p.filter(b=>b!==m):[...p,m])},f=async()=>{if(a.length===0||n.length===0){alert("Please select dates and add at least one slot.");return}try{const m=localStorage.getItem("token");await he.post("/api/slots",{dates:a,slots:n},{headers:{Authorization:`Bearer ${m}`}}),alert("Slot templates saved successfully."),r([]),o([]),x()}catch(m){console.error(m),alert("Failed to save slot templates.")}},x=async()=>{try{const m=localStorage.getItem("token"),p=await he.get("/api/slot-templates",{headers:{Authorization:`Bearer ${m}`}});c(p.data)}catch(m){console.error("Failed to fetch slot templates:",m)}};return i.useEffect(()=>{x()},[]),e.jsxs("div",{className:"p-6 max-w-5xl mx-auto bg-white shadow-xl rounded-2xl mt-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Slot Template Manager"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Select Dates"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:d.map(m=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.includes(m),onChange:()=>u(m),className:"accent-blue-500"}),e.jsx("span",{className:"text-sm",children:m})]},m))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Defined Slots"}),n.length>0?e.jsx("ul",{className:"list-disc list-inside text-gray-700 mb-4",children:n.map((m,p)=>e.jsxs("li",{children:[e.jsx("strong",{children:m.label})," - ",m.range]},p))}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No slots added yet."}),e.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"+ Add Time Slot"})]}),e.jsx("div",{className:"text-right",children:e.jsx("button",{onClick:f,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Save Slot Templates"})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>t(!1),children:e.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-lg",onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Add New Time Slot"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-gray-800",children:"Ã—"})]}),e.jsxs("form",{onSubmit:m=>{m.preventDefault();const p=new FormData(m.target),b={label:p.get("label"),range:p.get("range")};h(b),t(!1)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),e.jsx("input",{name:"label",type:"text",required:!0,placeholder:"e.g., Morning",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Time Range"}),e.jsx("input",{name:"range",type:"text",required:!0,placeholder:"e.g., 07:00-09:00",pattern:"[0-9]{2}:[0-9]{2}-[0-9]{2}:[0-9]{2}",className:"w-full border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Add Slot"})]})]})]})}),l.length>0&&e.jsxs("div",{className:"mt-10",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-gray-800",children:"All Slot Templates"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:l.map((m,p)=>{var b;return e.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-gray-50",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-700 mb-2",children:["ðŸ“… Date: ",m.date]}),(b=m.slots)==null?void 0:b.map((g,w)=>e.jsxs("p",{className:"text-sm text-gray-700",children:["â€¢ ",g.label,": ",g.range]},w))]},p)})})]})]})},nv=()=>{const[s,t]=i.useState([]),[n,r]=i.useState({}),[a,o]=i.useState({}),[l,c]=i.useState(!0),[d,h]=i.useState(null),[u,f]=i.useState({}),[x,m]=i.useState({});i.useEffect(()=>{(async()=>{try{c(!0),h(null);const y=localStorage.getItem("token"),E=await he.get("/api/show/slot-templates",{headers:{Authorization:`Bearer ${y}`}});t(E.data);const k=JSON.parse(localStorage.getItem("washermanEnabledSlots")||"{}");r(k)}catch{h("Failed to load slot templates. Please try again.")}finally{c(!1)}})()},[]);const p=(v,y)=>{const E=new Set(n[v]||[]);E.has(y.range)?E.delete(y.range):E.add(y.range);const k=[...E];r({...n,[v]:k}),localStorage.setItem("washermanEnabledSlots",JSON.stringify({...n,[v]:k})),m(j=>({...j,[v]:!1}))},b=(v,y,E)=>{o(k=>({...k,[v]:{...k[v],[y]:parseInt(E)}}))},g=async v=>{var E;f(k=>({...k,[v]:!0}));const y=localStorage.getItem("token");try{const k={date:v,enabledSlots:(((E=s.find(j=>j.date===v))==null?void 0:E.slots)||[]).filter(j=>{var M;return(M=n[v])==null?void 0:M.includes(j.range)}).map(j=>{var M;return{label:j.label,range:j.range,maxBookings:((M=a[v])==null?void 0:M[j.range])||1}})};await he.post("/api/show/slots/washer",k,{headers:{Authorization:`Bearer ${y}`}}),m(j=>({...j,[v]:!0})),setTimeout(()=>m(j=>({...j,[v]:!1})),3e3)}catch{h("Failed to save slots. Please try again.")}finally{f(k=>({...k,[v]:!1}))}},w=v=>new Date(v).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),S=v=>{const y=n[v]||[];return new Set(y).size},P=v=>{var k;const y=((k=s.find(j=>j.date===v))==null?void 0:k.slots)||[];return new Set(y.map(j=>j.range)).size},N=()=>window.location.reload();return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsx(Vt,{className:"w-12 h-12 text-blue-600 animate-spin"})}):d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:e.jsxs("div",{className:"text-center",children:[e.jsx(hd,{className:"w-12 h-12 text-red-500 mx-auto"}),e.jsx("p",{className:"text-red-600 mt-2",children:d}),e.jsxs("button",{onClick:N,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:[e.jsx(Yi,{className:"inline-block w-4 h-4 mr-1"}),"Try Again"]})]})}):e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:s.map(v=>{const y=v.date,E=P(y),k=S(y),j=u[y],M=x[y];return e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6 border",children:[e.jsxs("div",{className:"flex justify-between items-center bg-blue-100 px-4 py-2 border-b",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-800",children:w(y)}),e.jsx("p",{className:"text-sm text-gray-600",children:y})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[k,"/",E," Active Slots"]}),e.jsx("div",{className:"w-full bg-gray-200 h-2 rounded mt-1",children:e.jsx("div",{className:"h-2 bg-green-500 rounded",style:{width:`${k/E*100}%`}})})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4",children:v.slots.map(R=>{var z,q;const A=(z=n[y])==null?void 0:z.includes(R.range);return e.jsx("div",{className:`p-4 rounded border ${A?"bg-green-50 border-green-300":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-medium text-gray-800",children:R.label}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-1",children:[e.jsx(Js,{className:"w-4 h-4"}),e.jsx("span",{children:R.range})]}),A&&e.jsxs("div",{className:"mt-2",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Max Bookings"}),e.jsx("input",{type:"number",min:"1",value:((q=a[y])==null?void 0:q[R.range])||"",onChange:U=>b(y,R.range,U.target.value),className:"mt-1 w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer mt-1",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:()=>p(y,R),className:"sr-only peer"}),e.jsx("div",{className:"w-12 h-6 bg-gray-300 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-6 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-500 relative"})]})]})},R.range+R.label)})}),e.jsx("button",{onClick:()=>g(y),disabled:j,className:`w-full mt-4 py-2 rounded-lg font-semibold transition ${j?"bg-gray-400 text-white":M?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:j?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Vt,{className:"w-5 h-5 animate-spin mr-2"})," Saving..."]}):M?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Ln,{className:"w-5 h-5 mr-2"})," Saved!"]}):e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(Ks,{className:"w-5 h-5 mr-2"}),"Save for ",new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})})]},y)})})},rv=()=>{const{token:s}=Qc(),t=Ft(),[n,r]=i.useState(""),[a,o]=i.useState(""),l=async c=>{if(c.preventDefault(),!n||!a)return Ee.fire("Error","Please fill all fields","error");if(n!==a)return Ee.fire("Error","Passwords do not match","error");try{const d=await Fe(`/api/auth/reset-password/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:n})}),h=await d.json();d.ok?(Ee.fire("Success",h.message||"Password reset successful!","success"),t("/signin")):Ee.fire("Failed",h.message||"Token invalid or expired","error")}catch{Ee.fire("Error","Something went wrong","error")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50",children:e.jsxs("form",{onSubmit:l,className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Reset Your Password"}),e.jsx("input",{type:"password",placeholder:"New Password",className:"w-full border px-3 py-2 rounded",autoComplete:"new-password",value:n,onChange:c=>r(c.target.value)}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",className:"w-full border px-3 py-2 rounded",autoComplete:"new-password",value:a,onChange:c=>o(c.target.value)}),e.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Reset Password"})]})})},av=()=>e.jsxs("div",{className:"text-gray-600 font-sans",children:[e.jsxs("section",{className:"bg-blue-50 py-5 px-4 text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold",children:["Professional Laundry ",e.jsx("br",{}),e.jsx("span",{className:"text-blue-600",children:"At Your Doorstep"})]}),e.jsx("p",{className:"mt-1 text-md max-w-2xl mx-auto",children:"Experience hassle-free laundry service with pickup and delivery. Quality cleaning, affordable prices, and reliable service guaranteed."})]}),e.jsxs("section",{className:"bg-blue-50 py-5 px-4 grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-600 text-4xl",children:"âœ”ï¸"}),e.jsx("h3",{className:"text-xl font-semibold mt-2",children:"Quality Guaranteed"}),e.jsx("p",{children:"100% satisfaction or money back"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-600 text-4xl",children:"ðŸ›¡ï¸"}),e.jsx("h3",{className:"text-xl font-semibold mt-2",children:"Safe & Secure"}),e.jsx("p",{children:"Eco-friendly cleaning products"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-600 text-4xl",children:"ðŸšš"}),e.jsx("h3",{className:"text-xl font-semibold mt-2",children:"Free Delivery"}),e.jsx("p",{children:"Convenient doorstep service"})]})]}),e.jsxs("section",{className:"bg-white py-9 px-4 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-8",children:"Our Services"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[{title:"Ironing Service",desc:"Professional ironing for wrinkle-free clothes",icon:"ðŸ§¼"},{title:"Wash",desc:"Deep cleaning with fabric softener",icon:"âœ¨"},{title:"Dry Cleaning",desc:"Professional dry cleaning for delicate items",icon:"ðŸ›¡ï¸"},{title:"Express Service",desc:"Same day pickup and delivery",icon:"â±ï¸"}].map(s=>e.jsxs("div",{className:"border rounded-lg p-6 shadow hover:shadow-md transition",children:[e.jsx("div",{className:"text-3xl",children:s.icon}),e.jsx("h4",{className:"text-xl font-semibold mt-2",children:s.title}),e.jsx("p",{className:"text-sm mt-1",children:s.desc})]},s.title))})]}),e.jsxs("section",{className:"bg-gray-50 py-12 px-4 text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8",children:"How It Works"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[{title:"1. Schedule Pickup",desc:"Book online or call us to schedule a convenient pickup time",icon:"ðŸ“…"},{title:"2. We Clean",desc:"Professional cleaning with eco-friendly detergents and care",icon:"ðŸ§½"},{title:"3. We Iron",desc:"Expert ironing service for perfectly pressed clothes",icon:"ðŸ§º"},{title:"4. Free Delivery",desc:"Clean, fresh clothes delivered back to your doorstep",icon:"ðŸš›"}].map(s=>e.jsxs("div",{className:"rounded-lg border p-6 bg-white shadow hover:shadow-md transition",children:[e.jsx("div",{className:"text-3xl mb-2",children:s.icon}),e.jsx("h4",{className:"text-lg font-semibold",children:s.title}),e.jsx("p",{className:"text-sm mt-1",children:s.desc})]},s.title))})]})]}),ov=["places"],iv=({onServicesFound:s,onNoServices:t,onLocationSet:n,startInMap:r=!1})=>{const[a,o]=i.useState(null),[l,c]=i.useState(!1),[d,h]=i.useState(!1),[u,f]=i.useState(null),[x,m]=i.useState(""),[p,b]=i.useState(""),[g,w]=i.useState(!1),[S,P]=i.useState(!1),[N,v]=i.useState({lat:20.5937,lng:78.9629}),[y,E]=i.useState(null),[k,j]=i.useState(!1),[M,R]=i.useState({}),[A,z]=i.useState({}),q=C=>{if(!C)return{};const _=[C.road,C.suburb,C.neighbourhood].filter(Boolean);return{houseNumber:C.house_number||"",street:_.join(", "),landmark:C.landmark||C.public_building||"",city:C.city||C.town||C.village||C.county||"",state:C.state||"",zip:C.postcode||""}},U=()=>{var _,Q,Z,pe,G,Y;const C={};return(_=M.houseNumber)!=null&&_.trim()||(C.houseNumber="House/Flat/Block No. is required"),(Q=M.street)!=null&&Q.trim()||(C.street="Street/Area is required"),(Z=M.city)!=null&&Z.trim()||(C.city="City is required"),(pe=M.state)!=null&&pe.trim()||(C.state="State is required"),(!((G=M.zip)!=null&&G.trim())||((Y=M.zip)==null?void 0:Y.length)!==6)&&(C.zip="Valid 6-digit pincode is required"),z(C),Object.keys(C).length===0},{isLoaded:V,loadError:J}=va({googleMapsApiKey:"",libraries:ov});i.useEffect(()=>{const C=localStorage.getItem("customerLocation");if(C)try{const _=JSON.parse(C);o(_),r||(n(_),ie(_))}catch(_){console.error("Error parsing saved location:",_)}if(r&&(P(!0),C))try{const _=JSON.parse(C);v({lat:_.lat,lng:_.lng})}catch{}},[r]),i.useEffect(()=>{a&&ie(a)},[a]);const X=async()=>{c(!0),m("");try{const{getCurrentLocation:C}=await Cs(async()=>{const{getCurrentLocation:Q}=await import("./geocodingService-CP68Jhl_.js");return{getCurrentLocation:Q}},[]),_=await C();o(_),n(_);try{const Z=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${_.lat}&lon=${_.lng}&zoom=18&addressdetails=1`)).json();R(q(Z.address))}catch(Q){console.warn("Could not get detailed address info:",Q),R({})}j(!0),localStorage.setItem("customerLocation",JSON.stringify(_))}catch(C){console.error("Location detection error:",C),m(C.message||"Unable to detect your location. Please try manual address input."),w(!0)}finally{c(!1)}},oe=async(C,_)=>{const Q=localStorage.getItem("token");if(Q)try{const Z=_?{houseNo:_.houseNumber||"",street:_.street||"",landmark:_.landmark||"",city:_.city||"",state:_.state||"",pincode:_.zip||"",fullAddress:[_.houseNumber,_.street,_.landmark,_.city,_.state,_.zip].filter(Boolean).join(", "),coordinates:{lat:C.lat,lng:C.lng}}:null;await Re.post("/api/user/location",{lat:C.lat,lng:C.lng,address:_?{street:[_.houseNumber,_.street,_.landmark].filter(Boolean).join(", "),city:_.city,state:_.state,zip:_.zip}:C.address,deliveryAddress:Z},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`}}),Z&&localStorage.setItem("deliveryAddress",JSON.stringify(Z))}catch(Z){console.error("Failed to save location to backend:",Z)}},ie=async C=>{var Q,Z;h(!0),m("");const _=localStorage.getItem("token");if(!_){m("Please log in to check service availability"),h(!1);return}try{const G=(await Re.post("/api/check-availability",{lat:C.lat,lng:C.lng,address:C.address},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`}})).data;f(G),G.availability.servicesAvailable?s(G.services):t()}catch(pe){console.error("Error checking service availability:",pe),m(((Z=(Q=pe.response)==null?void 0:Q.data)==null?void 0:Z.message)||"Failed to check service availability"),t()}finally{h(!1)}},ne=async()=>{if(!p.trim()){m("Please enter an address");return}h(!0),m("");try{const _=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&addressdetails=1&limit=1&q=${encodeURIComponent(p)}`)).json();if(_.length===0){m("Address not found. Please try a different address."),h(!1);return}const Q=_[0],Z={lat:parseFloat(Q.lat),lng:parseFloat(Q.lon),address:Q.display_name};o(Z),n(Z),R(q(Q.address)),j(!0),localStorage.setItem("customerLocation",JSON.stringify(Z)),w(!1)}catch(C){console.error("Error geocoding address:",C),m("Failed to process address. Please try again."),h(!1)}},ee=()=>{o(null),f(null),m(""),b(""),w(!1),P(!1),E(null),localStorage.removeItem("customerLocation")},K=async C=>{if(C.latLng){const _=C.latLng.lat(),Q=C.latLng.lng();try{const pe=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${_}&lon=${Q}&zoom=18&addressdetails=1`)).json(),G={lat:_,lng:Q,address:pe.display_name||`${_.toFixed(4)}, ${Q.toFixed(4)}`};E(G),R(q(pe.address))}catch(Z){console.error("Error getting address:",Z);const pe={lat:_,lng:Q,address:`${_.toFixed(4)}, ${Q.toFixed(4)}`};E(pe),R({})}}},le=()=>{y&&(o(y),n(y),j(!0))};return a?e.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ðŸ“ Your Location"}),e.jsx("p",{className:"text-gray-600",children:a.address})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>P(!0),className:"text-blue-600 hover:text-blue-700 px-3 py-1 rounded border border-blue-300 hover:border-blue-400",title:"Change location on map",children:"ðŸ—ºï¸ Change on Map"}),e.jsx("button",{onClick:ee,className:"text-gray-500 hover:text-gray-700",title:"Reset location",children:"ðŸ”„"})]})]}),d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Checking service availability in your area..."})]}):u?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${u.availability.servicesAvailable?"bg-green-100 border border-green-400":"bg-yellow-100 border border-yellow-400"}`,children:[e.jsxs("div",{className:"flex items-center mb-2",children:[u.availability.servicesAvailable?e.jsx("span",{className:"text-green-600 text-xl mr-2",children:"âœ…"}):e.jsx("span",{className:"text-yellow-600 text-xl mr-2",children:"âš ï¸"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:u.availability.servicesAvailable?"Services Available!":"No Services Available"})]}),e.jsx("p",{className:"text-gray-700",children:u.message}),u.availability.servicesAvailable&&e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[e.jsxs("p",{children:["ðŸ“Š Found ",u.availability.totalServices," services"]}),e.jsxs("p",{children:["ðŸ‘¥ From ",u.availability.inRangeWashermen," washermen in your area"]})]}),u.suggestion&&e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:u.suggestion})]}),u.availability.servicesAvailable&&e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ðŸŽ¯ Range-Based Filtering Active"}),e.jsx("p",{className:"text-sm text-gray-700",children:"You're only seeing services from washermen whose service range covers your location. This ensures you can actually receive the services you see."})]})]}):null,k&&a&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Add Address Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("input",{className:`border rounded px-3 py-2 w-full ${A.houseNumber?"border-red-500":"border-gray-300"}`,placeholder:"House/Flat/Block No. *",value:M.houseNumber||"",onChange:C=>R({...M,houseNumber:C.target.value})}),A.houseNumber&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.houseNumber})]}),e.jsxs("div",{children:[e.jsx("input",{className:`border rounded px-3 py-2 w-full ${A.street?"border-red-500":"border-gray-300"}`,placeholder:"Street / Area *",value:M.street||"",onChange:C=>R({...M,street:C.target.value})}),A.street&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.street})]}),e.jsx("div",{children:e.jsx("input",{className:"border border-gray-300 rounded px-3 py-2 w-full",placeholder:"Landmark (optional)",value:M.landmark||"",onChange:C=>R({...M,landmark:C.target.value})})}),e.jsxs("div",{children:[e.jsx("input",{className:`border rounded px-3 py-2 w-full ${A.city?"border-red-500":"border-gray-300"}`,placeholder:"City *",value:M.city||"",onChange:C=>R({...M,city:C.target.value})}),A.city&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.city})]}),e.jsxs("div",{children:[e.jsx("input",{className:`border rounded px-3 py-2 w-full ${A.state?"border-red-500":"border-gray-300"}`,placeholder:"State *",value:M.state||"",onChange:C=>R({...M,state:C.target.value})}),A.state&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.state})]}),e.jsxs("div",{children:[e.jsx("input",{className:`border rounded px-3 py-2 w-full ${A.zip?"border-red-500":"border-gray-300"}`,placeholder:"Pincode *",value:M.zip||"",onChange:C=>R({...M,zip:C.target.value}),maxLength:6}),A.zip&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:A.zip})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 justify-end",children:[e.jsx("button",{className:"px-4 py-2 bg-gray-500 text-white rounded",onClick:()=>j(!1),children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:async()=>{if(U()){try{await oe(a,M)}catch{}await ie(a),j(!1),P(!1),E(null)}},children:"Save and Continue"})]})]}),S&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸ—ºï¸ Change Location on Map"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click anywhere on the map to select a new location. The selected location will be highlighted."})]}),V?J?e.jsx("div",{className:"h-96 md:h-[480px] bg-red-50 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-red-600",children:"Failed to load map. Please try again."})}):e.jsx("div",{className:"h-96 md:h-[480px] rounded-lg overflow-hidden border border-gray-300",children:e.jsxs($n,{center:a?{lat:a.lat,lng:a.lng}:N,zoom:15,mapContainerStyle:{height:"100%",width:"100%"},onClick:K,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1},children:[a&&e.jsx(Kt,{position:{lat:a.lat,lng:a.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                      <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="12" fill="#3b82f6" stroke="white" stroke-width="3"/>
                        <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ“</text>
                      </svg>
                    `)}}),y&&e.jsx(Kt,{position:{lat:y.lat,lng:y.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                      <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="12" fill="#ef4444" stroke="white" stroke-width="3"/>
                        <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸŽ¯</text>
                      </svg>
                    `)}})]})}):e.jsx("div",{className:"h-96 md:h-[480px] bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Loading map..."})]})}),y&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"New Selected Location:"}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:y.address}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:le,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"âœ… Update to This Location"}),e.jsx("button",{onClick:()=>E(null),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"ðŸ”„ Reselect"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:()=>{P(!1),E(null)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"})})]}),x&&e.jsx("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:x})]}):e.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ðŸ“ Set Your Location"}),e.jsx("p",{className:"text-gray-600",children:"We need your location to show you available laundry services"})]}),x&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:x}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:X,disabled:l,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Detecting Location..."]}):e.jsx(e.Fragment,{children:"ðŸ“ Detect My Location"})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-gray-500",children:"or"})}),e.jsx("button",{onClick:()=>w(!0),className:"w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200",children:"ðŸ“ Enter Address Manually"}),e.jsx("button",{onClick:()=>P(!0),className:"w-full bg-green-100 text-green-700 py-3 px-4 rounded-lg hover:bg-green-200",children:"ðŸ—ºï¸ Select from Map"})]}),g&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("input",{type:"text",value:p,onChange:C=>b(C.target.value),placeholder:"Enter your address...",className:"w-full p-3 border border-gray-300 rounded-lg mb-3"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:ne,disabled:d,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50",children:d?"Checking...":"Submit"}),e.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"Cancel"})]})]}),S&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸ—ºï¸ Select Location from Map"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click anywhere on the map to select your location. The selected location will be highlighted."})]}),!V||J?e.jsx("div",{className:"h-96 md:h-[480px] bg-gray-100 rounded-lg flex items-center justify-center border border-gray-300",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-gray-700 mb-1",children:"Map unavailable."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Please use Detect Location or Enter Address Manually."})]})}):e.jsx("div",{className:"h-96 md:h-[480px] rounded-lg overflow-hidden border border-gray-300",children:e.jsx($n,{center:N,zoom:12,mapContainerStyle:{height:"100%",width:"100%"},onClick:K,options:{zoomControl:!0,streetViewControl:!1,mapTypeControl:!0,fullscreenControl:!1},children:y&&e.jsx(Kt,{position:{lat:y.lat,lng:y.lng},icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
                      <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="12" fill="#ef4444" stroke="white" stroke-width="3"/>
                        <text x="16" y="20" text-anchor="middle" fill="white" font-size="12" font-weight="bold">ðŸ“</text>
                      </svg>
                    `)}})})}),y&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Selected Location:"}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:y.address}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:le,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"âœ… Confirm This Location"}),e.jsx("button",{onClick:()=>E(null),className:"flex-1 bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600",children:"ðŸ”„ Reselect"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:()=>{P(!1),E(null)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Cancel"})})]})]})},$i=s=>{const t=[],n=new Date,r=n.getFullYear(),a=n.getMonth(),o=n.getDate();for(let l=0;l<s;l++){const c=new Date(r,a,o+l),d=c.getFullYear()+"-"+String(c.getMonth()+1).padStart(2,"0")+"-"+String(c.getDate()).padStart(2,"0");t.push(d)}return t},Pr=()=>{const s=new Date;return s.getFullYear()+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0")},lv=({isAdmin:s=!1})=>{const t=i.useRef(""),n=i.useRef(null),r=i.useRef(!1),a=async l=>{if(r.current){console.log("Background slot generation already running, skipping...");return}r.current=!0;try{console.log("ðŸ”„ Background: Checking for new dates that need templates...");const c=localStorage.getItem("token");if(!c){console.log("Background: No token found, skipping auto-generation");return}const d=await he.get("/api/slot-templates",{headers:{Authorization:`Bearer ${c}`}}),h=d.data.map(b=>b.date),u=l.filter(b=>!h.includes(b));if(u.length===0){console.log("Background: All new dates already have templates");return}console.log("Background: New dates needing templates:",u);const f=Pr(),x=d.data.filter(b=>b.date>=f).sort((b,g)=>new Date(b.date).getTime()-new Date(g.date).getTime())[0];if(!x){console.log("Background: No recent template found to copy from");return}console.log("Background: Using template from",x.date,"as base for new templates");const p=(await he.post("/api/auto-generate-dates",{templateDate:x.date,numberOfDays:10},{headers:{Authorization:`Bearer ${c}`}})).data.results.filter(b=>b.status==="success").length;console.log(`Background: Auto-generated ${p} new templates`),p>0&&(console.log(`âœ… Background: Auto-generated ${p} new templates for upcoming dates`),window.dispatchEvent(new CustomEvent("slotTemplatesGenerated",{detail:{count:p,dates:u}})))}catch(c){console.error("Background: Error auto-generating templates for new dates:",c)}finally{r.current=!1}},o=async()=>{const l=Pr();if(l!==t.current){console.log("Background: Date changed detected:",t.current,"->",l),t.current=l;const c=$i(10);await a(c)}};return i.useEffect(()=>{if(!s)return;console.log("ðŸš€ Background Slot Generator started for admin user"),t.current=Pr();const l=$i(10);a(l),n.current=setInterval(()=>{o()},5*60*1e3);const c=()=>{document.hidden||(console.log("Background: Page became visible, checking for updates..."),o())};document.addEventListener("visibilitychange",c);const d=()=>{console.log("Background: Window focused, checking for updates..."),o()};return window.addEventListener("focus",d),()=>{n.current&&clearInterval(n.current),document.removeEventListener("visibilitychange",c),window.removeEventListener("focus",d),console.log("ðŸ›‘ Background Slot Generator stopped")}},[s]),null},cv=[{id:"all",name:"All"},{id:"shirt",name:"Shirt"},{id:"pant",name:"Pant"},{id:"suits",name:"Suits"},{id:"Bedsheet",name:"Bedsheet"}];function _i(){const s=Ft(),[t,n]=i.useState("services"),[r,a]=i.useState("all"),[o,l]=i.useState(""),[c,d]=i.useState(new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0]),[h,u]=i.useState(null),[f,x]=i.useState([]),[m,p]=i.useState([]),[b,g]=i.useState(!1),[w,S]=i.useState(null),[P,N]=i.useState(!1),[v,y]=i.useState(null),[E,k]=i.useState(!1),[j,M]=i.useState(""),[R,A]=i.useState(!1),[z,q]=i.useState(!1),{cartItems:U,addToCart:V,removeFromCart:J,updateQuantity:X,getTotalItems:oe,clearCart:ie}=zh(),[ne,ee]=i.useState(""),K=async()=>{try{const $=await he.get("/api/product/all");p($.data||[])}catch($){console.error("âŒ Failed to load fallback services:",$),p([])}};i.useEffect(()=>{h?localStorage.setItem("selectedTimeSlot",JSON.stringify(h)):localStorage.removeItem("selectedTimeSlot")},[h]),i.useEffect(()=>{localStorage.setItem("selectedDate",c)},[c]),i.useEffect(()=>{const $=yn(c);x($),u(null)},[c]),i.useEffect(()=>(P?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[P]),i.useEffect(()=>{(async()=>{if(!localStorage.getItem("token"))return;const ce=localStorage.getItem("customerLocation");if(!ce&&!z)N(!0),q(!0);else if(ce)try{const xe=JSON.parse(ce);y(xe),A(!0),le(xe.lat,xe.lng)}catch(xe){console.error("Error parsing saved location:",xe),z||(N(!0),q(!0))}})()},[z]),i.useEffect(()=>{const $=localStorage.getItem("customerLocation");if($&&!v)try{const W=JSON.parse($);y(W)}catch(W){console.error("Error parsing saved location:",W)}},[v]);const le=async($,W,ce)=>{try{const xe=ce||localStorage.getItem("token")||"",ve=xe?{Authorization:`Bearer ${xe}`}:void 0,Ne=await he.get("/api/customer/nearby-services",{headers:ve,params:{lat:$,lng:W}});console.log("ðŸ§¾ Nearby services response:",Ne.data),Array.isArray(Ne.data)?p(Ne.data):(console.error("âŒ Invalid nearby response format:",Ne.data),K())}catch(xe){console.error("âŒ Failed to fetch nearby services:",xe),K()}};i.useEffect(()=>{(async()=>{const W=localStorage.getItem("token");try{if(!W){const ve=await he.get("/api/product/all");p(ve.data||[]);return}const xe=(await he.get("/api/user/currentuser",{headers:{Authorization:`Bearer ${W}`}})).data;if(g(!0),S(xe.role),xe.role==="customer")"geolocation"in navigator?navigator.geolocation.getCurrentPosition(ve=>{const Ne=ve.coords.latitude,ot=ve.coords.longitude;le(Ne,ot,W)},ve=>{console.warn("âŒ Location error:",ve),K()}):K();else{const ve=await he.get("/api/product/all");p(ve.data||[])}}catch(ce){console.error("âŒ Error fetching user or services:",ce),g(!1),K()}})()},[]);const C=m.filter($=>{var Qe;const W=($.title||$.name||$.serviceName||"").toLowerCase(),ce=(((Qe=$.washerman)==null?void 0:Qe.name)||$.washermanName||$.laundryman||"").toLowerCase(),xe=($.category||"").toLowerCase(),ve=o.trim().toLowerCase(),Ne=r==="all"||xe===r.toLowerCase(),ot=ve===""||W.includes(ve)||ce.includes(ve);return Ne&&ot}),_=($,W,ce)=>{V($,W,ce)},Q=()=>{if(U.length>0){if(b&&!v){alert("Please set your delivery location before proceeding to booking. Location is required for delivery."),N(!0),q(!0);return}n("booking");const $=yn(c);x($),u(null)}},Z=()=>{N(!0),q(!0)},pe=()=>{n("services");const $=yn(c);x($),u(null)},G=()=>{n("services"),ie(),u(null);const $=yn(c);x($),s("/payment",{state:{cartItems:U,selectedDate:c,selectedTimeSlot:h}})},Y=$=>s($),$e=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Vs,{searchQuery:o,onSearchChange:l,cartItemCount:oe(),onCartClick:Q,onContactClick:()=>Y("/contact"),onAboutClick:()=>Y("/about"),onOrdersClick:()=>Y("/orders"),onHomeClick:()=>Y("/mainapp"),onSignInClick:()=>Y("/signin"),onSignUpClick:()=>Y("/signup"),onProfileClick:()=>Y("/CustomerDashboard")}),b&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-blue-600",children:"ðŸ“"}),v?e.jsxs("span",{className:"text-sm text-blue-800",children:["Delivering to: ",v.address]}):e.jsx("span",{className:"text-sm text-red-600 font-medium",children:"Location required for delivery"})]}),e.jsx("button",{onClick:Z,className:`text-sm font-medium transition-colors ${v?"text-blue-600 hover:text-blue-700":"text-red-600 hover:text-red-700 bg-red-100 px-3 py-1 rounded-lg"}`,children:v?"Change Location":"Add Location"})]})}),e.jsx("div",{children:e.jsx(av,{})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsx(_h,{categories:cv,selectedCategory:r,onCategoryChange:a}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-8",children:C.map($=>e.jsx(iu,{service:$,onAddToCart:_},$._id))}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ys,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),U.length>0&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-blue-600 text-white p-3 md:p-4 shadow-lg",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("span",{className:"font-semibold text-sm md:text-base",children:[oe()," items selected"]}),e.jsx("button",{onClick:Q,className:"bg-white text-blue-600 px-4 md:px-6 py-2 rounded-lg font-semibold hover:bg-gray-100 transition-colors text-sm md:text-base",children:"Proceed to Order"})]})})]})]}),F=()=>e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Vs,{searchQuery:o,onSearchChange:l,cartItemCount:oe(),onCartClick:()=>{},onContactClick:()=>Y("/contact"),onAboutClick:()=>Y("/about"),onOrdersClick:()=>Y("/orders"),onHomeClick:()=>Y("/mainapp"),onSignInClick:()=>Y("/signin"),onSignUpClick:()=>Y("/signup"),onProfileClick:()=>Y("/CustomerDashboard")}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-8",children:[e.jsxs("button",{onClick:pe,className:"mb-6 flex items-center space-x-2 text-blue-600 hover:text-blue-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium",children:"Back to Products"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Fh,{timeSlots:f,selectedDate:c,selectedTimeSlot:h,onDateChange:d,onTimeSlotSelect:u})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx($h,{cartItems:U,selectedDate:c,selectedTimeSlot:h,onCompleteOrder:G,onRemoveFromCart:J,onUpdateQuantity:X})})]})]})]});return e.jsxs(e.Fragment,{children:[t==="services"?$e():F(),b&&P&&e.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 p-0 md:p-4",children:e.jsxs("div",{className:"bg-white w-full h-[100vh] md:h-auto md:max-w-3xl md:rounded-lg shadow-xl p-0 md:p-4 overflow-y-auto max-h-[100vh]",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 md:p-0 md:mb-2 border-b md:border-0 bg-white",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Choose Your Delivery Location"}),e.jsx("button",{onClick:()=>{v&&localStorage.setItem("customerLocation",JSON.stringify(v)),N(!1),q(!0)},className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),e.jsx("div",{className:"px-4 pb-4 md:p-0",children:e.jsx(iv,{onServicesFound:$=>{p(Array.isArray($)?$:[]),A(!0)},onNoServices:()=>{A(!0)},onLocationSet:$=>{y($),localStorage.setItem("customerLocation",JSON.stringify($))},startInMap:!0})})]})})]})}function dv(){const[s,t]=i.useState([]),[n,r]=i.useState("list");i.useEffect(()=>{(async()=>{try{const d=localStorage.getItem("token"),u=await(await Fe("/api/product/all",{headers:{Authorization:`Bearer ${d}`}})).json();t(u)}catch(d){console.error("Failed to fetch services:",d)}})()},[]);const a=async c=>{try{const d=localStorage.getItem("token"),u=await(await Fe("/api/product",{method:"POST",headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).json();t(f=>[u,...f]),r("list")}catch(d){console.error("Add service failed:",d)}},o=(c,d)=>{t(h=>h.map(u=>u._id===c?{...u,...d,updatedAt:new Date().toISOString()}:u))},l=c=>{t(d=>d.filter(h=>h._id!==c))};return e.jsx("div",{className:"App",children:n==="form"?e.jsx(Xx,{onSubmit:a,onBack:()=>r("list")}):e.jsx(ev,{services:s,onEdit:o,onDelete:l,onAddNew:()=>r("form")})})}function uv(){const[s,t]=i.useState(!1);return i.useEffect(()=>{(async()=>{const r=localStorage.getItem("token");if(r)try{const o=(await he.get("/api/user/currentuser",{headers:{Authorization:`Bearer ${r}`}})).data;t(o.role==="admin")}catch(a){console.error("Error checking admin status:",a)}})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(lv,{isAdmin:s}),e.jsx(cd,{}),e.jsxs(ed,{children:[e.jsx(We,{path:"/",element:e.jsx(_i,{})}),e.jsx(We,{path:"/mainapp",element:e.jsx(_i,{})}),e.jsx(We,{path:"/contact",element:e.jsx(Vh,{})}),e.jsx(We,{path:"/about",element:e.jsx(Kh,{})}),e.jsx(We,{path:"/orders",element:e.jsx(sm,{})}),e.jsx(We,{path:"/signin",element:e.jsx(Gg,{})}),e.jsx(We,{path:"/signup",element:e.jsx(Zg,{})}),e.jsx(We,{path:"/LaundrymanDashboard",element:e.jsx(Vx,{})}),e.jsx(We,{path:"/CustomerDashboard",element:e.jsx(Jx,{})}),e.jsx(We,{path:"/adminservices",element:e.jsx(dv,{})}),e.jsx(We,{path:"/adminDashboard",element:e.jsx(Kx,{})}),e.jsx(We,{path:"/payment",element:e.jsx(Wg,{})}),e.jsx(We,{path:"/SlotTemplateManager",element:e.jsx(sv,{})}),e.jsx(We,{path:"/WashermanSlotToggle",element:e.jsx(nv,{})}),e.jsx(We,{path:"/SlotTemplateManagers",element:e.jsx(Fc,{})}),e.jsx(We,{path:"/location-test",element:e.jsx(Ux,{})}),e.jsx(We,{path:"/location-debug",element:e.jsx(qx,{})}),e.jsx(We,{path:"/nearby-washermen",element:e.jsx(zx,{})}),e.jsx(We,{path:"/reset-password/:token",element:e.jsx(rv,{})}),e.jsx(We,{path:"/AdminMessages",element:e.jsx($c,{})})]})]})}function hv(s={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:a,onRegisteredSW:o,onRegisterError:l}=s;let c,d;const h=async(f=!0)=>{await d};async function u(){if("serviceWorker"in navigator){if(c=await Cs(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{l==null||l(f)}),!c)return;c.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),c.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),c.register({immediate:t}).then(f=>{o?o("/sw.js",f):a==null||a(f)}).catch(f=>{l==null||l(f)})}}return d=u(),h}hv({immediate:!0});od.createRoot(document.getElementById("root")).render(e.jsx(Ui.StrictMode,{children:e.jsx(td,{children:e.jsx(uv,{})})}));export{Js as C,Za as T,Ys as W,Cd as a,Ha as b,me as c,e as j};
